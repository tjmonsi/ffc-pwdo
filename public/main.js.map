{"version":3,"sources":["webpack:///webpack/bootstrap d481869a3d05d6861bf3","webpack:///./app/node_modules/@polymer/polymer/lib/utils/boot.js","webpack:///./app/node_modules/@littleq/state-manager/index.js","webpack:///(webpack)/buildin/global.js","webpack:///./app/node_modules/@polymer/polymer/lib/utils/mixin.js","webpack:///./app/node_modules/global/window.js","webpack:///./app/node_modules/@polymer/polymer/lib/utils/async.js","webpack:///./app/node_modules/@polymer/polymer/lib/utils/resolve-url.js","webpack:///./app/node_modules/redux/es/index.js","webpack:///./app/node_modules/@polymer/polymer/lib/utils/case-map.js","webpack:///./app/node_modules/@polymer/polymer/polymer-element.js","webpack:///./app/node_modules/@polymer/polymer/lib/utils/path.js","webpack:///./app/node_modules/@polymer/polymer/lib/utils/debounce.js","webpack:///./app/node_modules/@polymer/polymer/lib/utils/settings.js","webpack:///./app/node_modules/redux/es/createStore.js","webpack:///./app/node_modules/lodash-es/isPlainObject.js","webpack:///./app/node_modules/lodash-es/_Symbol.js","webpack:///./app/node_modules/redux/es/utils/warning.js","webpack:///./app/node_modules/redux/es/compose.js","webpack:///./app/node_modules/@littleq/littleq-router/lib/reducer.js","webpack:///./app/node_modules/path-to-regexp/index.js","webpack:///./app/node_modules/@littleq/location-mixin/index.js","webpack:///./app/node_modules/@littleq/query-params-mixin/index.js","webpack:///./app/node_modules/@polymer/polymer/lib/mixins/property-effects.js","webpack:///./app/shell/index.js","webpack:///./app/system/core/components/lazy-loader.js","webpack:///./app/system/core/fragments/index.js","webpack:///./app/node_modules/@polymer/polymer/lib/mixins/element-mixin.js","webpack:///./app/node_modules/@polymer/polymer/lib/utils/style-gather.js","webpack:///./app/node_modules/@polymer/polymer/lib/elements/dom-module.js","webpack:///./app/node_modules/@polymer/polymer/lib/mixins/property-accessors.js","webpack:///./app/node_modules/@polymer/polymer/lib/mixins/template-stamp.js","webpack:///./app/node_modules/@polymer/polymer/lib/utils/gestures.js","webpack:///./app/node_modules/lodash-es/_baseGetTag.js","webpack:///./app/node_modules/lodash-es/_root.js","webpack:///./app/node_modules/lodash-es/_freeGlobal.js","webpack:///./app/node_modules/lodash-es/_getRawTag.js","webpack:///./app/node_modules/lodash-es/_objectToString.js","webpack:///./app/node_modules/lodash-es/_getPrototype.js","webpack:///./app/node_modules/lodash-es/_overArg.js","webpack:///./app/node_modules/lodash-es/isObjectLike.js","webpack:///./app/node_modules/symbol-observable/index.js","webpack:///./app/node_modules/symbol-observable/lib/index.js","webpack:///(webpack)/buildin/module.js","webpack:///./app/node_modules/symbol-observable/lib/ponyfill.js","webpack:///./app/node_modules/redux/es/combineReducers.js","webpack:///./app/node_modules/redux/es/bindActionCreators.js","webpack:///./app/node_modules/redux/es/applyMiddleware.js","webpack:///./app/node_modules/@littleq/state-manager/mixins/polymer-redux.js","webpack:///./app/node_modules/@littleq/littleq-router/index.js","webpack:///./app/node_modules/@littleq/littleq-router/littleq-router.js","webpack:///./app/node_modules/@littleq/littleq-router/lib/get-animation-event.js","webpack:///./app/node_modules/@littleq/location-mixin/lib/reducer.js","webpack:///./app/node_modules/@littleq/location-mixin/lib/resolve-url.js","webpack:///./app/node_modules/@littleq/query-params-mixin/lib/reducer.js","webpack:///./app/node_modules/@littleq/littleq-router/littleq-route.js","webpack:///./app/node_modules/@littleq/littleq-router/lib/get-routes.js","webpack:///./app/node_modules/@polymer/polymer/lib/mixins/gesture-event-listeners.js","webpack:///./node_modules/css-loader/lib/css-base.js"],"names":["window","JSCompiler_renameProperty","prop","obj","Polymer","reducers","initial","store","state","action","ReduxMixin","g","Function","eval","e","module","exports","dedupeId","MixinFunction","prototype","__mixinApplications","__mixinSet","dedupingMixin","mixin","mixinApplications","WeakMap","mixinDedupeId","base","baseSet","map","extended","get","set","mixinSet","Object","create","win","global","self","AsyncInterface","microtaskCurrHandle","microtaskLastHandle","microtaskCallbacks","microtaskNodeContent","microtaskNode","document","createTextNode","MutationObserver","microtaskFlush","observe","characterData","len","length","i","cb","setTimeout","splice","timeOut","after","delay","run","fn","cancel","clearTimeout","bind","animationFrame","requestAnimationFrame","cancelAnimationFrame","idlePeriod","requestIdleCallback","handle","cancelIdleCallback","microTask","callback","textContent","push","idx","Error","CSS_URL_RX","ABS_URL","workingURL","resolveDoc","resolveUrl","url","baseURI","test","undefined","u","URL","pathname","href","location","implementation","createHTMLDocument","createElement","head","appendChild","anchor","body","resolveCss","cssText","replace","m","pre","post","pathFromUrl","substring","lastIndexOf","isCrushed","name","createStore","combineReducers","bindActionCreators","applyMiddleware","compose","dashToCamelCase","camelToDashCase","caseMap","DASH_TO_CAMEL","CAMEL_TO_DASH","dash","indexOf","toUpperCase","camel","toLowerCase","Element","HTMLElement","isPath","root","isAncestor","isDescendant","translate","matches","normalize","split","path","dotIndex","slice","newBase","Array","isArray","parts","args","toString","j","join","info","part","value","last","isDeep","AsyncModule","Debouncer","_asyncModule","_callback","_timer","asyncModule","isActive","debouncer","setConfig","settings","useShadow","ShadyDOM","useNativeCSSProperties","Boolean","ShadyCSS","nativeCss","useNativeCustomElements","customElements","polyfillWrapFlushCallback","Settings","rootPath","setRootPath","sanitizeDOMValue","setSanitizeDOMValue","newSanitizeDOMValue","ActionTypes","INIT","reducer","preloadedState","enhancer","_ref2","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","getState","subscribe","listener","isSubscribed","unsubscribe","index","dispatch","type","listeners","replaceReducer","nextReducer","observable","_ref","outerSubscribe","observer","TypeError","observeState","next","objectTag","funcProto","objectProto","funcToString","hasOwnProperty","objectCtorString","call","isPlainObject","proto","Ctor","constructor","Symbol","warning","message","console","error","_len","arguments","funcs","_key","arg","reduce","a","b","apply","ROUTER_ACTION","PARAMS","ROUTE","router","assign","params","route","pathToRegexp","parse","compile","tokensToFunction","tokensToRegExp","DEFAULT_DELIMITER","DEFAULT_DELIMITERS","PATH_REGEXP","RegExp","str","options","tokens","key","defaultDelimiter","delimiter","delimiters","pathEscaped","res","exec","escaped","offset","prev","capture","group","modifier","k","partial","repeat","optional","pattern","prefix","escapeGroup","escapeString","substr","data","encode","encodeURIComponent","token","segment","String","flags","sensitive","regexpToRegexp","keys","groups","source","match","arrayToRegexp","stringToRegexp","strict","end","endsWith","concat","isEndDelimited","superClass","statePath","query","urlSpaceRegex","hash","dwellTime","Number","_urlSpaceRegExp","computed","_lastChangedAt","_initialized","_boundHashChanged","_hashChanged","_boundUrlChanged","_urlChanged","_boundGlobalOnClick","_globalOnClick","addEventListener","performance","now","removeEventListener","HASH","decodeURIComponent","_dontUpdateUrl","PATH","QUERY","search","_updateUrl","partiallyEncodedPath","encodeURI","partiallyEncodedQuery","partiallyEncodedHash","newUrl","_getUrl","fullNewUrl","protocol","host","shouldReplace","history","replaceState","pushState","dispatchEvent","CustomEvent","event","defaultPrevented","_getSameOriginLinkHref","preventDefault","button","metaKey","ctrlKey","eventPath","composedPath","element","tagName","target","ga","top","origin","urlOrigin","normalizedHref","fullNormalizedHref","paramsObject","_dontReact","paramsString","UPDATE","_decodeParams","_encodeParams","encodedParams","paramString","paramList","param","CaseMap","TYPES","COMPUTE","REFLECT","NOTIFY","PROPAGATE","OBSERVE","READ_ONLY","DataTrigger","DataEffect","PropertyEffectsType","ensureOwnEffectMap","model","effects","p","protoFx","instFx","runEffects","inst","props","oldProps","hasPaths","extraArgs","ran","id","runEffectsForProperty","rootProperty","fxs","l","fx","lastRun","pathMatchesTrigger","trigger","triggerPath","structured","wildcard","runObserverEffect","property","methodName","changedProp","__data","dynamicFn","warn","runNotifyEffects","notifyProps","notified","notifyPath","__dataHost","_invalidateProperties","eventName","dispatchNotifyEvent","detail","queueProperty","runNotifyEffect","handleNotification","fromProp","toPath","negate","fromPath","_setPendingPropertyOrPath","runReflectEffect","attrName","_propertyToAttribute","runComputedEffects","changedProps","computeEffects","inputProps","__dataOld","__dataPending","runComputedEffect","result","runMethodEffect","computedProp","methodInfo","__dataHasAccessor","_setPendingProperty","computeLinkedPaths","links","__dataLinkedPaths","link","addBinding","templateInfo","nodeInfo","kind","literal","bindings","binding","isCompound","shouldAddListener","listenerEvent","listenerNegate","nodeInfoList","compoundIndex","addEffectForBindingPart","dependencies","evaluator","parseArg","_addTemplatePropertyEffect","runBindingEffect","nodeList","node","_enqueueClient","_evaluateBinding","applyBindingValue","computeBindingValue","_valueToNodeAttribute","_setUnmanagedPropertyToNode","storage","__dataCompoundStorage","localName","mode","setupBindings","setupCompoundStorage","addNotifyListener","literals","createMethodEffect","sig","effectFn","static","_addPropertyEffect","context","_methodHost","marshalArgs","emptyArray","IDENT","NUMBER","SQUOTE_STRING","DQUOTE_STRING","STRING","ARGUMENT","ARGUMENTS","ARGUMENT_LIST","BINDING","OPEN_BRACKET","CLOSE_BRACKET","NEGATE","EXPRESSION","bindingRegex","literalFromParts","s","parseMethod","expression","trim","parseArgs","argList","rawArg","fc","values","v","baseChanged","notifySplices","array","splices","splicesPath","indexSplices","notifySplice","addedCount","removed","object","upper","PropertyEffects","propertyEffectsBase","__dataClientsReady","__dataPendingClients","__dataToNotify","__dataHasPaths","__dataTemp","__dataClientsInitialized","__computeEffects","__reflectEffects","__notifyEffects","__propagateEffects","__observeEffects","__readOnly","__dataCounter","__templateInfo","hostStack","registerHost","readOnly","effect","_createPropertyAccessor","_hasPropertyEffect","shouldNotify","isPathNotification","old","prevProps","_shouldPropertyChange","__dataReady","_flushProperties","client","_readyClients","__enableOrFlushClients","clients","__dataEnabled","_enableProperties","setReadOnly","_flushClients","currentProps","_propagatePropertyChanges","propertyEffects","nextTemplateInfo","to","from","items","ret","hadLength","pop","start","deleteCount","Math","floor","shift","unshift","propPath","protectedSetter","_setProperty","attr","template","instanceBinding","_parseTemplate","wasPreBound","__templateInfoLast","previousTemplateInfo","beginHosting","dom","endHosting","_bindTemplate","nodes","childNodes","n","firstChild","nextSibling","parentNode","removeChild","_createPropertyObserver","_createMethodObserver","_createNotifyingProperty","_createReadOnlyProperty","_createReflectedProperty","_createComputedProperty","hostProps","propEffects","noted","nodeType","Node","TEXT_NODE","_parseBindings","origName","setAttribute","removeAttribute","text","lastIndex","customEvent","notifyEvent","colon","signature","dynamicFns","stack","stackLen","LazyLoader","Promise","reject","is","define","_regLog","register","dumpRegistrations","caseMap$0","ElementMixin","polymerElementBase","ownPropertiesForClass","klass","__ownProperties","properties","ownObserversForClass","__ownObservers","observers","flattenProperties","flattenedProps","o","propertiesForClass","__classProperties","superCtor","getPrototypeOf","PolymerElement","propertyDefaultsForClass","__classPropertyDefaults","hasClassFinalized","finalizeClassAndSuper","finalize","finalizeClass","__finalized","finalizeProperties","finalizeObservers","t","innerHTML","cloneNode","_template","createPropertyFromConfig","allProps","_hasReadOnlyEffect","reflectToAttribute","_hasReflectEffect","notify","_hasNotifyEffect","finalizeTemplate","ext","style","content","insertBefore","prepareTemplate","list","__observedAttributes","import","_importPath","assetpath","importPath","$","instanceCount","__polymerFinalized","__proto__","p$","_hasAccessor","styleElement","_stampTemplate","_attachDom","attachShadow","shadowRoot","_attributeToProperty","styleSubtree","registrations","log","forEach","updateStyles","styleDocument","cssFromModules","cssFromModule","cssFromTemplate","cssFromModuleImports","_cssFromModuleImports","MODULE_STYLE_LINK_SELECTOR","INCLUDE_ATTR","importModule","moduleId","PolymerDomModule","templateWithAssetPath","moduleIds","modules","_cssText","querySelector","e$","querySelectorAll","include","getAttribute","importDoc","container","lcModules","findModule","styleOutsideTemplateCheck","DomModule","__assetpath","owner","HTMLImports","importForElement","ownerDocument","selector","microtask","nativeProperties","getOwnPropertyNames","saveAccessorValue","__dataProto","PropertyAccessors","a$","observedAttributes","__serializing","__dataInvalid","__dataInstanceProps","_initializeProperties","_initializeProtoProperties","attribute","hasAttribute","_deserializeValue","_serializeValue","Date","JSON","stringify","x","outValue","defineProperty","changed","_initializeInstanceProperties","ready","_propertiesChanged","templateExtensions","wrapTemplateExtension","replaceChild","attributes","findTemplateNode","parent","parentInfo","parentIndex","applyIdToMap","applyEventListener","events","_addMethodEventListenerToNode","applyTemplateContent","_templateInfo","createNodeEventHandler","handler","TemplateStamp","HTMLTemplateElement","decorate","importNode","__noInsertionPoint","hasInsertionPoint","_addEventListenerToNode","outerTemplateInfo","stripWhiteSpace","_parseTemplateContent","_parseTemplateNode","_parseTemplateNestedTemplate","_parseTemplateChildNodes","hasAttributes","_parseTemplateNodeAttributes","childInfo","infoIndex","createDocumentFragment","attrs","_parseTemplateNodeAttribute","deepTargetFind","_findOriginalTarget","_handleNative","_handleTouchAction","addListener","removeListener","_add","_remove","_findRecognizerByEvent","setTouchAction","resetMouseCanceller","HAS_NATIVE_TA","touchAction","GESTURE_KEY","HANDLED_OBJ","TOUCH_ACTION","TAP_DISTANCE","TRACK_DISTANCE","TRACK_LENGTH","MOUSE_TIMEOUT","MOUSE_EVENTS","MOUSE_WHICH_TO_BUTTONS","MOUSE_HAS_BUTTONS","MouseEvent","buttons","SUPPORTS_PASSIVE","opts","IS_TOUCH_ONLY","navigator","userAgent","GestureRecognizer","reset","mousedown","mousemove","mouseup","touchstart","touchmove","touchend","click","mouseCanceller","mouseEvent","sc","sourceCapabilities","firesTouchEvents","skip","POINTERSTATE","mouse","stopPropagation","setupTeardownMouseCanceller","setup","en","ignoreMouse","mouseIgnoreJob","unset","debounce","hasLeftMouseButton","ev","which","isSyntheticClick","ELEMENT_NODE","bcr","getBoundingClientRect","pageX","y","pageY","left","right","bottom","touch","scrollDecided","firstTouchAction","ta","trackDocument","stateObj","movefn","upfn","untrackDocument","passive","gestures","recognizers","elementFromPoint","oldNext","handled","currentTarget","gobj","gs","changedTouches","touches","identifier","r","flow","clientX","clientY","prevent","dx","abs","dy","cancelable","evType","recognizer","deps","dep","gd","_count","recog","emits","evName","_fire","Event","bubbles","composed","preventer","sourceEvent","flush","started","moves","addMove","move","hasMovedEnough","ct","secondlast","lastmove","ddx","ddy","hover","NaN","save","forward","isNaN","findOriginalTarget","add","remove","nullTag","undefinedTag","symToStringTag","toStringTag","baseGetTag","freeSelf","freeGlobal","nativeObjectToString","getRawTag","isOwn","tag","unmasked","objectToString","getPrototype","overArg","func","transform","isObjectLike","require","_ponyfill","_ponyfill2","_interopRequireDefault","__esModule","webpackPolyfill","deprecate","paths","children","enumerable","symbolObservablePonyfill","_Symbol","getUndefinedStateErrorMessage","actionType","actionName","getUnexpectedStateShapeWarningMessage","inputState","unexpectedKeyCache","reducerKeys","argumentName","unexpectedKeys","filter","assertReducerShape","initialState","random","finalReducers","finalReducerKeys","shapeAssertionError","combination","warningMessage","hasChanged","nextState","_i","previousStateForKey","nextStateForKey","errorMessage","bindActionCreator","actionCreator","actionCreators","boundActionCreators","_extends","middlewares","_dispatch","chain","middlewareAPI","middleware","PolymerRedux","every","subscribers","Map","update","propertiesChanged","unbind","off","collect","what","actions","configurable","_reduxActions","originalAction","LittleqRouter","defaultRedirect","currentRoute","_setKeyframeStyles","_getLazyLoader","lazy","_lazyLoader","_debouncer","re","oldPage","transition","_timeOut","contains","_checkMiddlewares","_removePageAfterTransition","animation","classList","_removePageListenerFallback","child","_addMiddleware","_lazyLoadMiddleware","_getMiddleware","_getMiddlewares","resolve","then","catch","page","redirect","_loadPage","_loadRedirect","_loadDefaultRedirect","all","_processMiddlewares","_lazyLoadPage","_showPage","el","animations","LOCATION_ACTION","urlDoc","urlBase","QUERYPARAMS_ACTION","LittleqRoute","_removePage","_processPage","_routeMatches","_checkIfRouteMatches","getRoutes","gestures$0","GestureEventListeners","useSourceMap","item","cssWithMappingToString","mediaQuery","alreadyImportedModules","cssMapping","btoa","sourceMapping","toComment","sourceURLs","sources","sourceRoot","sourceMap","base64","unescape"],"mappings":"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","file":"main.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tvar parentJsonpFunction = window[\"webpackJsonp\"];\n \twindow[\"webpackJsonp\"] = function webpackJsonpCallback(chunkIds, moreModules, executeModules) {\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [], result;\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(chunkIds, moreModules, executeModules);\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t};\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// objects to store loaded and loading chunks\n \tvar installedChunks = {\n \t\t5: 0\n \t};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData === 0) {\n \t\t\treturn new Promise(function(resolve) { resolve(); });\n \t\t}\n\n \t\t// a Promise means \"currently loading\".\n \t\tif(installedChunkData) {\n \t\t\treturn installedChunkData[2];\n \t\t}\n\n \t\t// setup Promise in chunk cache\n \t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t});\n \t\tinstalledChunkData[2] = promise;\n\n \t\t// start chunk loading\n \t\tvar head = document.getElementsByTagName('head')[0];\n \t\tvar script = document.createElement('script');\n \t\tscript.type = 'text/javascript';\n \t\tscript.charset = 'utf-8';\n \t\tscript.async = true;\n \t\tscript.timeout = 120000;\n\n \t\tif (__webpack_require__.nc) {\n \t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t}\n \t\tscript.src = __webpack_require__.p + \"\" + ({\"0\":\"page-speakers\",\"1\":\"page-schedule\",\"2\":\"page-home\",\"3\":\"page-not-found\",\"4\":\"page-not-authorized\"}[chunkId]||chunkId) + \".fragment.\" + chunkId + \".js\";\n \t\tvar timeout = setTimeout(onScriptComplete, 120000);\n \t\tscript.onerror = script.onload = onScriptComplete;\n \t\tfunction onScriptComplete() {\n \t\t\t// avoid mem leaks in IE.\n \t\t\tscript.onerror = script.onload = null;\n \t\t\tclearTimeout(timeout);\n \t\t\tvar chunk = installedChunks[chunkId];\n \t\t\tif(chunk !== 0) {\n \t\t\t\tif(chunk) {\n \t\t\t\t\tchunk[1](new Error('Loading chunk ' + chunkId + ' failed.'));\n \t\t\t\t}\n \t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t}\n \t\t};\n \t\thead.appendChild(script);\n\n \t\treturn promise;\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 32);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d481869a3d05d6861bf3","window.JSCompiler_renameProperty = function(prop, obj) { return prop; }\n\n/** @namespace */\nlet Polymer;\n\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/@polymer/polymer/lib/utils/boot.js","import { createStore } from 'redux';\nimport PolymerRedux from './mixins/polymer-redux';\n\nconst reducers = {};\nconst initial = {};\nconst store = createStore((state = initial, action) => state);\nconst ReduxMixin = PolymerRedux(store);\n\nexport { reducers, store, ReduxMixin };\n\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/@littleq/state-manager/index.js","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n// WEBPACK FOOTER //\n// (webpack)/buildin/global.js","import './boot.js';\n\n// unique global id for deduping mixins.\nlet dedupeId = 0;\n\n/**\n * @constructor\n * @extends {Function}\n */\nfunction MixinFunction(){}\n/** @type {(WeakMap | undefined)} */\nMixinFunction.prototype.__mixinApplications;\n/** @type {(Object | undefined)} */\nMixinFunction.prototype.__mixinSet;\n\nexport const dedupingMixin = function(mixin) {\n  let mixinApplications = /** @type {!MixinFunction} */(mixin).__mixinApplications;\n  if (!mixinApplications) {\n    mixinApplications = new WeakMap();\n    /** @type {!MixinFunction} */(mixin).__mixinApplications = mixinApplications;\n  }\n  // maintain a unique id for each mixin\n  let mixinDedupeId = dedupeId++;\n  function dedupingMixin(base) {\n    let baseSet = /** @type {!MixinFunction} */(base).__mixinSet;\n    if (baseSet && baseSet[mixinDedupeId]) {\n      return base;\n    }\n    let map = mixinApplications;\n    let extended = map.get(base);\n    if (!extended) {\n      extended = /** @type {!Function} */(mixin)(base);\n      map.set(base, extended);\n    }\n    // copy inherited mixin set from the extended class, or the base class\n    // NOTE: we avoid use of Set here because some browser (IE11)\n    // cannot extend a base Set via the constructor.\n    let mixinSet = Object.create(/** @type {!MixinFunction} */(extended).__mixinSet || baseSet || null);\n    mixinSet[mixinDedupeId] = true;\n    /** @type {!MixinFunction} */(extended).__mixinSet = mixinSet;\n    return extended;\n  }\n\n  return dedupingMixin;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/@polymer/polymer/lib/utils/mixin.js","var win;\n\nif (typeof window !== \"undefined\") {\n    win = window;\n} else if (typeof global !== \"undefined\") {\n    win = global;\n} else if (typeof self !== \"undefined\"){\n    win = self;\n} else {\n    win = {};\n}\n\nmodule.exports = win;\n\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/global/window.js","import './boot.js';\n\n/** @typedef {{run: function(function(), number=):number, cancel: function(number)}} */\nlet AsyncInterface; // eslint-disable-line no-unused-vars\n\n// Microtask implemented using Mutation Observer\nlet microtaskCurrHandle = 0;\nlet microtaskLastHandle = 0;\nlet microtaskCallbacks = [];\nlet microtaskNodeContent = 0;\nlet microtaskNode = document.createTextNode('');\nnew window.MutationObserver(microtaskFlush).observe(microtaskNode, {characterData: true});\n\nfunction microtaskFlush() {\n  const len = microtaskCallbacks.length;\n  for (let i = 0; i < len; i++) {\n    let cb = microtaskCallbacks[i];\n    if (cb) {\n      try {\n        cb();\n      } catch (e) {\n        setTimeout(() => { throw e; });\n      }\n    }\n  }\n  microtaskCallbacks.splice(0, len);\n  microtaskLastHandle += len;\n}\n\nexport const timeOut = {\n  /**\n   * Returns a sub-module with the async interface providing the provided\n   * delay.\n   *\n   * @memberof Polymer.Async.timeOut\n   * @param {number} delay Time to wait before calling callbacks in ms\n   * @return {AsyncInterface} An async timeout interface\n   */\n  after(delay) {\n    return  {\n      run(fn) { return setTimeout(fn, delay); },\n      cancel: window.clearTimeout.bind(window)\n    };\n  },\n  /**\n   * Enqueues a function called in the next task.\n   *\n   * @memberof Polymer.Async.timeOut\n   * @param {Function} fn Callback to run\n   * @return {number} Handle used for canceling task\n   */\n  run: window.setTimeout.bind(window),\n  /**\n   * Cancels a previously enqueued `timeOut` callback.\n   *\n   * @memberof Polymer.Async.timeOut\n   * @param {number} handle Handle returned from `run` of callback to cancel\n   */\n  cancel: window.clearTimeout.bind(window)\n};\n\nexport const animationFrame = {\n  /**\n   * Enqueues a function called at `requestAnimationFrame` timing.\n   *\n   * @memberof Polymer.Async.animationFrame\n   * @param {Function} fn Callback to run\n   * @return {number} Handle used for canceling task\n   */\n  run: window.requestAnimationFrame.bind(window),\n  /**\n   * Cancels a previously enqueued `animationFrame` callback.\n   *\n   * @memberof Polymer.Async.timeOut\n   * @param {number} handle Handle returned from `run` of callback to cancel\n   */\n  cancel: window.cancelAnimationFrame.bind(window)\n};\n\nexport const idlePeriod = {\n  /**\n   * Enqueues a function called at `requestIdleCallback` timing.\n   *\n   * @memberof Polymer.Async.idlePeriod\n   * @param {function(IdleDeadline)} fn Callback to run\n   * @return {number} Handle used for canceling task\n   */\n  run(fn) {\n    return window.requestIdleCallback ?\n      window.requestIdleCallback(fn) :\n      window.setTimeout(fn, 16);\n  },\n  /**\n   * Cancels a previously enqueued `idlePeriod` callback.\n   *\n   * @memberof Polymer.Async.idlePeriod\n   * @param {number} handle Handle returned from `run` of callback to cancel\n   */\n  cancel(handle) {\n    window.cancelIdleCallback ?\n      window.cancelIdleCallback(handle) :\n      window.clearTimeout(handle);\n  }\n};\n\nexport const microTask = {\n\n  /**\n   * Enqueues a function called at microtask timing.\n   *\n   * @memberof Polymer.Async.microTask\n   * @param {Function} callback Callback to run\n   * @return {number} Handle used for canceling task\n   */\n  run(callback) {\n    microtaskNode.textContent = microtaskNodeContent++;\n    microtaskCallbacks.push(callback);\n    return microtaskCurrHandle++;\n  },\n\n  /**\n   * Cancels a previously enqueued `microTask` callback.\n   *\n   * @memberof Polymer.Async.microTask\n   * @param {number} handle Handle returned from `run` of callback to cancel\n   */\n  cancel(handle) {\n    const idx = handle - microtaskLastHandle;\n    if (idx >= 0) {\n      if (!microtaskCallbacks[idx]) {\n        throw new Error('invalid async handle: ' + handle);\n      }\n      microtaskCallbacks[idx] = null;\n    }\n  }\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/@polymer/polymer/lib/utils/async.js","import './boot.js';\n\nlet CSS_URL_RX = /(url\\()([^)]*)(\\))/g;\nlet ABS_URL = /(^\\/)|(^#)|(^[\\w-\\d]*:)/;\nlet workingURL;\nlet resolveDoc;\n/**\n * Resolves the given URL against the provided `baseUri'.\n *\n * @memberof Polymer.ResolveUrl\n * @param {string} url Input URL to resolve\n * @param {?string=} baseURI Base URI to resolve the URL against\n * @return {string} resolved URL\n */\nfunction resolveUrl(url, baseURI) {\n  if (url && ABS_URL.test(url)) {\n    return url;\n  }\n  // Lazy feature detection.\n  if (workingURL === undefined) {\n    workingURL = false;\n    try {\n      const u = new URL('b', 'http://a');\n      u.pathname = 'c%20d';\n      workingURL = (u.href === 'http://a/c%20d');\n    } catch (e) {\n      // silently fail\n    }\n  }\n  if (!baseURI) {\n    baseURI = document.baseURI || window.location.href;\n  }\n  if (workingURL) {\n    return (new URL(url, baseURI)).href;\n  }\n  // Fallback to creating an anchor into a disconnected document.\n  if (!resolveDoc) {\n    resolveDoc = document.implementation.createHTMLDocument('temp');\n    resolveDoc.base = resolveDoc.createElement('base');\n    resolveDoc.head.appendChild(resolveDoc.base);\n    resolveDoc.anchor = resolveDoc.createElement('a');\n    resolveDoc.body.appendChild(resolveDoc.anchor);\n  }\n  resolveDoc.base.href = baseURI;\n  resolveDoc.anchor.href = url;\n  return resolveDoc.anchor.href || url;\n\n}\n\n/**\n * Resolves any relative URL's in the given CSS text against the provided\n * `ownerDocument`'s `baseURI`.\n *\n * @memberof Polymer.ResolveUrl\n * @param {string} cssText CSS text to process\n * @param {string} baseURI Base URI to resolve the URL against\n * @return {string} Processed CSS text with resolved URL's\n */\nfunction resolveCss(cssText, baseURI) {\n  return cssText.replace(CSS_URL_RX, function(m, pre, url, post) {\n    return pre + '\\'' +\n      resolveUrl(url.replace(/[\"']/g, ''), baseURI) +\n      '\\'' + post;\n  });\n}\n\n/**\n * Returns a path from a given `url`. The path includes the trailing\n * `/` from the url.\n *\n * @memberof Polymer.ResolveUrl\n * @param {string} url Input URL to transform\n * @return {string} resolved path\n */\nfunction pathFromUrl(url) {\n  return url.substring(0, url.lastIndexOf('/') + 1);\n}\n\nexport { resolveCss };\nexport { resolveUrl };\nexport { pathFromUrl };\n\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/@polymer/polymer/lib/utils/resolve-url.js","import createStore from './createStore';\nimport combineReducers from './combineReducers';\nimport bindActionCreators from './bindActionCreators';\nimport applyMiddleware from './applyMiddleware';\nimport compose from './compose';\nimport warning from './utils/warning';\n\n/*\n* This is a dummy function to check if the function name has been altered by minification.\n* If the function has been minified and NODE_ENV !== 'production', warn the user.\n*/\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \\'production\\'. ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) ' + 'to ensure you have the correct code for your production build.');\n}\n\nexport { createStore, combineReducers, bindActionCreators, applyMiddleware, compose };\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/redux/es/index.js","import './boot.js';\n\nconst caseMap = {};\nconst DASH_TO_CAMEL = /-[a-z]/g;\nconst CAMEL_TO_DASH = /([A-Z])/g;\n\nexport function dashToCamelCase(dash) {\n  return caseMap[dash] || (\n    caseMap[dash] = dash.indexOf('-') < 0 ? dash : dash.replace(DASH_TO_CAMEL,\n      (m) => m[1].toUpperCase()\n    )\n  );\n}\n\nexport function camelToDashCase(camel) {\n  return caseMap[camel] || (\n    caseMap[camel] = camel.replace(CAMEL_TO_DASH, '-$1').toLowerCase()\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/@polymer/polymer/lib/utils/case-map.js","import { ElementMixin } from './lib/mixins/element-mixin.js';\n\n/**\n * Base class that provides the core API for Polymer's meta-programming\n * features including template stamping, data-binding, attribute deserialization,\n * and property change observation.\n *\n * @customElement\n * @polymer\n * @memberof Polymer\n * @constructor\n * @implements {Polymer_ElementMixin}\n * @extends HTMLElement\n * @appliesMixin Polymer.ElementMixin\n * @summary Custom element base class that provides the core API for Polymer's\n *   key meta-programming features including template stamping, data-binding,\n *   attribute deserialization, and property change observation\n */\nconst Element = ElementMixin(HTMLElement);\nexport { Element };\n\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/@polymer/polymer/polymer-element.js","import './boot.js';\n\nexport function isPath(path) {\n  return path.indexOf('.') >= 0;\n}\n\nexport function root(path) {\n  let dotIndex = path.indexOf('.');\n  if (dotIndex === -1) {\n    return path;\n  }\n  return path.slice(0, dotIndex);\n}\n\nexport function isAncestor(base, path) {\n  //     base.startsWith(path + '.');\n  return base.indexOf(path + '.') === 0;\n}\n\nexport function isDescendant(base, path) {\n  //     path.startsWith(base + '.');\n  return path.indexOf(base + '.') === 0;\n}\n\nexport function translate(base, newBase, path) {\n  return newBase + path.slice(base.length);\n}\n\nexport function matches(base, path) {\n  return (base === path) ||\n         isAncestor(base, path) ||\n         isDescendant(base, path);\n}\n\nexport function normalize(path) {\n  if (Array.isArray(path)) {\n    let parts = [];\n    for (let i=0; i<path.length; i++) {\n      let args = path[i].toString().split('.');\n      for (let j=0; j<args.length; j++) {\n        parts.push(args[j]);\n      }\n    }\n    return parts.join('.');\n  } else {\n    return path;\n  }\n}\n\nexport function split(path) {\n  if (Array.isArray(path)) {\n    return normalize(path).split('.');\n  }\n  return path.toString().split('.');\n}\n\nexport function get(root, path, info) {\n  let prop = root;\n  let parts = split(path);\n  // Loop over path parts[0..n-1] and dereference\n  for (let i=0; i<parts.length; i++) {\n    if (!prop) {\n      return;\n    }\n    let part = parts[i];\n    prop = prop[part];\n  }\n  if (info) {\n    info.path = parts.join('.');\n  }\n  return prop;\n}\n\nexport function set(root, path, value) {\n  let prop = root;\n  let parts = split(path);\n  let last = parts[parts.length-1];\n  if (parts.length > 1) {\n    // Loop over path parts[0..n-2] and dereference\n    for (let i=0; i<parts.length-1; i++) {\n      let part = parts[i];\n      prop = prop[part];\n      if (!prop) {\n        return;\n      }\n    }\n    // Set value to object at end of path\n    prop[last] = value;\n  } else {\n    // Simple property set\n    prop[path] = value;\n  }\n  return parts.join('.');\n}\n\nexport const isDeep = isPath;\n\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/@polymer/polymer/lib/utils/path.js","import './boot.js';\nimport './mixin.js';\nimport './async.js';\n\n/** @typedef {{run: function(function(), number=):number, cancel: function(number)}} */\nlet AsyncModule; // eslint-disable-line no-unused-vars\n\n/**\n * @summary Collapse multiple callbacks into one invocation after a timer.\n * @memberof Polymer\n */\nclass Debouncer {\n  constructor() {\n    this._asyncModule = null;\n    this._callback = null;\n    this._timer = null;\n  }\n  /**\n   * Sets the scheduler; that is, a module with the Async interface,\n   * a callback and optional arguments to be passed to the run function\n   * from the async module.\n   *\n   * @param {!AsyncModule} asyncModule Object with Async interface.\n   * @param {function()} callback Callback to run.\n   */\n  setConfig(asyncModule, callback) {\n    this._asyncModule = asyncModule;\n    this._callback = callback;\n    this._timer = this._asyncModule.run(() => {\n      this._timer = null;\n      this._callback();\n    });\n  }\n  /**\n   * Cancels an active debouncer and returns a reference to itself.\n   */\n  cancel() {\n    if (this.isActive()) {\n      this._asyncModule.cancel(this._timer);\n      this._timer = null;\n    }\n  }\n  /**\n   * Flushes an active debouncer and returns a reference to itself.\n   */\n  flush() {\n    if (this.isActive()) {\n      this.cancel();\n      this._callback();\n    }\n  }\n  /**\n   * Returns true if the debouncer is active.\n   *\n   * @return {boolean} True if active.\n   */\n  isActive() {\n    return this._timer != null;\n  }\n/**\n * Creates a debouncer if no debouncer is passed as a parameter\n * or it cancels an active debouncer otherwise. The following\n * example shows how a debouncer can be called multiple times within a\n * microtask and \"debounced\" such that the provided callback function is\n * called once. Add this method to a custom element:\n *\n * _debounceWork() {\n *   this._debounceJob = Polymer.Debouncer.debounce(this._debounceJob,\n *       Polymer.Async.microTask, () => {\n *     this._doWork();\n *   });\n * }\n *\n * If the `_debounceWork` method is called multiple times within the same\n * microtask, the `_doWork` function will be called only once at the next\n * microtask checkpoint.\n *\n * Note: In testing it is often convenient to avoid asynchrony. To accomplish\n * this with a debouncer, you can use `Polymer.enqueueDebouncer` and\n * `Polymer.flush`. For example, extend the above example by adding\n * `Polymer.enqueueDebouncer(this._debounceJob)` at the end of the\n * `_debounceWork` method. Then in a test, call `Polymer.flush` to ensure\n * the debouncer has completed.\n *\n * @param {Debouncer?} debouncer Debouncer object.\n * @param {!AsyncModule} asyncModule Object with Async interface\n * @param {function()} callback Callback to run.\n * @return {!Debouncer} Returns a debouncer object.\n */\n  static debounce(debouncer, asyncModule, callback) {\n    if (debouncer instanceof Debouncer) {\n      debouncer.cancel();\n    } else {\n      debouncer = new Debouncer();\n    }\n    debouncer.setConfig(asyncModule, callback);\n    return debouncer;\n  }\n}\n\nexport { Debouncer };\n\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/@polymer/polymer/lib/utils/debounce.js","import './boot.js';\nimport { pathFromUrl } from './resolve-url.js';\n\n/**\n * Legacy settings.\n * @namespace\n * @memberof Polymer\n */\nconst settings = undefined || {};\nexport const useShadow = !(window.ShadyDOM);\nexport const useNativeCSSProperties = Boolean(!window.ShadyCSS || window.ShadyCSS.nativeCss);\nexport const useNativeCustomElements = !(window.customElements.polyfillWrapFlushCallback);\nexport { settings as Settings };\n\n/**\n * Globally settable property that is automatically assigned to\n * `Polymer.ElementMixin` instances, useful for binding in templates to\n * make URL's relative to an application's root.  Defaults to the main\n * document URL, but can be overridden by users.  It may be useful to set\n * `Polymer.rootPath` to provide a stable application mount path when\n * using client side routing.\n *\n * @memberof Polymer\n */\nlet rootPath = undefined ||\n  pathFromUrl(document.baseURI || window.location.href);\n\nexport { rootPath };\n\nexport const setRootPath = function(path) {\n  rootPath = path;\n};\n\n/**\n * A global callback used to sanitize any value before inserting it into the DOM. The callback signature is:\n *\n *     Polymer = {\n *       sanitizeDOMValue: function(value, name, type, node) { ... }\n *     }\n *\n * Where:\n *\n * `value` is the value to sanitize.\n * `name` is the name of an attribute or property (for example, href).\n * `type` indicates where the value is being inserted: one of property, attribute, or text.\n * `node` is the node where the value is being inserted.\n *\n * @type {(function(*,string,string,Node):*)|undefined}\n * @memberof Polymer\n */\nlet sanitizeDOMValue = undefined;\n\nexport { sanitizeDOMValue };\n\nexport const setSanitizeDOMValue = function(newSanitizeDOMValue) {\n  sanitizeDOMValue = newSanitizeDOMValue;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/@polymer/polymer/lib/utils/settings.js","import isPlainObject from 'lodash-es/isPlainObject';\nimport $$observable from 'symbol-observable';\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nexport var ActionTypes = {\n  INIT: '@@redux/INIT'\n\n  /**\n   * Creates a Redux store that holds the state tree.\n   * The only way to change the data in the store is to call `dispatch()` on it.\n   *\n   * There should only be a single store in your app. To specify how different\n   * parts of the state tree respond to actions, you may combine several reducers\n   * into a single reducer function by using `combineReducers`.\n   *\n   * @param {Function} reducer A function that returns the next state tree, given\n   * the current state tree and the action to handle.\n   *\n   * @param {any} [preloadedState] The initial state. You may optionally specify it\n   * to hydrate the state from the server in universal apps, or to restore a\n   * previously serialized user session.\n   * If you use `combineReducers` to produce the root reducer function, this must be\n   * an object with the same shape as `combineReducers` keys.\n   *\n   * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n   * to enhance the store with third-party capabilities such as middleware,\n   * time travel, persistence, etc. The only store enhancer that ships with Redux\n   * is `applyMiddleware()`.\n   *\n   * @returns {Store} A Redux store that lets you read the state, dispatch actions\n   * and subscribe to changes.\n   */\n};export default function createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error('Expected the enhancer to be a function.');\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error('Expected the reducer to be a function.');\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n  function getState() {\n    return currentState;\n  }\n\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Expected listener to be a function.');\n    }\n\n    var isSubscribed = true;\n\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      isSubscribed = false;\n\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n    };\n  }\n\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing “what changed”. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n    }\n\n    if (isDispatching) {\n      throw new Error('Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error('Expected the nextReducer to be a function.');\n    }\n\n    currentReducer = nextReducer;\n    dispatch({ type: ActionTypes.INIT });\n  }\n\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object') {\n          throw new TypeError('Expected the observer to be an object.');\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return { unsubscribe: unsubscribe };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  }\n\n  // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n  dispatch({ type: ActionTypes.INIT });\n\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/redux/es/createStore.js","import baseGetTag from './_baseGetTag.js';\nimport getPrototype from './_getPrototype.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nexport default isPlainObject;\n\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/lodash-es/isPlainObject.js","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/lodash-es/_Symbol.js","/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nexport default function warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n    /* eslint-disable no-empty */\n  } catch (e) {}\n  /* eslint-enable no-empty */\n}\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/redux/es/utils/warning.js","/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\n\nexport default function compose() {\n  for (var _len = arguments.length, funcs = Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(undefined, arguments));\n    };\n  });\n}\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/redux/es/compose.js","import { reducers, store } from '@littleq/state-manager';\nimport { combineReducers } from 'redux';\n\nconst ROUTER_ACTION = {\n  PARAMS: 'ROUTER_UPDATE_PARAMS',\n  ROUTE: 'ROUTER_UPDATE_ROUTE'\n};\n\nreducers.router = (router = {}, action) => {\n  switch (action.type) {\n    case ROUTER_ACTION.PARAMS:\n      return Object.assign({}, router, {\n        params: action.params\n      });\n    case ROUTER_ACTION.ROUTE:\n      return Object.assign({}, router, {\n        route: action.route\n      });\n    default:\n      return router;\n  }\n};\n\nstore.replaceReducer(combineReducers(reducers));\n\nexport { ROUTER_ACTION };\n\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/@littleq/littleq-router/lib/reducer.js","/**\n * Expose `pathToRegexp`.\n */\nmodule.exports = pathToRegexp\nmodule.exports.parse = parse\nmodule.exports.compile = compile\nmodule.exports.tokensToFunction = tokensToFunction\nmodule.exports.tokensToRegExp = tokensToRegExp\n\n/**\n * Default configs.\n */\nvar DEFAULT_DELIMITER = '/'\nvar DEFAULT_DELIMITERS = './'\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match escaped characters that would otherwise appear in future matches.\n  // This allows the user to escape special characters that won't transform.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \"/:test(\\\\d+)?\" => [\"/\", \"test\", \"\\d+\", undefined, \"?\"]\n  // \"/route(\\\\d+)\"  => [undefined, undefined, undefined, \"\\d+\", undefined]\n  '(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))([+*?])?'\n].join('|'), 'g')\n\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {string}  str\n * @param  {Object=} options\n * @return {!Array}\n */\nfunction parse (str, options) {\n  var tokens = []\n  var key = 0\n  var index = 0\n  var path = ''\n  var defaultDelimiter = (options && options.delimiter) || DEFAULT_DELIMITER\n  var delimiters = (options && options.delimiters) || DEFAULT_DELIMITERS\n  var pathEscaped = false\n  var res\n\n  while ((res = PATH_REGEXP.exec(str)) !== null) {\n    var m = res[0]\n    var escaped = res[1]\n    var offset = res.index\n    path += str.slice(index, offset)\n    index = offset + m.length\n\n    // Ignore already escaped sequences.\n    if (escaped) {\n      path += escaped[1]\n      pathEscaped = true\n      continue\n    }\n\n    var prev = ''\n    var next = str[index]\n    var name = res[2]\n    var capture = res[3]\n    var group = res[4]\n    var modifier = res[5]\n\n    if (!pathEscaped && path.length) {\n      var k = path.length - 1\n\n      if (delimiters.indexOf(path[k]) > -1) {\n        prev = path[k]\n        path = path.slice(0, k)\n      }\n    }\n\n    // Push the current path onto the tokens.\n    if (path) {\n      tokens.push(path)\n      path = ''\n      pathEscaped = false\n    }\n\n    var partial = prev !== '' && next !== undefined && next !== prev\n    var repeat = modifier === '+' || modifier === '*'\n    var optional = modifier === '?' || modifier === '*'\n    var delimiter = prev || defaultDelimiter\n    var pattern = capture || group\n\n    tokens.push({\n      name: name || key++,\n      prefix: prev,\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      partial: partial,\n      pattern: pattern ? escapeGroup(pattern) : '[^' + escapeString(delimiter) + ']+?'\n    })\n  }\n\n  // Push any remaining characters.\n  if (path || index < str.length) {\n    tokens.push(path + str.substr(index))\n  }\n\n  return tokens\n}\n\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {string}             str\n * @param  {Object=}            options\n * @return {!function(Object=, Object=)}\n */\nfunction compile (str, options) {\n  return tokensToFunction(parse(str, options))\n}\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nfunction tokensToFunction (tokens) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length)\n\n  // Compile all the patterns before compilation.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^(?:' + tokens[i].pattern + ')$')\n    }\n  }\n\n  return function (data, options) {\n    var path = ''\n    var encode = (options && options.encode) || encodeURIComponent\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i]\n\n      if (typeof token === 'string') {\n        path += token\n        continue\n      }\n\n      var value = data ? data[token.name] : undefined\n      var segment\n\n      if (Array.isArray(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but got array')\n        }\n\n        if (value.length === 0) {\n          if (token.optional) continue\n\n          throw new TypeError('Expected \"' + token.name + '\" to not be empty')\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encode(value[j])\n\n          if (!matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\"')\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment\n        }\n\n        continue\n      }\n\n      if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {\n        segment = encode(String(value))\n\n        if (!matches[i].test(segment)) {\n          throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but got \"' + segment + '\"')\n        }\n\n        path += token.prefix + segment\n        continue\n      }\n\n      if (token.optional) {\n        // Prepend partial segment prefixes.\n        if (token.partial) path += token.prefix\n\n        continue\n      }\n\n      throw new TypeError('Expected \"' + token.name + '\" to be ' + (token.repeat ? 'an array' : 'a string'))\n    }\n\n    return path\n  }\n}\n\n/**\n * Escape a regular expression string.\n *\n * @param  {string} str\n * @return {string}\n */\nfunction escapeString (str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, '\\\\$1')\n}\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {string} group\n * @return {string}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$/()])/g, '\\\\$1')\n}\n\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {string}\n */\nfunction flags (options) {\n  return options && options.sensitive ? '' : 'i'\n}\n\n/**\n * Pull out keys from a regexp.\n *\n * @param  {!RegExp} path\n * @param  {Array=}  keys\n * @return {!RegExp}\n */\nfunction regexpToRegexp (path, keys) {\n  if (!keys) return path\n\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g)\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        partial: false,\n        pattern: null\n      })\n    }\n  }\n\n  return path\n}\n\n/**\n * Transform an array into a regexp.\n *\n * @param  {!Array}  path\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction arrayToRegexp (path, keys, options) {\n  var parts = []\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source)\n  }\n\n  return new RegExp('(?:' + parts.join('|') + ')', flags(options))\n}\n\n/**\n * Create a path regexp from string input.\n *\n * @param  {string}  path\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction stringToRegexp (path, keys, options) {\n  return tokensToRegExp(parse(path, options), keys, options)\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {!Array}  tokens\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction tokensToRegExp (tokens, keys, options) {\n  options = options || {}\n\n  var strict = options.strict\n  var end = options.end !== false\n  var delimiter = escapeString(options.delimiter || DEFAULT_DELIMITER)\n  var delimiters = options.delimiters || DEFAULT_DELIMITERS\n  var endsWith = [].concat(options.endsWith || []).map(escapeString).concat('$').join('|')\n  var route = ''\n  var isEndDelimited = false\n\n  // Iterate over the tokens and create our regexp string.\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i]\n\n    if (typeof token === 'string') {\n      route += escapeString(token)\n      isEndDelimited = i === tokens.length - 1 && delimiters.indexOf(token[token.length - 1]) > -1\n    } else {\n      var prefix = escapeString(token.prefix)\n      var capture = token.repeat\n        ? '(?:' + token.pattern + ')(?:' + prefix + '(?:' + token.pattern + '))*'\n        : token.pattern\n\n      if (keys) keys.push(token)\n\n      if (token.optional) {\n        if (token.partial) {\n          route += prefix + '(' + capture + ')?'\n        } else {\n          route += '(?:' + prefix + '(' + capture + '))?'\n        }\n      } else {\n        route += prefix + '(' + capture + ')'\n      }\n    }\n  }\n\n  if (end) {\n    if (!strict) route += '(?:' + delimiter + ')?'\n\n    route += endsWith === '$' ? '$' : '(?=' + endsWith + ')'\n  } else {\n    if (!strict) route += '(?:' + delimiter + '(?=' + endsWith + '))?'\n    if (!isEndDelimited) route += '(?=' + delimiter + '|' + endsWith + ')'\n  }\n\n  return new RegExp('^' + route, flags(options))\n}\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(string|RegExp|Array)} path\n * @param  {Array=}                keys\n * @param  {Object=}               options\n * @return {!RegExp}\n */\nfunction pathToRegexp (path, keys, options) {\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, keys)\n  }\n\n  if (Array.isArray(path)) {\n    return arrayToRegexp(/** @type {!Array} */ (path), keys, options)\n  }\n\n  return stringToRegexp(/** @type {string} */ (path), keys, options)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/path-to-regexp/index.js","import { ReduxMixin } from '@littleq/state-manager';\nimport { LOCATION_ACTION } from './lib/reducer';\nimport resolveUrl from './lib/resolve-url';\n\nexport default (superClass) => {\n  return class extends ReduxMixin(superClass) {\n    static get properties () {\n      return {\n        // location-mixin\n        path: {\n          type: String,\n          observer: '_pathChanged',\n          statePath: 'location.path'\n        },\n\n        query: {\n          type: String,\n          observer: '_queryChanged',\n          statePath: 'location.query'\n        },\n\n        urlSpaceRegex: {\n          type: String\n        },\n\n        hash: {\n          type: String,\n          statePath: 'location.hash'\n        },\n\n        dwellTime: {\n          type: Number\n        },\n\n        _urlSpaceRegExp: {\n          type: String,\n          computed: '_makeRegExp(urlSpaceRegex)'\n        },\n\n        _lastChangedAt: {\n          type: String\n        },\n\n        _initialized: {\n          type: Boolean\n        }\n      };\n    }\n\n    constructor () {\n      super();\n      this._boundHashChanged = this._hashChanged.bind(this);\n      this._boundUrlChanged = this._urlChanged.bind(this);\n      this._boundGlobalOnClick = this._globalOnClick.bind(this);\n    }\n\n    connectedCallback () {\n      if (super.disconnectedCallback) {\n        super.connectedCallback();\n      }\n      window.addEventListener('hashchange', this._boundHashChanged);\n      window.addEventListener('location-changed', this._boundUrlChanged);\n      window.addEventListener('popstate', this._boundUrlChanged);\n      document.body.addEventListener('click', this._boundGlobalOnClick, true);\n      this._lastChangedAt = window.performance.now() - (this.dwellTime - 200);\n      this._initialized = true;\n\n      // set initialize values\n      // this.path = window.decodeURIComponent(window.location.pathname);\n      // this.query = window.location.search.slice(1);\n      // this.hash = window.decodeURIComponent(window.location.hash.slice(1));\n      this.dwellTime = 2000;\n      this._initialized = false;\n      this._urlChanged();\n    }\n\n    disconnectedCallback () {\n      if (super.disconnectedCallback) {\n        super.disconnectedCallback();\n      }\n      window.removeEventListener('hashchange', this._boundHashChanged);\n      window.removeEventListener('location-changed', this._boundUrlChanged);\n      window.removeEventListener('popstate', this._boundUrlChanged);\n      document.body.removeEventListener('click', this._boundGlobalOnClick);\n      this._initialized = false;\n    }\n\n    _pathChanged (path) {}\n\n    _queryChanged (query) {}\n\n    _hashChanged () {\n      this.dispatch({\n        type: LOCATION_ACTION.HASH,\n        path: window.decodeURIComponent(window.location.hash.substring(1))\n      });\n      // this.hash = window.decodeURIComponent(window.location.hash.substring(1));\n    }\n\n    _urlChanged () {\n      // We want to extract all info out of the updated URL before we\n      // try to write anything back into it.\n      //\n      // i.e. without _dontUpdateUrl we'd overwrite the new path with the old\n      // one when we set this.hash. Likewise for query.\n      this._dontUpdateUrl = true;\n      this._hashChanged();\n\n      this.dispatch({\n        type: LOCATION_ACTION.PATH,\n        path: window.decodeURIComponent(window.location.pathname)\n      });\n\n      this.dispatch({\n        type: LOCATION_ACTION.QUERY,\n        query: window.location.search.substring(1)\n      });\n\n      // this.path =\n      // this.query =\n      this._dontUpdateUrl = false;\n      this._updateUrl();\n    }\n\n    _getUrl () {\n      var partiallyEncodedPath = window.encodeURI(this.path).replace(/\\#/g, '%23').replace(/\\?/g, '%3F'); // eslint-disable-line no-useless-escape\n      var partiallyEncodedQuery = '';\n      if (this.query) {\n        partiallyEncodedQuery = '?' + this.query.replace(/\\#/g, '%23'); // eslint-disable-line no-useless-escape\n      }\n      var partiallyEncodedHash = '';\n      if (this.hash) {\n        partiallyEncodedHash = '#' + window.encodeURI(this.hash);\n      }\n      return (partiallyEncodedPath + partiallyEncodedQuery + partiallyEncodedHash);\n    }\n\n    _updateUrl () {\n      if (this._dontUpdateUrl || !this._initialized) {\n        return;\n      }\n\n      if (this.path === window.decodeURIComponent(window.location.pathname) &&\n          this.query === window.location.search.substring(1) &&\n          this.hash === window.decodeURIComponent(window.location.hash.substring(1))) {\n        // Nothing to do, the current URL is a representation of our properties.\n        return;\n      }\n      var newUrl = this._getUrl();\n      // Need to use a full URL in case the containing page has a base URI.\n      var fullNewUrl = resolveUrl(newUrl, window.location.protocol + '//' + window.location.host).href;\n      var now = window.performance.now();\n      var shouldReplace = this._lastChangedAt + this.dwellTime > now;\n      this._lastChangedAt = now;\n      if (shouldReplace) {\n        window.history.replaceState({}, '', fullNewUrl);\n      } else {\n        window.history.pushState({}, '', fullNewUrl);\n      }\n      window.dispatchEvent(new window.CustomEvent('location-changed'));\n    }\n\n    /**\n     * A necessary evil so that links work as expected. Does its best to\n     * bail out early if possible.\n     *\n     * @param {MouseEvent} event .\n     */\n    _globalOnClick (event) {\n      // If another event handler has stopped this event then there's nothing\n      // for us to do. This can happen e.g. when there are multiple\n      // iron-location elements in a page.\n      if (event.defaultPrevented) {\n        return;\n      }\n      var href = this._getSameOriginLinkHref(event);\n      if (!href) {\n        return;\n      }\n      event.preventDefault();\n      // If the navigation is to the current page we shouldn't add a history\n      // entry or fire a change event.\n      if (href === window.location.href) {\n        return;\n      }\n\n      window.history.pushState({}, '', href);\n      window.dispatchEvent(new window.CustomEvent('location-changed'));\n    }\n\n    /**\n     * Returns the absolute URL of the link (if any) that this click event\n     * is clicking on, if we can and should override the resulting full\n     * page navigation. Returns null otherwise.\n     *\n     * @param {MouseEvent} event .\n     * @return {string?} .\n     */\n    _getSameOriginLinkHref (event) {\n      // We only care about left-clicks.\n      if (event.button !== 0) {\n        return null;\n      }\n      // We don't want modified clicks, where the intent is to open the page\n      // in a new tab.\n      if (event.metaKey || event.ctrlKey) {\n        return null;\n      }\n      var eventPath = event.composedPath();\n      var anchor = null;\n      for (var i = 0; i < eventPath.length; i++) {\n        var element = eventPath[i];\n        if (element.tagName === 'A' && element.href) {\n          anchor = element;\n          break;\n        }\n      }\n      // If there's no link there's nothing to do.\n      if (!anchor) {\n        return null;\n      }\n      // Target blank is a new tab, don't intercept.\n      if (anchor.target === '_blank') {\n        // capture link click\n        if (anchor.href && window.ga) {\n          window.ga('send', 'event', 'Link', 'Click', anchor.href, 1);\n        }\n        return null;\n      }\n      // If the link is for an existing parent frame, don't intercept.\n      if ((anchor.target === '_top' ||\n          anchor.target === '_parent') &&\n          window.top !== window) {\n        return null;\n      }\n      var href = anchor.href;\n      // It only makes sense for us to intercept same-origin navigations.\n      // pushState/replaceState don't work with cross-origin links.\n      var url;\n      if (document.baseURI != null) {\n        url = resolveUrl(href, /** @type {string} */(document.baseURI));\n      } else {\n        url = resolveUrl(href);\n      }\n      var origin;\n      // IE Polyfill\n      if (window.location.origin) {\n        origin = window.location.origin;\n      } else {\n        origin = window.location.protocol + '//' + window.location.host;\n      }\n      var urlOrigin;\n      if (url.origin) {\n        urlOrigin = url.origin;\n      } else {\n        urlOrigin = url.protocol + '//' + url.host;\n      }\n      if (urlOrigin !== origin) {\n        return null;\n      }\n      var normalizedHref = url.pathname + url.search + url.hash;\n      // pathname should start with '/', but may not if `new URL` is not supported\n      if (normalizedHref[0] !== '/') {\n        normalizedHref = '/' + normalizedHref;\n      }\n      // If we've been configured not to handle this url... don't handle it!\n      if (this._urlSpaceRegExp &&\n          !this._urlSpaceRegExp.test(normalizedHref)) {\n        return null;\n      }\n      // Need to use a full URL in case the containing page has a base URI.\n      var fullNormalizedHref = resolveUrl(normalizedHref, window.location.href).href;\n      return fullNormalizedHref;\n    }\n\n    _makeRegExp (urlSpaceRegex) {\n      return RegExp(urlSpaceRegex);\n    }\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/@littleq/location-mixin/index.js","import { ReduxMixin } from '@littleq/state-manager';\nimport { QUERYPARAMS_ACTION } from './lib/reducer';\n\nexport default (superClass) => {\n  return class extends ReduxMixin(superClass) {\n    static get properties () {\n      return {\n        // query params 'paramsString', 'paramsObject', '_dontReact'\n        paramsString: {\n          type: String,\n          observer: '_paramsStringChanged'\n        },\n\n        paramsObject: {\n          type: Object,\n          statePath: 'query.params'\n        },\n\n        _dontReact: {\n          type: Boolean\n        }\n      };\n    }\n\n    connectedCallback () {\n      if (super.connectedCallback) {\n        super.connectedCallback();\n      }\n\n      // initialize values\n      this.paramsObject = {};\n      this._dontReact = false;\n    }\n\n    _queryChanged (query) {\n      this.paramsString = query;\n    }\n\n    _paramsStringChanged () {\n      this._dontReact = true;\n      this.dispatch({\n        type: QUERYPARAMS_ACTION.UPDATE,\n        params: this._decodeParams(this.paramsString)\n      });\n\n      // this.paramsObject =\n      this._dontReact = false;\n    }\n\n    paramsObjectChanged () {\n      if (this._dontReact) {\n        return;\n      }\n      this.paramsString = this._encodeParams(this.paramsObject)\n        .replace(/%3F/g, '?').replace(/%2F/g, '/').replace(/'/g, '%27');\n    }\n\n    _encodeParams (params) {\n      var encodedParams = [];\n      for (var key in params) {\n        var value = params[key];\n        if (value === '') {\n          encodedParams.push(encodeURIComponent(key));\n        } else if (value) {\n          encodedParams.push(\n            encodeURIComponent(key) +\n            '=' +\n            encodeURIComponent(value.toString())\n          );\n        }\n      }\n      return encodedParams.join('&');\n    }\n\n    _decodeParams (paramString) {\n      var params = {};\n      // Work around a bug in decodeURIComponent where + is not\n      // converted to spaces:\n      paramString = (paramString || '').replace(/\\+/g, '%20');\n      var paramList = paramString.split('&');\n      for (var i = 0; i < paramList.length; i++) {\n        var param = paramList[i].split('=');\n        if (param[0]) {\n          params[decodeURIComponent(param[0])] =\n              decodeURIComponent(param[1] || '');\n        }\n      }\n      return params;\n    }\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/@littleq/query-params-mixin/index.js","import '../utils/boot.js';\nimport { dedupingMixin } from '../utils/mixin.js';\nimport { root as root$0, isAncestor, isDescendant, get as get$0, translate, isPath as isPath$0, set as set$0, normalize } from '../utils/path.js';\nimport * as caseMap from '../utils/case-map.js';\nimport { camelToDashCase as camelToDashCase$0, dashToCamelCase } from '../utils/case-map.js';\nimport { PropertyAccessors } from './property-accessors.js';\nimport { TemplateStamp } from './template-stamp.js';\nimport { sanitizeDOMValue } from '../utils/settings.js';\n\n/** @const {Object} */\nconst CaseMap = caseMap;\n\n// Monotonically increasing unique ID used for de-duping effects triggered\n// from multiple properties in the same turn\nlet dedupeId = 0;\n\n/**\n * Property effect types; effects are stored on the prototype using these keys\n * @enum {string}\n */\nconst TYPES = {\n  COMPUTE: '__computeEffects',\n  REFLECT: '__reflectEffects',\n  NOTIFY: '__notifyEffects',\n  PROPAGATE: '__propagateEffects',\n  OBSERVE: '__observeEffects',\n  READ_ONLY: '__readOnly'\n};\n\n/**\n * @typedef {{\n * name: (string | undefined),\n * structured: (boolean | undefined),\n * wildcard: (boolean | undefined)\n * }}\n */\nlet DataTrigger; //eslint-disable-line no-unused-vars\n\n/**\n * @typedef {{\n * info: ?,\n * trigger: (!DataTrigger | undefined),\n * fn: (!Function | undefined)\n * }}\n */\nlet DataEffect; //eslint-disable-line no-unused-vars\n\nlet PropertyEffectsType; //eslint-disable-line no-unused-vars\n\n/**\n * Ensures that the model has an own-property map of effects for the given type.\n * The model may be a prototype or an instance.\n *\n * Property effects are stored as arrays of effects by property in a map,\n * by named type on the model. e.g.\n *\n *   __computeEffects: {\n *     foo: [ ... ],\n *     bar: [ ... ]\n *   }\n *\n * If the model does not yet have an effect map for the type, one is created\n * and returned.  If it does, but it is not an own property (i.e. the\n * prototype had effects), the the map is deeply cloned and the copy is\n * set on the model and returned, ready for new effects to be added.\n *\n * @param {Object} model Prototype or instance\n * @param {string} type Property effect type\n * @return {Object} The own-property map of effects for the given type\n * @private\n */\nfunction ensureOwnEffectMap(model, type) {\n  let effects = model[type];\n  if (!effects) {\n    effects = model[type] = {};\n  } else if (!model.hasOwnProperty(type)) {\n    effects = model[type] = Object.create(model[type]);\n    for (let p in effects) {\n      let protoFx = effects[p];\n      let instFx = effects[p] = Array(protoFx.length);\n      for (let i=0; i<protoFx.length; i++) {\n        instFx[i] = protoFx[i];\n      }\n    }\n  }\n  return effects;\n}\n\n// -- effects ----------------------------------------------\n\n/**\n * Runs all effects of a given type for the given set of property changes\n * on an instance.\n *\n * @param {!PropertyEffectsType} inst The instance with effects to run\n * @param {Object} effects Object map of property-to-Array of effects\n * @param {Object} props Bag of current property changes\n * @param {Object=} oldProps Bag of previous values for changed properties\n * @param {boolean=} hasPaths True with `props` contains one or more paths\n * @param {*=} extraArgs Additional metadata to pass to effect function\n * @return {boolean} True if an effect ran for this property\n * @private\n */\nfunction runEffects(inst, effects, props, oldProps, hasPaths, extraArgs) {\n  if (effects) {\n    let ran = false;\n    let id = dedupeId++;\n    for (let prop in props) {\n      if (runEffectsForProperty(inst, effects, id, prop, props, oldProps, hasPaths, extraArgs)) {\n        ran = true;\n      }\n    }\n    return ran;\n  }\n  return false;\n}\n\n/**\n * Runs a list of effects for a given property.\n *\n * @param {!PropertyEffectsType} inst The instance with effects to run\n * @param {Object} effects Object map of property-to-Array of effects\n * @param {number} dedupeId Counter used for de-duping effects\n * @param {string} prop Name of changed property\n * @param {*} props Changed properties\n * @param {*} oldProps Old properties\n * @param {boolean=} hasPaths True with `props` contains one or more paths\n * @param {*=} extraArgs Additional metadata to pass to effect function\n * @return {boolean} True if an effect ran for this property\n * @private\n */\nfunction runEffectsForProperty(inst, effects, dedupeId, prop, props, oldProps, hasPaths, extraArgs) {\n  let ran = false;\n  let rootProperty = hasPaths ? root$0(prop) : prop;\n  let fxs = effects[rootProperty];\n  if (fxs) {\n    for (let i=0, l=fxs.length, fx; (i<l) && (fx=fxs[i]); i++) {\n      if ((!fx.info || fx.info.lastRun !== dedupeId) &&\n          (!hasPaths || pathMatchesTrigger(prop, fx.trigger))) {\n        if (fx.info) {\n          fx.info.lastRun = dedupeId;\n        }\n        fx.fn(inst, prop, props, oldProps, fx.info, hasPaths, extraArgs);\n        ran = true;\n      }\n    }\n  }\n  return ran;\n}\n\n/**\n * Determines whether a property/path that has changed matches the trigger\n * criteria for an effect.  A trigger is a descriptor with the following\n * structure, which matches the descriptors returned from `parseArg`.\n * e.g. for `foo.bar.*`:\n * ```\n * trigger: {\n *   name: 'a.b',\n *   structured: true,\n *   wildcard: true\n * }\n * ```\n * If no trigger is given, the path is deemed to match.\n *\n * @param {string} path Path or property that changed\n * @param {DataTrigger} trigger Descriptor\n * @return {boolean} Whether the path matched the trigger\n */\nfunction pathMatchesTrigger(path, trigger) {\n  if (trigger) {\n    let triggerPath = trigger.name;\n    return (triggerPath == path) ||\n      (trigger.structured && isAncestor(triggerPath, path)) ||\n      (trigger.wildcard && isDescendant(triggerPath, path));\n  } else {\n    return true;\n  }\n}\n\n/**\n * Implements the \"observer\" effect.\n *\n * Calls the method with `info.methodName` on the instance, passing the\n * new and old values.\n *\n * @param {!PropertyEffectsType} inst The instance the effect will be run on\n * @param {string} property Name of property\n * @param {Object} props Bag of current property changes\n * @param {Object} oldProps Bag of previous values for changed properties\n * @param {?} info Effect metadata\n * @private\n */\nfunction runObserverEffect(inst, property, props, oldProps, info) {\n  let fn = inst[info.methodName];\n  let changedProp = info.property;\n  if (fn) {\n    fn.call(inst, inst.__data[changedProp], oldProps[changedProp]);\n  } else if (!info.dynamicFn) {\n    console.warn('observer method `' + info.methodName + '` not defined');\n  }\n}\n\n/**\n * Runs \"notify\" effects for a set of changed properties.\n *\n * This method differs from the generic `runEffects` method in that it\n * will dispatch path notification events in the case that the property\n * changed was a path and the root property for that path didn't have a\n * \"notify\" effect.  This is to maintain 1.0 behavior that did not require\n * `notify: true` to ensure object sub-property notifications were\n * sent.\n *\n * @param {!PropertyEffectsType} inst The instance with effects to run\n * @param {Object} notifyProps Bag of properties to notify\n * @param {Object} props Bag of current property changes\n * @param {Object} oldProps Bag of previous values for changed properties\n * @param {boolean} hasPaths True with `props` contains one or more paths\n * @private\n */\nfunction runNotifyEffects(inst, notifyProps, props, oldProps, hasPaths) {\n  // Notify\n  let fxs = inst[TYPES.NOTIFY];\n  let notified;\n  let id = dedupeId++;\n  // Try normal notify effects; if none, fall back to try path notification\n  for (let prop in notifyProps) {\n    if (notifyProps[prop]) {\n      if (fxs && runEffectsForProperty(inst, fxs, id, prop, props, oldProps, hasPaths)) {\n        notified = true;\n      } else if (hasPaths && notifyPath(inst, prop, props)) {\n        notified = true;\n      }\n    }\n  }\n  // Flush host if we actually notified and host was batching\n  // And the host has already initialized clients; this prevents\n  // an issue with a host observing data changes before clients are ready.\n  let host;\n  if (notified && (host = inst.__dataHost) && host._invalidateProperties) {\n    host._invalidateProperties();\n  }\n}\n\n/**\n * Dispatches {property}-changed events with path information in the detail\n * object to indicate a sub-path of the property was changed.\n *\n * @param {!PropertyEffectsType} inst The element from which to fire the event\n * @param {string} path The path that was changed\n * @param {Object} props Bag of current property changes\n * @return {boolean} Returns true if the path was notified\n * @private\n */\nfunction notifyPath(inst, path, props) {\n  let rootProperty = root$0(path);\n  if (rootProperty !== path) {\n    let eventName = camelToDashCase$0(rootProperty) + '-changed';\n    dispatchNotifyEvent(inst, eventName, props[path], path);\n    return true;\n  }\n  return false;\n}\n\n/**\n * Dispatches {property}-changed events to indicate a property (or path)\n * changed.\n *\n * @param {!PropertyEffectsType} inst The element from which to fire the event\n * @param {string} eventName The name of the event to send ('{property}-changed')\n * @param {*} value The value of the changed property\n * @param {string | null | undefined} path If a sub-path of this property changed, the path\n *   that changed (optional).\n * @private\n * @suppress {invalidCasts}\n */\nfunction dispatchNotifyEvent(inst, eventName, value, path) {\n  let detail = {\n    value: value,\n    queueProperty: true\n  };\n  if (path) {\n    detail.path = path;\n  }\n  /** @type {!HTMLElement} */(inst).dispatchEvent(new CustomEvent(eventName, { detail }));\n}\n\n/**\n * Implements the \"notify\" effect.\n *\n * Dispatches a non-bubbling event named `info.eventName` on the instance\n * with a detail object containing the new `value`.\n *\n * @param {!PropertyEffectsType} inst The instance the effect will be run on\n * @param {string} property Name of property\n * @param {Object} props Bag of current property changes\n * @param {Object} oldProps Bag of previous values for changed properties\n * @param {?} info Effect metadata\n * @param {boolean} hasPaths True with `props` contains one or more paths\n * @private\n */\nfunction runNotifyEffect(inst, property, props, oldProps, info, hasPaths) {\n  let rootProperty = hasPaths ? root$0(property) : property;\n  let path = rootProperty != property ? property : null;\n  let value = path ? get$0(inst, path) : inst.__data[property];\n  if (path && value === undefined) {\n    value = props[property];  // specifically for .splices\n  }\n  dispatchNotifyEvent(inst, info.eventName, value, path);\n}\n\n/**\n * Handler function for 2-way notification events. Receives context\n * information captured in the `addNotifyListener` closure from the\n * `__notifyListeners` metadata.\n *\n * Sets the value of the notified property to the host property or path.  If\n * the event contained path information, translate that path to the host\n * scope's name for that path first.\n *\n * @param {CustomEvent} event Notification event (e.g. '<property>-changed')\n * @param {!PropertyEffectsType} inst Host element instance handling the notification event\n * @param {string} fromProp Child element property that was bound\n * @param {string} toPath Host property/path that was bound\n * @param {boolean} negate Whether the binding was negated\n * @private\n */\nfunction handleNotification(event, inst, fromProp, toPath, negate) {\n  let value;\n  let detail = /** @type {Object} */(event.detail);\n  let fromPath = detail && detail.path;\n  if (fromPath) {\n    toPath = translate(fromProp, toPath, fromPath);\n    value = detail && detail.value;\n  } else {\n    value = event.target[fromProp];\n  }\n  value = negate ? !value : value;\n  if (!inst[TYPES.READ_ONLY] || !inst[TYPES.READ_ONLY][toPath]) {\n    if (inst._setPendingPropertyOrPath(toPath, value, true, Boolean(fromPath))\n      && (!detail || !detail.queueProperty)) {\n      inst._invalidateProperties();\n    }\n  }\n}\n\n/**\n * Implements the \"reflect\" effect.\n *\n * Sets the attribute named `info.attrName` to the given property value.\n *\n * @param {!PropertyEffectsType} inst The instance the effect will be run on\n * @param {string} property Name of property\n * @param {Object} props Bag of current property changes\n * @param {Object} oldProps Bag of previous values for changed properties\n * @param {?} info Effect metadata\n * @private\n */\nfunction runReflectEffect(inst, property, props, oldProps, info) {\n  let value = inst.__data[property];\n  if (sanitizeDOMValue) {\n    value = sanitizeDOMValue(value, info.attrName, 'attribute', /** @type {Node} */(inst));\n  }\n  inst._propertyToAttribute(property, info.attrName, value);\n}\n\n/**\n * Runs \"computed\" effects for a set of changed properties.\n *\n * This method differs from the generic `runEffects` method in that it\n * continues to run computed effects based on the output of each pass until\n * there are no more newly computed properties.  This ensures that all\n * properties that will be computed by the initial set of changes are\n * computed before other effects (binding propagation, observers, and notify)\n * run.\n *\n * @param {!PropertyEffectsType} inst The instance the effect will be run on\n * @param {!Object} changedProps Bag of changed properties\n * @param {!Object} oldProps Bag of previous values for changed properties\n * @param {boolean} hasPaths True with `props` contains one or more paths\n * @private\n */\nfunction runComputedEffects(inst, changedProps, oldProps, hasPaths) {\n  let computeEffects = inst[TYPES.COMPUTE];\n  if (computeEffects) {\n    let inputProps = changedProps;\n    while (runEffects(inst, computeEffects, inputProps, oldProps, hasPaths)) {\n      Object.assign(oldProps, inst.__dataOld);\n      Object.assign(changedProps, inst.__dataPending);\n      inputProps = inst.__dataPending;\n      inst.__dataPending = null;\n    }\n  }\n}\n\n/**\n * Implements the \"computed property\" effect by running the method with the\n * values of the arguments specified in the `info` object and setting the\n * return value to the computed property specified.\n *\n * @param {!PropertyEffectsType} inst The instance the effect will be run on\n * @param {string} property Name of property\n * @param {Object} props Bag of current property changes\n * @param {Object} oldProps Bag of previous values for changed properties\n * @param {?} info Effect metadata\n * @private\n */\nfunction runComputedEffect(inst, property, props, oldProps, info) {\n  let result = runMethodEffect(inst, property, props, oldProps, info);\n  let computedProp = info.methodInfo;\n  if (inst.__dataHasAccessor && inst.__dataHasAccessor[computedProp]) {\n    inst._setPendingProperty(computedProp, result, true);\n  } else {\n    inst[computedProp] = result;\n  }\n}\n\n/**\n * Computes path changes based on path links set up using the `linkPaths`\n * API.\n *\n * @param {!PropertyEffectsType} inst The instance whose props are changing\n * @param {string | !Array<(string|number)>} path Path that has changed\n * @param {*} value Value of changed path\n * @private\n */\nfunction computeLinkedPaths(inst, path, value) {\n  let links = inst.__dataLinkedPaths;\n  if (links) {\n    let link;\n    for (let a in links) {\n      let b = links[a];\n      if (isDescendant(a, path)) {\n        link = translate(a, b, path);\n        inst._setPendingPropertyOrPath(link, value, true, true);\n      } else if (isDescendant(b, path)) {\n        link = translate(b, a, path);\n        inst._setPendingPropertyOrPath(link, value, true, true);\n      }\n    }\n  }\n}\n\n// -- bindings ----------------------------------------------\n\n/**\n * Adds binding metadata to the current `nodeInfo`, and binding effects\n * for all part dependencies to `templateInfo`.\n *\n * @param {Function} constructor Class that `_parseTemplate` is currently\n *   running on\n * @param {TemplateInfo} templateInfo Template metadata for current template\n * @param {NodeInfo} nodeInfo Node metadata for current template node\n * @param {string} kind Binding kind, either 'property', 'attribute', or 'text'\n * @param {string} target Target property name\n * @param {!Array<!BindingPart>} parts Array of binding part metadata\n * @param {string=} literal Literal text surrounding binding parts (specified\n *   only for 'property' bindings, since these must be initialized as part\n *   of boot-up)\n * @private\n */\nfunction addBinding(constructor, templateInfo, nodeInfo, kind, target, parts, literal) {\n  // Create binding metadata and add to nodeInfo\n  nodeInfo.bindings = nodeInfo.bindings || [];\n  let /** Binding */ binding = { kind, target, parts, literal, isCompound: (parts.length !== 1) };\n  nodeInfo.bindings.push(binding);\n  // Add listener info to binding metadata\n  if (shouldAddListener(binding)) {\n    let {event, negate} = binding.parts[0];\n    binding.listenerEvent = event || (CaseMap.camelToDashCase(target) + '-changed');\n    binding.listenerNegate = negate;\n  }\n  // Add \"propagate\" property effects to templateInfo\n  let index = templateInfo.nodeInfoList.length;\n  for (let i=0; i<binding.parts.length; i++) {\n    let part = binding.parts[i];\n    part.compoundIndex = i;\n    addEffectForBindingPart(constructor, templateInfo, binding, part, index);\n  }\n}\n\n/**\n * Adds property effects to the given `templateInfo` for the given binding\n * part.\n *\n * @param {Function} constructor Class that `_parseTemplate` is currently\n *   running on\n * @param {TemplateInfo} templateInfo Template metadata for current template\n * @param {!Binding} binding Binding metadata\n * @param {!BindingPart} part Binding part metadata\n * @param {number} index Index into `nodeInfoList` for this node\n */\nfunction addEffectForBindingPart(constructor, templateInfo, binding, part, index) {\n  if (!part.literal) {\n    if (binding.kind === 'attribute' && binding.target[0] === '-') {\n      console.warn('Cannot set attribute ' + binding.target +\n        ' because \"-\" is not a valid attribute starting character');\n    } else {\n      let dependencies = part.dependencies;\n      let info = { index, binding, part, evaluator: constructor };\n      for (let j=0; j<dependencies.length; j++) {\n        let trigger = dependencies[j];\n        if (typeof trigger == 'string') {\n          trigger = parseArg(trigger);\n          trigger.wildcard = true;\n        }\n        constructor._addTemplatePropertyEffect(templateInfo, trigger.rootProperty, {\n          fn: runBindingEffect,\n          info, trigger\n        });\n      }\n    }\n  }\n}\n\n/**\n * Implements the \"binding\" (property/path binding) effect.\n *\n * Note that binding syntax is overridable via `_parseBindings` and\n * `_evaluateBinding`.  This method will call `_evaluateBinding` for any\n * non-literal parts returned from `_parseBindings`.  However,\n * there is no support for _path_ bindings via custom binding parts,\n * as this is specific to Polymer's path binding syntax.\n *\n * @param {!PropertyEffectsType} inst The instance the effect will be run on\n * @param {string} path Name of property\n * @param {Object} props Bag of current property changes\n * @param {Object} oldProps Bag of previous values for changed properties\n * @param {?} info Effect metadata\n * @param {boolean} hasPaths True with `props` contains one or more paths\n * @param {Array} nodeList List of nodes associated with `nodeInfoList` template\n *   metadata\n * @private\n */\nfunction runBindingEffect(inst, path, props, oldProps, info, hasPaths, nodeList) {\n  let node = nodeList[info.index];\n  let binding = info.binding;\n  let part = info.part;\n  // Subpath notification: transform path and set to client\n  // e.g.: foo=\"{{obj.sub}}\", path: 'obj.sub.prop', set 'foo.prop'=obj.sub.prop\n  if (hasPaths && part.source && (path.length > part.source.length) &&\n      (binding.kind == 'property') && !binding.isCompound &&\n      node.__dataHasAccessor && node.__dataHasAccessor[binding.target]) {\n    let value = props[path];\n    path = translate(part.source, binding.target, path);\n    if (node._setPendingPropertyOrPath(path, value, false, true)) {\n      inst._enqueueClient(node);\n    }\n  } else {\n    let value = info.evaluator._evaluateBinding(inst, part, path, props, oldProps, hasPaths);\n    // Propagate value to child\n    applyBindingValue(inst, node, binding, part, value);\n  }\n}\n\n/**\n * Sets the value for an \"binding\" (binding) effect to a node,\n * either as a property or attribute.\n *\n * @param {!PropertyEffectsType} inst The instance owning the binding effect\n * @param {Node} node Target node for binding\n * @param {!Binding} binding Binding metadata\n * @param {!BindingPart} part Binding part metadata\n * @param {*} value Value to set\n * @private\n */\nfunction applyBindingValue(inst, node, binding, part, value) {\n  value = computeBindingValue(node, value, binding, part);\n  if (sanitizeDOMValue) {\n    value = sanitizeDOMValue(value, binding.target, binding.kind, node);\n  }\n  if (binding.kind == 'attribute') {\n    // Attribute binding\n    inst._valueToNodeAttribute(/** @type {Element} */(node), value, binding.target);\n  } else {\n    // Property binding\n    let prop = binding.target;\n    if (node.__dataHasAccessor && node.__dataHasAccessor[prop]) {\n      if (!node[TYPES.READ_ONLY] || !node[TYPES.READ_ONLY][prop]) {\n        if (node._setPendingProperty(prop, value)) {\n          inst._enqueueClient(node);\n        }\n      }\n    } else  {\n      inst._setUnmanagedPropertyToNode(node, prop, value);\n    }\n  }\n}\n\n/**\n * Transforms an \"binding\" effect value based on compound & negation\n * effect metadata, as well as handling for special-case properties\n *\n * @param {Node} node Node the value will be set to\n * @param {*} value Value to set\n * @param {!Binding} binding Binding metadata\n * @param {!BindingPart} part Binding part metadata\n * @return {*} Transformed value to set\n * @private\n */\nfunction computeBindingValue(node, value, binding, part) {\n  if (binding.isCompound) {\n    let storage = node.__dataCompoundStorage[binding.target];\n    storage[part.compoundIndex] = value;\n    value = storage.join('');\n  }\n  if (binding.kind !== 'attribute') {\n    // Some browsers serialize `undefined` to `\"undefined\"`\n    if (binding.target === 'textContent' ||\n        (node.localName == 'input' && binding.target == 'value')) {\n      value = value == undefined ? '' : value;\n    }\n  }\n  return value;\n}\n\n/**\n * Returns true if a binding's metadata meets all the requirements to allow\n * 2-way binding, and therefore a `<property>-changed` event listener should be\n * added:\n * - used curly braces\n * - is a property (not attribute) binding\n * - is not a textContent binding\n * - is not compound\n *\n * @param {!Binding} binding Binding metadata\n * @return {boolean} True if 2-way listener should be added\n * @private\n */\nfunction shouldAddListener(binding) {\n  return Boolean(binding.target) &&\n         binding.kind != 'attribute' &&\n         binding.kind != 'text' &&\n         !binding.isCompound &&\n         binding.parts[0].mode === '{';\n}\n\n/**\n * Setup compound binding storage structures, notify listeners, and dataHost\n * references onto the bound nodeList.\n *\n * @param {!PropertyEffectsType} inst Instance that bas been previously bound\n * @param {TemplateInfo} templateInfo Template metadata\n * @private\n */\nfunction setupBindings(inst, templateInfo) {\n  // Setup compound storage, dataHost, and notify listeners\n  let {nodeList, nodeInfoList} = templateInfo;\n  if (nodeInfoList.length) {\n    for (let i=0; i < nodeInfoList.length; i++) {\n      let info = nodeInfoList[i];\n      let node = nodeList[i];\n      let bindings = info.bindings;\n      if (bindings) {\n        for (let i=0; i<bindings.length; i++) {\n          let binding = bindings[i];\n          setupCompoundStorage(node, binding);\n          addNotifyListener(node, inst, binding);\n        }\n      }\n      node.__dataHost = inst;\n    }\n  }\n}\n\n/**\n * Initializes `__dataCompoundStorage` local storage on a bound node with\n * initial literal data for compound bindings, and sets the joined\n * literal parts to the bound property.\n *\n * When changes to compound parts occur, they are first set into the compound\n * storage array for that property, and then the array is joined to result in\n * the final value set to the property/attribute.\n *\n * @param {Node} node Bound node to initialize\n * @param {Binding} binding Binding metadata\n * @private\n */\nfunction setupCompoundStorage(node, binding) {\n  if (binding.isCompound) {\n    // Create compound storage map\n    let storage = node.__dataCompoundStorage ||\n      (node.__dataCompoundStorage = {});\n    let parts = binding.parts;\n    // Copy literals from parts into storage for this binding\n    let literals = new Array(parts.length);\n    for (let j=0; j<parts.length; j++) {\n      literals[j] = parts[j].literal;\n    }\n    let target = binding.target;\n    storage[target] = literals;\n    // Configure properties with their literal parts\n    if (binding.literal && binding.kind == 'property') {\n      node[target] = binding.literal;\n    }\n  }\n}\n\n/**\n * Adds a 2-way binding notification event listener to the node specified\n *\n * @param {Object} node Child element to add listener to\n * @param {!PropertyEffectsType} inst Host element instance to handle notification event\n * @param {Binding} binding Binding metadata\n * @private\n */\nfunction addNotifyListener(node, inst, binding) {\n  if (binding.listenerEvent) {\n    let part = binding.parts[0];\n    node.addEventListener(binding.listenerEvent, function(e) {\n      handleNotification(e, inst, binding.target, part.source, part.negate);\n    });\n  }\n}\n\n// -- for method-based effects (complexObserver & computed) --------------\n\n/**\n * Adds property effects for each argument in the method signature (and\n * optionally, for the method name if `dynamic` is true) that calls the\n * provided effect function.\n *\n * @param {Element | Object} model Prototype or instance\n * @param {!MethodSignature} sig Method signature metadata\n * @param {string} type Type of property effect to add\n * @param {Function} effectFn Function to run when arguments change\n * @param {*=} methodInfo Effect-specific information to be included in\n *   method effect metadata\n * @param {boolean|Object=} dynamicFn Boolean or object map indicating whether\n *   method names should be included as a dependency to the effect. Note,\n *   defaults to true if the signature is static (sig.static is true).\n * @private\n */\nfunction createMethodEffect(model, sig, type, effectFn, methodInfo, dynamicFn) {\n  dynamicFn = sig.static || (dynamicFn &&\n    (typeof dynamicFn !== 'object' || dynamicFn[sig.methodName]));\n  let info = {\n    methodName: sig.methodName,\n    args: sig.args,\n    methodInfo,\n    dynamicFn\n  };\n  for (let i=0, arg; (i<sig.args.length) && (arg=sig.args[i]); i++) {\n    if (!arg.literal) {\n      model._addPropertyEffect(arg.rootProperty, type, {\n        fn: effectFn, info: info, trigger: arg\n      });\n    }\n  }\n  if (dynamicFn) {\n    model._addPropertyEffect(sig.methodName, type, {\n      fn: effectFn, info: info\n    });\n  }\n}\n\n/**\n * Calls a method with arguments marshaled from properties on the instance\n * based on the method signature contained in the effect metadata.\n *\n * Multi-property observers, computed properties, and inline computing\n * functions call this function to invoke the method, then use the return\n * value accordingly.\n *\n * @param {!PropertyEffectsType} inst The instance the effect will be run on\n * @param {string} property Name of property\n * @param {Object} props Bag of current property changes\n * @param {Object} oldProps Bag of previous values for changed properties\n * @param {?} info Effect metadata\n * @return {*} Returns the return value from the method invocation\n * @private\n */\nfunction runMethodEffect(inst, property, props, oldProps, info) {\n  // Instances can optionally have a _methodHost which allows redirecting where\n  // to find methods. Currently used by `templatize`.\n  let context = inst._methodHost || inst;\n  let fn = context[info.methodName];\n  if (fn) {\n    let args = marshalArgs(inst.__data, info.args, property, props);\n    return fn.apply(context, args);\n  } else if (!info.dynamicFn) {\n    console.warn('method `' + info.methodName + '` not defined');\n  }\n}\n\nconst emptyArray = [];\n\n// Regular expressions used for binding\nconst IDENT  = '(?:' + '[a-zA-Z_$][\\\\w.:$\\\\-*]*' + ')';\nconst NUMBER = '(?:' + '[-+]?[0-9]*\\\\.?[0-9]+(?:[eE][-+]?[0-9]+)?' + ')';\nconst SQUOTE_STRING = '(?:' + '\\'(?:[^\\'\\\\\\\\]|\\\\\\\\.)*\\'' + ')';\nconst DQUOTE_STRING = '(?:' + '\"(?:[^\"\\\\\\\\]|\\\\\\\\.)*\"' + ')';\nconst STRING = '(?:' + SQUOTE_STRING + '|' + DQUOTE_STRING + ')';\nconst ARGUMENT = '(?:(' + IDENT + '|' + NUMBER + '|' +  STRING + ')\\\\s*' + ')';\nconst ARGUMENTS = '(?:' + ARGUMENT + '(?:,\\\\s*' + ARGUMENT + ')*' + ')';\nconst ARGUMENT_LIST = '(?:' + '\\\\(\\\\s*' +\n                              '(?:' + ARGUMENTS + '?' + ')' +\n                            '\\\\)\\\\s*' + ')';\nconst BINDING = '(' + IDENT + '\\\\s*' + ARGUMENT_LIST + '?' + ')'; // Group 3\nconst OPEN_BRACKET = '(\\\\[\\\\[|{{)' + '\\\\s*';\nconst CLOSE_BRACKET = '(?:]]|}})';\nconst NEGATE = '(?:(!)\\\\s*)?'; // Group 2\nconst EXPRESSION = OPEN_BRACKET + NEGATE + BINDING + CLOSE_BRACKET;\nconst bindingRegex = new RegExp(EXPRESSION, \"g\");\n\n/**\n * Create a string from binding parts of all the literal parts\n *\n * @param {!Array<BindingPart>} parts All parts to stringify\n * @return {string} String made from the literal parts\n */\nfunction literalFromParts(parts) {\n  let s = '';\n  for (let i=0; i<parts.length; i++) {\n    let literal = parts[i].literal;\n    s += literal || '';\n  }\n  return s;\n}\n\n/**\n * Parses an expression string for a method signature, and returns a metadata\n * describing the method in terms of `methodName`, `static` (whether all the\n * arguments are literals), and an array of `args`\n *\n * @param {string} expression The expression to parse\n * @return {?MethodSignature} The method metadata object if a method expression was\n *   found, otherwise `undefined`\n * @private\n */\nfunction parseMethod(expression) {\n  // tries to match valid javascript property names\n  let m = expression.match(/([^\\s]+?)\\(([\\s\\S]*)\\)/);\n  if (m) {\n    let methodName = m[1];\n    let sig = { methodName, static: true, args: emptyArray };\n    if (m[2].trim()) {\n      // replace escaped commas with comma entity, split on un-escaped commas\n      let args = m[2].replace(/\\\\,/g, '&comma;').split(',');\n      return parseArgs(args, sig);\n    } else {\n      return sig;\n    }\n  }\n  return null;\n}\n\n/**\n * Parses an array of arguments and sets the `args` property of the supplied\n * signature metadata object. Sets the `static` property to false if any\n * argument is a non-literal.\n *\n * @param {!Array<string>} argList Array of argument names\n * @param {!MethodSignature} sig Method signature metadata object\n * @return {!MethodSignature} The updated signature metadata object\n * @private\n */\nfunction parseArgs(argList, sig) {\n  sig.args = argList.map(function(rawArg) {\n    let arg = parseArg(rawArg);\n    if (!arg.literal) {\n      sig.static = false;\n    }\n    return arg;\n  }, this);\n  return sig;\n}\n\n/**\n * Parses an individual argument, and returns an argument metadata object\n * with the following fields:\n *\n *   {\n *     value: 'prop',        // property/path or literal value\n *     literal: false,       // whether argument is a literal\n *     structured: false,    // whether the property is a path\n *     rootProperty: 'prop', // the root property of the path\n *     wildcard: false       // whether the argument was a wildcard '.*' path\n *   }\n *\n * @param {string} rawArg The string value of the argument\n * @return {!MethodArg} Argument metadata object\n * @private\n */\nfunction parseArg(rawArg) {\n  // clean up whitespace\n  let arg = rawArg.trim()\n    // replace comma entity with comma\n    .replace(/&comma;/g, ',')\n    // repair extra escape sequences; note only commas strictly need\n    // escaping, but we allow any other char to be escaped since its\n    // likely users will do this\n    .replace(/\\\\(.)/g, '\\$1')\n    ;\n  // basic argument descriptor\n  let a = {\n    name: arg,\n    value: '',\n    literal: false\n  };\n  // detect literal value (must be String or Number)\n  let fc = arg[0];\n  if (fc === '-') {\n    fc = arg[1];\n  }\n  if (fc >= '0' && fc <= '9') {\n    fc = '#';\n  }\n  switch(fc) {\n    case \"'\":\n    case '\"':\n      a.value = arg.slice(1, -1);\n      a.literal = true;\n      break;\n    case '#':\n      a.value = Number(arg);\n      a.literal = true;\n      break;\n  }\n  // if not literal, look for structured path\n  if (!a.literal) {\n    a.rootProperty = root$0(arg);\n    // detect structured path (has dots)\n    a.structured = isPath$0(arg);\n    if (a.structured) {\n      a.wildcard = (arg.slice(-2) == '.*');\n      if (a.wildcard) {\n        a.name = arg.slice(0, -2);\n      }\n    }\n  }\n  return a;\n}\n\n/**\n * Gather the argument values for a method specified in the provided array\n * of argument metadata.\n *\n * The `path` and `value` arguments are used to fill in wildcard descriptor\n * when the method is being called as a result of a path notification.\n *\n * @param {Object} data Instance data storage object to read properties from\n * @param {!Array<!MethodArg>} args Array of argument metadata\n * @param {string} path Property/path name that triggered the method effect\n * @param {Object} props Bag of current property changes\n * @return {Array<*>} Array of argument values\n * @private\n */\nfunction marshalArgs(data, args, path, props) {\n  let values = [];\n  for (let i=0, l=args.length; i<l; i++) {\n    let arg = args[i];\n    let name = arg.name;\n    let v;\n    if (arg.literal) {\n      v = arg.value;\n    } else {\n      if (arg.structured) {\n        v = get$0(data, name);\n        // when data is not stored e.g. `splices`\n        if (v === undefined) {\n          v = props[name];\n        }\n      } else {\n        v = data[name];\n      }\n    }\n    if (arg.wildcard) {\n      // Only send the actual path changed info if the change that\n      // caused the observer to run matched the wildcard\n      let baseChanged = (name.indexOf(path + '.') === 0);\n      let matches = (path.indexOf(name) === 0 && !baseChanged);\n      values[i] = {\n        path: matches ? path : name,\n        value: matches ? props[path] : v,\n        base: v\n      };\n    } else {\n      values[i] = v;\n    }\n  }\n  return values;\n}\n\n// data api\n\n/**\n * Sends array splice notifications (`.splices` and `.length`)\n *\n * Note: this implementation only accepts normalized paths\n *\n * @param {!PropertyEffectsType} inst Instance to send notifications to\n * @param {Array} array The array the mutations occurred on\n * @param {string} path The path to the array that was mutated\n * @param {Array} splices Array of splice records\n * @private\n */\nfunction notifySplices(inst, array, path, splices) {\n  let splicesPath = path + '.splices';\n  inst.notifyPath(splicesPath, { indexSplices: splices });\n  inst.notifyPath(path + '.length', array.length);\n  // Null here to allow potentially large splice records to be GC'ed.\n  inst.__data[splicesPath] = {indexSplices: null};\n}\n\n/**\n * Creates a splice record and sends an array splice notification for\n * the described mutation\n *\n * Note: this implementation only accepts normalized paths\n *\n * @param {!PropertyEffectsType} inst Instance to send notifications to\n * @param {Array} array The array the mutations occurred on\n * @param {string} path The path to the array that was mutated\n * @param {number} index Index at which the array mutation occurred\n * @param {number} addedCount Number of added items\n * @param {Array} removed Array of removed items\n * @private\n */\nfunction notifySplice(inst, array, path, index, addedCount, removed) {\n  notifySplices(inst, array, path, [{\n    index: index,\n    addedCount: addedCount,\n    removed: removed,\n    object: array,\n    type: 'splice'\n  }]);\n}\n\n/**\n * Returns an upper-cased version of the string.\n *\n * @param {string} name String to uppercase\n * @return {string} Uppercased string\n * @private\n */\nfunction upper(name) {\n  return name[0].toUpperCase() + name.substring(1);\n}\n\nexport const PropertyEffects = dedupingMixin(superClass => {\n\n  /**\n   * @constructor\n   * @extends {superClass}\n   * @implements {Polymer_PropertyAccessors}\n   * @implements {Polymer_TemplateStamp}\n   * @unrestricted\n   */\n  const propertyEffectsBase = TemplateStamp(PropertyAccessors(superClass));\n\n  /**\n   * @polymer\n   * @mixinClass\n   * @implements {Polymer_PropertyEffects}\n   * @extends {propertyEffectsBase}\n   * @unrestricted\n   */\n  class PropertyEffects extends propertyEffectsBase {\n\n    constructor() {\n      super();\n      /** @type {boolean} */\n      this.__dataClientsReady;\n      /** @type {Array} */\n      this.__dataPendingClients;\n      /** @type {Object} */\n      this.__dataToNotify;\n      /** @type {Object} */\n      this.__dataLinkedPaths;\n      /** @type {boolean} */\n      this.__dataHasPaths;\n      /** @type {Object} */\n      this.__dataCompoundStorage;\n      /** @type {Polymer_PropertyEffects} */\n      this.__dataHost;\n      /** @type {!Object} */\n      this.__dataTemp;\n      /** @type {boolean} */\n      this.__dataClientsInitialized;\n      /** @type {!Object} */\n      this.__data;\n      /** @type {!Object} */\n      this.__dataPending;\n      /** @type {!Object} */\n      this.__dataOld;\n      /** @type {Object} */\n      this.__computeEffects;\n      /** @type {Object} */\n      this.__reflectEffects;\n      /** @type {Object} */\n      this.__notifyEffects;\n      /** @type {Object} */\n      this.__propagateEffects;\n      /** @type {Object} */\n      this.__observeEffects;\n      /** @type {Object} */\n      this.__readOnly;\n      /** @type {number} */\n      this.__dataCounter;\n      /** @type {!TemplateInfo} */\n      this.__templateInfo;\n    }\n\n    get PROPERTY_EFFECT_TYPES() {\n      return TYPES;\n    }\n\n    _initializeProperties() {\n      super._initializeProperties();\n      hostStack.registerHost(this);\n      this.__dataClientsReady = false;\n      this.__dataPendingClients = null;\n      this.__dataToNotify = null;\n      this.__dataLinkedPaths = null;\n      this.__dataHasPaths = false;\n      // May be set on instance prior to upgrade\n      this.__dataCompoundStorage = this.__dataCompoundStorage || null;\n      this.__dataHost = this.__dataHost || null;\n      this.__dataTemp = {};\n      this.__dataClientsInitialized = false;\n    }\n\n    /**\n     * Overrides `Polymer.PropertyAccessors` implementation to provide a\n     * more efficient implementation of initializing properties from\n     * the prototype on the instance.\n     *\n     * @override\n     * @param {Object} props Properties to initialize on the prototype\n     */\n    _initializeProtoProperties(props) {\n      this.__data = Object.create(props);\n      this.__dataPending = Object.create(props);\n      this.__dataOld = {};\n    }\n\n    /**\n     * Overrides `Polymer.PropertyAccessors` implementation to avoid setting\n     * `_setProperty`'s `shouldNotify: true`.\n     *\n     * @override\n     * @param {Object} props Properties to initialize on the instance\n     */\n    _initializeInstanceProperties(props) {\n      let readOnly = this[TYPES.READ_ONLY];\n      for (let prop in props) {\n        if (!readOnly || !readOnly[prop]) {\n          this.__dataPending = this.__dataPending || {};\n          this.__dataOld = this.__dataOld || {};\n          this.__data[prop] = this.__dataPending[prop] = props[prop];\n        }\n      }\n    }\n\n    // Prototype setup ----------------------------------------\n\n    /**\n     * Equivalent to static `addPropertyEffect` API but can be called on\n     * an instance to add effects at runtime.  See that method for\n     * full API docs.\n     *\n     * @param {string} property Property that should trigger the effect\n     * @param {string} type Effect type, from this.PROPERTY_EFFECT_TYPES\n     * @param {Object=} effect Effect metadata object\n     * @protected\n     */\n    _addPropertyEffect(property, type, effect) {\n      this._createPropertyAccessor(property, type == TYPES.READ_ONLY);\n      // effects are accumulated into arrays per property based on type\n      let effects = ensureOwnEffectMap(this, type)[property];\n      if (!effects) {\n        effects = this[type][property] = [];\n      }\n      effects.push(effect);\n    }\n\n    /**\n     * Removes the given property effect.\n     *\n     * @param {string} property Property the effect was associated with\n     * @param {string} type Effect type, from this.PROPERTY_EFFECT_TYPES\n     * @param {Object=} effect Effect metadata object to remove\n     */\n    _removePropertyEffect(property, type, effect) {\n      let effects = ensureOwnEffectMap(this, type)[property];\n      let idx = effects.indexOf(effect);\n      if (idx >= 0) {\n        effects.splice(idx, 1);\n      }\n    }\n\n    /**\n     * Returns whether the current prototype/instance has a property effect\n     * of a certain type.\n     *\n     * @param {string} property Property name\n     * @param {string=} type Effect type, from this.PROPERTY_EFFECT_TYPES\n     * @return {boolean} True if the prototype/instance has an effect of this type\n     * @protected\n     */\n    _hasPropertyEffect(property, type) {\n      let effects = this[type];\n      return Boolean(effects && effects[property]);\n    }\n\n    /**\n     * Returns whether the current prototype/instance has a \"read only\"\n     * accessor for the given property.\n     *\n     * @param {string} property Property name\n     * @return {boolean} True if the prototype/instance has an effect of this type\n     * @protected\n     */\n    _hasReadOnlyEffect(property) {\n      return this._hasPropertyEffect(property, TYPES.READ_ONLY);\n    }\n\n    /**\n     * Returns whether the current prototype/instance has a \"notify\"\n     * property effect for the given property.\n     *\n     * @param {string} property Property name\n     * @return {boolean} True if the prototype/instance has an effect of this type\n     * @protected\n     */\n    _hasNotifyEffect(property) {\n      return this._hasPropertyEffect(property, TYPES.NOTIFY);\n    }\n\n    /**\n     * Returns whether the current prototype/instance has a \"reflect to attribute\"\n     * property effect for the given property.\n     *\n     * @param {string} property Property name\n     * @return {boolean} True if the prototype/instance has an effect of this type\n     * @protected\n     */\n    _hasReflectEffect(property) {\n      return this._hasPropertyEffect(property, TYPES.REFLECT);\n    }\n\n    /**\n     * Returns whether the current prototype/instance has a \"computed\"\n     * property effect for the given property.\n     *\n     * @param {string} property Property name\n     * @return {boolean} True if the prototype/instance has an effect of this type\n     * @protected\n     */\n    _hasComputedEffect(property) {\n      return this._hasPropertyEffect(property, TYPES.COMPUTE);\n    }\n\n    // Runtime ----------------------------------------\n\n    /**\n     * Sets a pending property or path.  If the root property of the path in\n     * question had no accessor, the path is set, otherwise it is enqueued\n     * via `_setPendingProperty`.\n     *\n     * This function isolates relatively expensive functionality necessary\n     * for the public API (`set`, `setProperties`, `notifyPath`, and property\n     * change listeners via {{...}} bindings), such that it is only done\n     * when paths enter the system, and not at every propagation step.  It\n     * also sets a `__dataHasPaths` flag on the instance which is used to\n     * fast-path slower path-matching code in the property effects host paths.\n     *\n     * `path` can be a path string or array of path parts as accepted by the\n     * public API.\n     *\n     * @param {string | !Array<number|string>} path Path to set\n     * @param {*} value Value to set\n     * @param {boolean=} shouldNotify Set to true if this change should\n     *  cause a property notification event dispatch\n     * @param {boolean=} isPathNotification If the path being set is a path\n     *   notification of an already changed value, as opposed to a request\n     *   to set and notify the change.  In the latter `false` case, a dirty\n     *   check is performed and then the value is set to the path before\n     *   enqueuing the pending property change.\n     * @return {boolean} Returns true if the property/path was enqueued in\n     *   the pending changes bag.\n     * @protected\n     */\n    _setPendingPropertyOrPath(path, value, shouldNotify, isPathNotification) {\n      if (isPathNotification ||\n          root$0(Array.isArray(path) ? path[0] : path) !== path) {\n        // Dirty check changes being set to a path against the actual object,\n        // since this is the entry point for paths into the system; from here\n        // the only dirty checks are against the `__dataTemp` cache to prevent\n        // duplicate work in the same turn only. Note, if this was a notification\n        // of a change already set to a path (isPathNotification: true),\n        // we always let the change through and skip the `set` since it was\n        // already dirty checked at the point of entry and the underlying\n        // object has already been updated\n        if (!isPathNotification) {\n          let old = get$0(this, path);\n          path = /** @type {string} */ (set$0(this, path, value));\n          // Use property-accessor's simpler dirty check\n          if (!path || !super._shouldPropertyChange(path, value, old)) {\n            return false;\n          }\n        }\n        this.__dataHasPaths = true;\n        if (this._setPendingProperty(/**@type{string}*/(path), value, shouldNotify)) {\n          computeLinkedPaths(this, path, value);\n          return true;\n        }\n      } else {\n        if (this.__dataHasAccessor && this.__dataHasAccessor[path]) {\n          return this._setPendingProperty(/**@type{string}*/(path), value, shouldNotify);\n        } else {\n          this[path] = value;\n        }\n      }\n      return false;\n    }\n\n    /**\n     * Applies a value to a non-Polymer element/node's property.\n     *\n     * The implementation makes a best-effort at binding interop:\n     * Some native element properties have side-effects when\n     * re-setting the same value (e.g. setting `<input>.value` resets the\n     * cursor position), so we do a dirty-check before setting the value.\n     * However, for better interop with non-Polymer custom elements that\n     * accept objects, we explicitly re-set object changes coming from the\n     * Polymer world (which may include deep object changes without the\n     * top reference changing), erring on the side of providing more\n     * information.\n     *\n     * Users may override this method to provide alternate approaches.\n     *\n     * @param {Node} node The node to set a property on\n     * @param {string} prop The property to set\n     * @param {*} value The value to set\n     * @protected\n     */\n    _setUnmanagedPropertyToNode(node, prop, value) {\n      // It is a judgment call that resetting primitives is\n      // \"bad\" and resettings objects is also \"good\"; alternatively we could\n      // implement a whitelist of tag & property values that should never\n      // be reset (e.g. <input>.value && <select>.value)\n      if (value !== node[prop] || typeof value == 'object') {\n        node[prop] = value;\n      }\n    }\n\n    /**\n     * Overrides the `PropertyAccessors` implementation to introduce special\n     * dirty check logic depending on the property & value being set:\n     *\n     * 1. Any value set to a path (e.g. 'obj.prop': 42 or 'obj.prop': {...})\n     *    Stored in `__dataTemp`, dirty checked against `__dataTemp`\n     * 2. Object set to simple property (e.g. 'prop': {...})\n     *    Stored in `__dataTemp` and `__data`, dirty checked against\n     *    `__dataTemp` by default implementation of `_shouldPropertyChange`\n     * 3. Primitive value set to simple property (e.g. 'prop': 42)\n     *    Stored in `__data`, dirty checked against `__data`\n     *\n     * The dirty-check is important to prevent cycles due to two-way\n     * notification, but paths and objects are only dirty checked against any\n     * previous value set during this turn via a \"temporary cache\" that is\n     * cleared when the last `_propertiesChaged` exits. This is so:\n     * a. any cached array paths (e.g. 'array.3.prop') may be invalidated\n     *    due to array mutations like shift/unshift/splice; this is fine\n     *    since path changes are dirty-checked at user entry points like `set`\n     * b. dirty-checking for objects only lasts one turn to allow the user\n     *    to mutate the object in-place and re-set it with the same identity\n     *    and have all sub-properties re-propagated in a subsequent turn.\n     *\n     * The temp cache is not necessarily sufficient to prevent invalid array\n     * paths, since a splice can happen during the same turn (with pathological\n     * user code); we could introduce a \"fixup\" for temporarily cached array\n     * paths if needed: https://github.com/Polymer/polymer/issues/4227\n     *\n     * @param {string} property Name of the property\n     * @param {*} value Value to set\n     * @param {boolean=} shouldNotify True if property should fire notification\n     *   event (applies only for `notify: true` properties)\n     * @return {boolean} Returns true if the property changed\n     * @override\n     */\n    _setPendingProperty(property, value, shouldNotify) {\n      let isPath = this.__dataHasPaths && isPath$0(property);\n      let prevProps = isPath ? this.__dataTemp : this.__data;\n      if (this._shouldPropertyChange(property, value, prevProps[property])) {\n        if (!this.__dataPending) {\n          this.__dataPending = {};\n          this.__dataOld = {};\n        }\n        // Ensure old is captured from the last turn\n        if (!(property in this.__dataOld)) {\n          this.__dataOld[property] = this.__data[property];\n        }\n        // Paths are stored in temporary cache (cleared at end of turn),\n        // which is used for dirty-checking, all others stored in __data\n        if (isPath) {\n          this.__dataTemp[property] = value;\n        } else {\n          this.__data[property] = value;\n        }\n        // All changes go into pending property bag, passed to _propertiesChanged\n        this.__dataPending[property] = value;\n        // Track properties that should notify separately\n        if (isPath || (this[TYPES.NOTIFY] && this[TYPES.NOTIFY][property])) {\n          this.__dataToNotify = this.__dataToNotify || {};\n          this.__dataToNotify[property] = shouldNotify;\n        }\n        return true;\n      }\n      return false;\n    }\n\n    /**\n     * Overrides base implementation to ensure all accessors set `shouldNotify`\n     * to true, for per-property notification tracking.\n     *\n     * @override\n     */\n    _setProperty(property, value) {\n      if (this._setPendingProperty(property, value, true)) {\n        this._invalidateProperties();\n      }\n    }\n\n    /**\n     * Overrides `PropertyAccessor`'s default async queuing of\n     * `_propertiesChanged`: if `__dataReady` is false (has not yet been\n     * manually flushed), the function no-ops; otherwise flushes\n     * `_propertiesChanged` synchronously.\n     *\n     * @override\n     */\n    _invalidateProperties() {\n      if (this.__dataReady) {\n        this._flushProperties();\n      }\n    }\n\n    /**\n     * Enqueues the given client on a list of pending clients, whose\n     * pending property changes can later be flushed via a call to\n     * `_flushClients`.\n     *\n     * @param {Object} client PropertyEffects client to enqueue\n     * @protected\n     */\n    _enqueueClient(client) {\n      this.__dataPendingClients = this.__dataPendingClients || [];\n      if (client !== this) {\n        this.__dataPendingClients.push(client);\n      }\n    }\n\n    /**\n     * Flushes any clients previously enqueued via `_enqueueClient`, causing\n     * their `_flushProperties` method to run.\n     *\n     * @protected\n     */\n    _flushClients() {\n      if (!this.__dataClientsReady) {\n        this.__dataClientsReady = true;\n        this._readyClients();\n        // Override point where accessors are turned on; importantly,\n        // this is after clients have fully readied, providing a guarantee\n        // that any property effects occur only after all clients are ready.\n        this.__dataReady = true;\n      } else {\n        this.__enableOrFlushClients();\n      }\n    }\n\n    // NOTE: We ensure clients either enable or flush as appropriate. This\n    // handles two corner cases:\n    // (1) clients flush properly when connected/enabled before the host\n    // enables; e.g.\n    //   (a) Templatize stamps with no properties and does not flush and\n    //   (b) the instance is inserted into dom and\n    //   (c) then the instance flushes.\n    // (2) clients enable properly when not connected/enabled when the host\n    // flushes; e.g.\n    //   (a) a template is runtime stamped and not yet connected/enabled\n    //   (b) a host sets a property, causing stamped dom to flush\n    //   (c) the stamped dom enables.\n    __enableOrFlushClients() {\n      let clients = this.__dataPendingClients;\n      if (clients) {\n        this.__dataPendingClients = null;\n        for (let i=0; i < clients.length; i++) {\n          let client = clients[i];\n          if (!client.__dataEnabled) {\n            client._enableProperties();\n          } else if (client.__dataPending) {\n            client._flushProperties();\n          }\n        }\n      }\n    }\n\n    /**\n     * Perform any initial setup on client dom. Called before the first\n     * `_flushProperties` call on client dom and before any element\n     * observers are called.\n     *\n     * @protected\n     */\n    _readyClients() {\n      this.__enableOrFlushClients();\n    }\n\n    /**\n     * Sets a bag of property changes to this instance, and\n     * synchronously processes all effects of the properties as a batch.\n     *\n     * Property names must be simple properties, not paths.  Batched\n     * path propagation is not supported.\n     *\n     * @param {Object} props Bag of one or more key-value pairs whose key is\n     *   a property and value is the new value to set for that property.\n     * @param {boolean=} setReadOnly When true, any private values set in\n     *   `props` will be set. By default, `setProperties` will not set\n     *   `readOnly: true` root properties.\n     * @public\n     */\n    setProperties(props, setReadOnly) {\n      for (let path in props) {\n        if (setReadOnly || !this[TYPES.READ_ONLY] || !this[TYPES.READ_ONLY][path]) {\n          //TODO(kschaaf): explicitly disallow paths in setProperty?\n          // wildcard observers currently only pass the first changed path\n          // in the `info` object, and you could do some odd things batching\n          // paths, e.g. {'foo.bar': {...}, 'foo': null}\n          this._setPendingPropertyOrPath(path, props[path], true);\n        }\n      }\n      this._invalidateProperties();\n    }\n\n    /**\n     * Overrides `PropertyAccessors` so that property accessor\n     * side effects are not enabled until after client dom is fully ready.\n     * Also calls `_flushClients` callback to ensure client dom is enabled\n     * that was not enabled as a result of flushing properties.\n     *\n     * @override\n     */\n    ready() {\n      // It is important that `super.ready()` is not called here as it\n      // immediately turns on accessors. Instead, we wait until `readyClients`\n      // to enable accessors to provide a guarantee that clients are ready\n      // before processing any accessors side effects.\n      this._flushProperties();\n      // If no data was pending, `_flushProperties` will not `flushClients`\n      // so ensure this is done.\n      if (!this.__dataClientsReady) {\n        this._flushClients();\n      }\n      // Before ready, client notifications do not trigger _flushProperties.\n      // Therefore a flush is necessary here if data has been set.\n      if (this.__dataPending) {\n        this._flushProperties();\n      }\n    }\n\n    /**\n     * Implements `PropertyAccessors`'s properties changed callback.\n     *\n     * Runs each class of effects for the batch of changed properties in\n     * a specific order (compute, propagate, reflect, observe, notify).\n     *\n     * @override\n     */\n    _propertiesChanged(currentProps, changedProps, oldProps) {\n      // ----------------------------\n      // let c = Object.getOwnPropertyNames(changedProps || {});\n      // window.debug && console.group(this.localName + '#' + this.id + ': ' + c);\n      // if (window.debug) { debugger; }\n      // ----------------------------\n      let hasPaths = this.__dataHasPaths;\n      this.__dataHasPaths = false;\n      // Compute properties\n      runComputedEffects(this, changedProps, oldProps, hasPaths);\n      // Clear notify properties prior to possible reentry (propagate, observe),\n      // but after computing effects have a chance to add to them\n      let notifyProps = this.__dataToNotify;\n      this.__dataToNotify = null;\n      // Propagate properties to clients\n      this._propagatePropertyChanges(changedProps, oldProps, hasPaths);\n      // Flush clients\n      this._flushClients();\n      // Reflect properties\n      runEffects(this, this[TYPES.REFLECT], changedProps, oldProps, hasPaths);\n      // Observe properties\n      runEffects(this, this[TYPES.OBSERVE], changedProps, oldProps, hasPaths);\n      // Notify properties to host\n      if (notifyProps) {\n        runNotifyEffects(this, notifyProps, changedProps, oldProps, hasPaths);\n      }\n      // Clear temporary cache at end of turn\n      if (this.__dataCounter == 1) {\n        this.__dataTemp = {};\n      }\n      // ----------------------------\n      // window.debug && console.groupEnd(this.localName + '#' + this.id + ': ' + c);\n      // ----------------------------\n    }\n\n    /**\n     * Called to propagate any property changes to stamped template nodes\n     * managed by this element.\n     *\n     * @param {Object} changedProps Bag of changed properties\n     * @param {Object} oldProps Bag of previous values for changed properties\n     * @param {boolean} hasPaths True with `props` contains one or more paths\n     * @protected\n     */\n    _propagatePropertyChanges(changedProps, oldProps, hasPaths) {\n      if (this[TYPES.PROPAGATE]) {\n        runEffects(this, this[TYPES.PROPAGATE], changedProps, oldProps, hasPaths);\n      }\n      let templateInfo = this.__templateInfo;\n      while (templateInfo) {\n        runEffects(this, templateInfo.propertyEffects, changedProps, oldProps,\n          hasPaths, templateInfo.nodeList);\n        templateInfo = templateInfo.nextTemplateInfo;\n      }\n    }\n\n    /**\n     * Aliases one data path as another, such that path notifications from one\n     * are routed to the other.\n     *\n     * @param {string | !Array<string|number>} to Target path to link.\n     * @param {string | !Array<string|number>} from Source path to link.\n     * @public\n     */\n    linkPaths(to, from) {\n      to = normalize(to);\n      from = normalize(from);\n      this.__dataLinkedPaths = this.__dataLinkedPaths || {};\n      this.__dataLinkedPaths[to] = from;\n    }\n\n    /**\n     * Removes a data path alias previously established with `_linkPaths`.\n     *\n     * Note, the path to unlink should be the target (`to`) used when\n     * linking the paths.\n     *\n     * @param {string | !Array<string|number>} path Target path to unlink.\n     * @public\n     */\n    unlinkPaths(path) {\n      path = normalize(path);\n      if (this.__dataLinkedPaths) {\n        delete this.__dataLinkedPaths[path];\n      }\n    }\n\n    /**\n     * Notify that an array has changed.\n     *\n     * Example:\n     *\n     *     this.items = [ {name: 'Jim'}, {name: 'Todd'}, {name: 'Bill'} ];\n     *     ...\n     *     this.items.splice(1, 1, {name: 'Sam'});\n     *     this.items.push({name: 'Bob'});\n     *     this.notifySplices('items', [\n     *       { index: 1, removed: [{name: 'Todd'}], addedCount: 1, obect: this.items, type: 'splice' },\n     *       { index: 3, removed: [], addedCount: 1, object: this.items, type: 'splice'}\n     *     ]);\n     *\n     * @param {string} path Path that should be notified.\n     * @param {Array} splices Array of splice records indicating ordered\n     *   changes that occurred to the array. Each record should have the\n     *   following fields:\n     *    * index: index at which the change occurred\n     *    * removed: array of items that were removed from this index\n     *    * addedCount: number of new items added at this index\n     *    * object: a reference to the array in question\n     *    * type: the string literal 'splice'\n     *\n     *   Note that splice records _must_ be normalized such that they are\n     *   reported in index order (raw results from `Object.observe` are not\n     *   ordered and must be normalized/merged before notifying).\n     * @public\n    */\n    notifySplices(path, splices) {\n      let info = {path: ''};\n      let array = /** @type {Array} */(get$0(this, path, info));\n      notifySplices(this, array, info.path, splices);\n    }\n\n    /**\n     * Convenience method for reading a value from a path.\n     *\n     * Note, if any part in the path is undefined, this method returns\n     * `undefined` (this method does not throw when dereferencing undefined\n     * paths).\n     *\n     * @param {(string|!Array<(string|number)>)} path Path to the value\n     *   to read.  The path may be specified as a string (e.g. `foo.bar.baz`)\n     *   or an array of path parts (e.g. `['foo.bar', 'baz']`).  Note that\n     *   bracketed expressions are not supported; string-based path parts\n     *   *must* be separated by dots.  Note that when dereferencing array\n     *   indices, the index may be used as a dotted part directly\n     *   (e.g. `users.12.name` or `['users', 12, 'name']`).\n     * @param {Object=} root Root object from which the path is evaluated.\n     * @return {*} Value at the path, or `undefined` if any part of the path\n     *   is undefined.\n     * @public\n     */\n    get(path, root) {\n      return get$0(root || this, path);\n    }\n\n    /**\n     * Convenience method for setting a value to a path and notifying any\n     * elements bound to the same path.\n     *\n     * Note, if any part in the path except for the last is undefined,\n     * this method does nothing (this method does not throw when\n     * dereferencing undefined paths).\n     *\n     * @param {(string|!Array<(string|number)>)} path Path to the value\n     *   to write.  The path may be specified as a string (e.g. `'foo.bar.baz'`)\n     *   or an array of path parts (e.g. `['foo.bar', 'baz']`).  Note that\n     *   bracketed expressions are not supported; string-based path parts\n     *   *must* be separated by dots.  Note that when dereferencing array\n     *   indices, the index may be used as a dotted part directly\n     *   (e.g. `'users.12.name'` or `['users', 12, 'name']`).\n     * @param {*} value Value to set at the specified path.\n     * @param {Object=} root Root object from which the path is evaluated.\n     *   When specified, no notification will occur.\n     * @public\n    */\n    set(path, value, root) {\n      if (root) {\n        set$0(root, path, value);\n      } else {\n        if (!this[TYPES.READ_ONLY] || !this[TYPES.READ_ONLY][/** @type {string} */(path)]) {\n          if (this._setPendingPropertyOrPath(path, value, true)) {\n            this._invalidateProperties();\n          }\n        }\n      }\n    }\n\n    /**\n     * Adds items onto the end of the array at the path specified.\n     *\n     * The arguments after `path` and return value match that of\n     * `Array.prototype.push`.\n     *\n     * This method notifies other paths to the same array that a\n     * splice occurred to the array.\n     *\n     * @param {string | !Array<string|number>} path Path to array.\n     * @param {...*} items Items to push onto array\n     * @return {number} New length of the array.\n     * @public\n     */\n    push(path, ...items) {\n      let info = {path: ''};\n      let array = /** @type {Array}*/(get$0(this, path, info));\n      let len = array.length;\n      let ret = array.push(...items);\n      if (items.length) {\n        notifySplice(this, array, info.path, len, items.length, []);\n      }\n      return ret;\n    }\n\n    /**\n     * Removes an item from the end of array at the path specified.\n     *\n     * The arguments after `path` and return value match that of\n     * `Array.prototype.pop`.\n     *\n     * This method notifies other paths to the same array that a\n     * splice occurred to the array.\n     *\n     * @param {string | !Array<string|number>} path Path to array.\n     * @return {*} Item that was removed.\n     * @public\n     */\n    pop(path) {\n      let info = {path: ''};\n      let array = /** @type {Array} */(get$0(this, path, info));\n      let hadLength = Boolean(array.length);\n      let ret = array.pop();\n      if (hadLength) {\n        notifySplice(this, array, info.path, array.length, 0, [ret]);\n      }\n      return ret;\n    }\n\n    /**\n     * Starting from the start index specified, removes 0 or more items\n     * from the array and inserts 0 or more new items in their place.\n     *\n     * The arguments after `path` and return value match that of\n     * `Array.prototype.splice`.\n     *\n     * This method notifies other paths to the same array that a\n     * splice occurred to the array.\n     *\n     * @param {string | !Array<string|number>} path Path to array.\n     * @param {number} start Index from which to start removing/inserting.\n     * @param {number} deleteCount Number of items to remove.\n     * @param {...*} items Items to insert into array.\n     * @return {Array} Array of removed items.\n     * @public\n     */\n    splice(path, start, deleteCount, ...items) {\n      let info = {path : ''};\n      let array = /** @type {Array} */(get$0(this, path, info));\n      // Normalize fancy native splice handling of crazy start values\n      if (start < 0) {\n        start = array.length - Math.floor(-start);\n      } else {\n        start = Math.floor(start);\n      }\n      if (!start) {\n        start = 0;\n      }\n      let ret = array.splice(start, deleteCount, ...items);\n      if (items.length || ret.length) {\n        notifySplice(this, array, info.path, start, items.length, ret);\n      }\n      return ret;\n    }\n\n    /**\n     * Removes an item from the beginning of array at the path specified.\n     *\n     * The arguments after `path` and return value match that of\n     * `Array.prototype.pop`.\n     *\n     * This method notifies other paths to the same array that a\n     * splice occurred to the array.\n     *\n     * @param {string | !Array<string|number>} path Path to array.\n     * @return {*} Item that was removed.\n     * @public\n     */\n    shift(path) {\n      let info = {path: ''};\n      let array = /** @type {Array} */(get$0(this, path, info));\n      let hadLength = Boolean(array.length);\n      let ret = array.shift();\n      if (hadLength) {\n        notifySplice(this, array, info.path, 0, 0, [ret]);\n      }\n      return ret;\n    }\n\n    /**\n     * Adds items onto the beginning of the array at the path specified.\n     *\n     * The arguments after `path` and return value match that of\n     * `Array.prototype.push`.\n     *\n     * This method notifies other paths to the same array that a\n     * splice occurred to the array.\n     *\n     * @param {string | !Array<string|number>} path Path to array.\n     * @param {...*} items Items to insert info array\n     * @return {number} New length of the array.\n     * @public\n     */\n    unshift(path, ...items) {\n      let info = {path: ''};\n      let array = /** @type {Array} */(get$0(this, path, info));\n      let ret = array.unshift(...items);\n      if (items.length) {\n        notifySplice(this, array, info.path, 0, items.length, []);\n      }\n      return ret;\n    }\n\n    /**\n     * Notify that a path has changed.\n     *\n     * Example:\n     *\n     *     this.item.user.name = 'Bob';\n     *     this.notifyPath('item.user.name');\n     *\n     * @param {string} path Path that should be notified.\n     * @param {*=} value Value at the path (optional).\n     * @public\n    */\n    notifyPath(path, value) {\n      /** @type {string} */\n      let propPath;\n      if (arguments.length == 1) {\n        // Get value if not supplied\n        let info = {path: ''};\n        value = get$0(this, path, info);\n        propPath = info.path;\n      } else if (Array.isArray(path)) {\n        // Normalize path if needed\n        propPath = normalize(path);\n      } else {\n        propPath = /** @type{string} */(path);\n      }\n      if (this._setPendingPropertyOrPath(propPath, value, true, true)) {\n        this._invalidateProperties();\n      }\n    }\n\n    /**\n     * Equivalent to static `createReadOnlyProperty` API but can be called on\n     * an instance to add effects at runtime.  See that method for\n     * full API docs.\n     *\n     * @param {string} property Property name\n     * @param {boolean=} protectedSetter Creates a custom protected setter\n     *   when `true`.\n     * @protected\n     */\n    _createReadOnlyProperty(property, protectedSetter) {\n      this._addPropertyEffect(property, TYPES.READ_ONLY);\n      if (protectedSetter) {\n        this['_set' + upper(property)] = /** @this {PropertyEffects} */function(value) {\n          this._setProperty(property, value);\n        };\n      }\n    }\n\n    /**\n     * Equivalent to static `createPropertyObserver` API but can be called on\n     * an instance to add effects at runtime.  See that method for\n     * full API docs.\n     *\n     * @param {string} property Property name\n     * @param {string} methodName Name of observer method to call\n     * @param {boolean=} dynamicFn Whether the method name should be included as\n     *   a dependency to the effect.\n     * @protected\n     */\n    _createPropertyObserver(property, methodName, dynamicFn) {\n      let info = { property, methodName, dynamicFn: Boolean(dynamicFn) };\n      this._addPropertyEffect(property, TYPES.OBSERVE, {\n        fn: runObserverEffect, info, trigger: {name: property}\n      });\n      if (dynamicFn) {\n        this._addPropertyEffect(methodName, TYPES.OBSERVE, {\n          fn: runObserverEffect, info, trigger: {name: methodName}\n        });\n      }\n    }\n\n    /**\n     * Equivalent to static `createMethodObserver` API but can be called on\n     * an instance to add effects at runtime.  See that method for\n     * full API docs.\n     *\n     * @param {string} expression Method expression\n     * @param {boolean|Object=} dynamicFn Boolean or object map indicating\n     *   whether method names should be included as a dependency to the effect.\n     * @protected\n     */\n    _createMethodObserver(expression, dynamicFn) {\n      let sig = parseMethod(expression);\n      if (!sig) {\n        throw new Error(\"Malformed observer expression '\" + expression + \"'\");\n      }\n      createMethodEffect(this, sig, TYPES.OBSERVE, runMethodEffect, null, dynamicFn);\n    }\n\n    /**\n     * Equivalent to static `createNotifyingProperty` API but can be called on\n     * an instance to add effects at runtime.  See that method for\n     * full API docs.\n     *\n     * @param {string} property Property name\n     * @protected\n     */\n    _createNotifyingProperty(property) {\n      this._addPropertyEffect(property, TYPES.NOTIFY, {\n        fn: runNotifyEffect,\n        info: {\n          eventName: CaseMap.camelToDashCase(property) + '-changed',\n          property: property\n        }\n      });\n    }\n\n    /**\n     * Equivalent to static `createReflectedProperty` API but can be called on\n     * an instance to add effects at runtime.  See that method for\n     * full API docs.\n     *\n     * @param {string} property Property name\n     * @protected\n     */\n    _createReflectedProperty(property) {\n      let attr = CaseMap.camelToDashCase(property);\n      if (attr[0] === '-') {\n        console.warn('Property ' + property + ' cannot be reflected to attribute ' +\n          attr + ' because \"-\" is not a valid starting attribute name. Use a lowercase first letter for the property thisead.');\n      } else {\n        this._addPropertyEffect(property, TYPES.REFLECT, {\n          fn: runReflectEffect,\n          info: {\n            attrName: attr\n          }\n        });\n      }\n    }\n\n    /**\n     * Equivalent to static `createComputedProperty` API but can be called on\n     * an instance to add effects at runtime.  See that method for\n     * full API docs.\n     *\n     * @param {string} property Name of computed property to set\n     * @param {string} expression Method expression\n     * @param {boolean|Object=} dynamicFn Boolean or object map indicating\n     *   whether method names should be included as a dependency to the effect.\n     * @protected\n     */\n    _createComputedProperty(property, expression, dynamicFn) {\n      let sig = parseMethod(expression);\n      if (!sig) {\n        throw new Error(\"Malformed computed expression '\" + expression + \"'\");\n      }\n      createMethodEffect(this, sig, TYPES.COMPUTE, runComputedEffect, property, dynamicFn);\n    }\n\n    // -- static class methods ------------\n\n    /**\n     * Ensures an accessor exists for the specified property, and adds\n     * to a list of \"property effects\" that will run when the accessor for\n     * the specified property is set.  Effects are grouped by \"type\", which\n     * roughly corresponds to a phase in effect processing.  The effect\n     * metadata should be in the following form:\n     *\n     *     {\n     *       fn: effectFunction, // Reference to function to call to perform effect\n     *       info: { ... }       // Effect metadata passed to function\n     *       trigger: {          // Optional triggering metadata; if not provided\n     *         name: string      // the property is treated as a wildcard\n     *         structured: boolean\n     *         wildcard: boolean\n     *       }\n     *     }\n     *\n     * Effects are called from `_propertiesChanged` in the following order by\n     * type:\n     *\n     * 1. COMPUTE\n     * 2. PROPAGATE\n     * 3. REFLECT\n     * 4. OBSERVE\n     * 5. NOTIFY\n     *\n     * Effect functions are called with the following signature:\n     *\n     *     effectFunction(inst, path, props, oldProps, info, hasPaths)\n     *\n     * @param {string} property Property that should trigger the effect\n     * @param {string} type Effect type, from this.PROPERTY_EFFECT_TYPES\n     * @param {Object=} effect Effect metadata object\n     * @protected\n     */\n    static addPropertyEffect(property, type, effect) {\n      this.prototype._addPropertyEffect(property, type, effect);\n    }\n\n    /**\n     * Creates a single-property observer for the given property.\n     *\n     * @param {string} property Property name\n     * @param {string} methodName Name of observer method to call\n     * @param {boolean=} dynamicFn Whether the method name should be included as\n     *   a dependency to the effect.\n     * @protected\n     */\n    static createPropertyObserver(property, methodName, dynamicFn) {\n      this.prototype._createPropertyObserver(property, methodName, dynamicFn);\n    }\n\n    /**\n     * Creates a multi-property \"method observer\" based on the provided\n     * expression, which should be a string in the form of a normal Javascript\n     * function signature: `'methodName(arg1, [..., argn])'`.  Each argument\n     * should correspond to a property or path in the context of this\n     * prototype (or instance), or may be a literal string or number.\n     *\n     * @param {string} expression Method expression\n     * @param {boolean|Object=} dynamicFn Boolean or object map indicating\n     *   whether method names should be included as a dependency to the effect.\n     * @protected\n     */\n    static createMethodObserver(expression, dynamicFn) {\n      this.prototype._createMethodObserver(expression, dynamicFn);\n    }\n\n    /**\n     * Causes the setter for the given property to dispatch `<property>-changed`\n     * events to notify of changes to the property.\n     *\n     * @param {string} property Property name\n     * @protected\n     */\n    static createNotifyingProperty(property) {\n      this.prototype._createNotifyingProperty(property);\n    }\n\n    /**\n     * Creates a read-only accessor for the given property.\n     *\n     * To set the property, use the protected `_setProperty` API.\n     * To create a custom protected setter (e.g. `_setMyProp()` for\n     * property `myProp`), pass `true` for `protectedSetter`.\n     *\n     * Note, if the property will have other property effects, this method\n     * should be called first, before adding other effects.\n     *\n     * @param {string} property Property name\n     * @param {boolean=} protectedSetter Creates a custom protected setter\n     *   when `true`.\n     * @protected\n     */\n    static createReadOnlyProperty(property, protectedSetter) {\n      this.prototype._createReadOnlyProperty(property, protectedSetter);\n    }\n\n    /**\n     * Causes the setter for the given property to reflect the property value\n     * to a (dash-cased) attribute of the same name.\n     *\n     * @param {string} property Property name\n     * @protected\n     */\n    static createReflectedProperty(property) {\n      this.prototype._createReflectedProperty(property);\n    }\n\n    /**\n     * Creates a computed property whose value is set to the result of the\n     * method described by the given `expression` each time one or more\n     * arguments to the method changes.  The expression should be a string\n     * in the form of a normal Javascript function signature:\n     * `'methodName(arg1, [..., argn])'`\n     *\n     * @param {string} property Name of computed property to set\n     * @param {string} expression Method expression\n     * @param {boolean|Object=} dynamicFn Boolean or object map indicating whether\n     *   method names should be included as a dependency to the effect.\n     * @protected\n     */\n    static createComputedProperty(property, expression, dynamicFn) {\n      this.prototype._createComputedProperty(property, expression, dynamicFn);\n    }\n\n    /**\n     * Parses the provided template to ensure binding effects are created\n     * for them, and then ensures property accessors are created for any\n     * dependent properties in the template.  Binding effects for bound\n     * templates are stored in a linked list on the instance so that\n     * templates can be efficiently stamped and unstamped.\n     *\n     * @param {HTMLTemplateElement} template Template containing binding\n     *   bindings\n     * @return {Object} Template metadata object\n     * @protected\n     */\n    static bindTemplate(template) {\n      return this.prototype._bindTemplate(template);\n    }\n\n    // -- binding ----------------------------------------------\n\n    /**\n     * Equivalent to static `bindTemplate` API but can be called on\n     * an instance to add effects at runtime.  See that method for\n     * full API docs.\n     *\n     * This method may be called on the prototype (for prototypical template\n     * binding, to avoid creating accessors every instance) once per prototype,\n     * and will be called with `runtimeBinding: true` by `_stampTemplate` to\n     * create and link an instance of the template metadata associated with a\n     * particular stamping.\n     *\n     * @param {HTMLTemplateElement} template Template containing binding\n     *   bindings\n     * @param {boolean=} instanceBinding When false (default), performs\n     *   \"prototypical\" binding of the template and overwrites any previously\n     *   bound template for the class. When true (as passed from\n     *   `_stampTemplate`), the template info is instanced and linked into\n     *   the list of bound templates.\n     * @return {!TemplateInfo} Template metadata object; for `runtimeBinding`,\n     *   this is an instance of the prototypical template info\n     * @protected\n     */\n    _bindTemplate(template, instanceBinding) {\n      let templateInfo = this.constructor._parseTemplate(template);\n      let wasPreBound = this.__templateInfo == templateInfo;\n      // Optimization: since this is called twice for proto-bound templates,\n      // don't attempt to recreate accessors if this template was pre-bound\n      if (!wasPreBound) {\n        for (let prop in templateInfo.propertyEffects) {\n          this._createPropertyAccessor(prop);\n        }\n      }\n      if (instanceBinding) {\n        // For instance-time binding, create instance of template metadata\n        // and link into list of templates if necessary\n        templateInfo = /** @type {!TemplateInfo} */(Object.create(templateInfo));\n        templateInfo.wasPreBound = wasPreBound;\n        if (!wasPreBound && this.__templateInfo) {\n          let last = this.__templateInfoLast || this.__templateInfo;\n          this.__templateInfoLast = last.nextTemplateInfo = templateInfo;\n          templateInfo.previousTemplateInfo = last;\n          return templateInfo;\n        }\n      }\n      return this.__templateInfo = templateInfo;\n    }\n\n    /**\n     * Adds a property effect to the given template metadata, which is run\n     * at the \"propagate\" stage of `_propertiesChanged` when the template\n     * has been bound to the element via `_bindTemplate`.\n     *\n     * The `effect` object should match the format in `_addPropertyEffect`.\n     *\n     * @param {Object} templateInfo Template metadata to add effect to\n     * @param {string} prop Property that should trigger the effect\n     * @param {Object=} effect Effect metadata object\n     * @protected\n     */\n    static _addTemplatePropertyEffect(templateInfo, prop, effect) {\n      let hostProps = templateInfo.hostProps = templateInfo.hostProps || {};\n      hostProps[prop] = true;\n      let effects = templateInfo.propertyEffects = templateInfo.propertyEffects || {};\n      let propEffects = effects[prop] = effects[prop] || [];\n      propEffects.push(effect);\n    }\n\n    /**\n     * Stamps the provided template and performs instance-time setup for\n     * Polymer template features, including data bindings, declarative event\n     * listeners, and the `this.$` map of `id`'s to nodes.  A document fragment\n     * is returned containing the stamped DOM, ready for insertion into the\n     * DOM.\n     *\n     * This method may be called more than once; however note that due to\n     * `shadycss` polyfill limitations, only styles from templates prepared\n     * using `ShadyCSS.prepareTemplate` will be correctly polyfilled (scoped\n     * to the shadow root and support CSS custom properties), and note that\n     * `ShadyCSS.prepareTemplate` may only be called once per element. As such,\n     * any styles required by in runtime-stamped templates must be included\n     * in the main element template.\n     *\n     * @param {!HTMLTemplateElement} template Template to stamp\n     * @return {!StampedTemplate} Cloned template content\n     * @override\n     * @protected\n     */\n    _stampTemplate(template) {\n      // Ensures that created dom is `_enqueueClient`'d to this element so\n      // that it can be flushed on next call to `_flushProperties`\n      hostStack.beginHosting(this);\n      let dom = super._stampTemplate(template);\n      hostStack.endHosting(this);\n      let templateInfo = /** @type {!TemplateInfo} */(this._bindTemplate(template, true));\n      // Add template-instance-specific data to instanced templateInfo\n      templateInfo.nodeList = dom.nodeList;\n      // Capture child nodes to allow unstamping of non-prototypical templates\n      if (!templateInfo.wasPreBound) {\n        let nodes = templateInfo.childNodes = [];\n        for (let n=dom.firstChild; n; n=n.nextSibling) {\n          nodes.push(n);\n        }\n      }\n      dom.templateInfo = templateInfo;\n      // Setup compound storage, 2-way listeners, and dataHost for bindings\n      setupBindings(this, templateInfo);\n      // Flush properties into template nodes if already booted\n      if (this.__dataReady) {\n        runEffects(this, templateInfo.propertyEffects, this.__data, null,\n          false, templateInfo.nodeList);\n      }\n      return dom;\n    }\n\n    /**\n     * Removes and unbinds the nodes previously contained in the provided\n     * DocumentFragment returned from `_stampTemplate`.\n     *\n     * @param {!StampedTemplate} dom DocumentFragment previously returned\n     *   from `_stampTemplate` associated with the nodes to be removed\n     * @protected\n     */\n    _removeBoundDom(dom) {\n      // Unlink template info\n      let templateInfo = dom.templateInfo;\n      if (templateInfo.previousTemplateInfo) {\n        templateInfo.previousTemplateInfo.nextTemplateInfo =\n          templateInfo.nextTemplateInfo;\n      }\n      if (templateInfo.nextTemplateInfo) {\n        templateInfo.nextTemplateInfo.previousTemplateInfo =\n          templateInfo.previousTemplateInfo;\n      }\n      if (this.__templateInfoLast == templateInfo) {\n        this.__templateInfoLast = templateInfo.previousTemplateInfo;\n      }\n      templateInfo.previousTemplateInfo = templateInfo.nextTemplateInfo = null;\n      // Remove stamped nodes\n      let nodes = templateInfo.childNodes;\n      for (let i=0; i<nodes.length; i++) {\n        let node = nodes[i];\n        node.parentNode.removeChild(node);\n      }\n    }\n\n    /**\n     * Overrides default `TemplateStamp` implementation to add support for\n     * parsing bindings from `TextNode`'s' `textContent`.  A `bindings`\n     * array is added to `nodeInfo` and populated with binding metadata\n     * with information capturing the binding target, and a `parts` array\n     * with one or more metadata objects capturing the source(s) of the\n     * binding.\n     *\n     * @override\n     * @param {Node} node Node to parse\n     * @param {TemplateInfo} templateInfo Template metadata for current template\n     * @param {NodeInfo} nodeInfo Node metadata for current template node\n     * @return {boolean} `true` if the visited node added node-specific\n     *   metadata to `nodeInfo`\n     * @protected\n     * @suppress {missingProperties} Interfaces in closure do not inherit statics, but classes do\n     */\n    static _parseTemplateNode(node, templateInfo, nodeInfo) {\n      let noted = super._parseTemplateNode(node, templateInfo, nodeInfo);\n      if (node.nodeType === Node.TEXT_NODE) {\n        let parts = this._parseBindings(node.textContent, templateInfo);\n        if (parts) {\n          // Initialize the textContent with any literal parts\n          // NOTE: default to a space here so the textNode remains; some browsers\n          // (IE) evacipate an empty textNode following cloneNode/importNode.\n          node.textContent = literalFromParts(parts) || ' ';\n          addBinding(this, templateInfo, nodeInfo, 'text', 'textContent', parts);\n          noted = true;\n        }\n      }\n      return noted;\n    }\n\n    /**\n     * Overrides default `TemplateStamp` implementation to add support for\n     * parsing bindings from attributes.  A `bindings`\n     * array is added to `nodeInfo` and populated with binding metadata\n     * with information capturing the binding target, and a `parts` array\n     * with one or more metadata objects capturing the source(s) of the\n     * binding.\n     *\n     * @override\n     * @param {Element} node Node to parse\n     * @param {TemplateInfo} templateInfo Template metadata for current template\n     * @param {NodeInfo} nodeInfo Node metadata for current template node\n     * @return {boolean} `true` if the visited node added node-specific\n     *   metadata to `nodeInfo`\n     * @protected\n     * @suppress {missingProperties} Interfaces in closure do not inherit statics, but classes do\n     */\n    static _parseTemplateNodeAttribute(node, templateInfo, nodeInfo, name, value) {\n      let parts = this._parseBindings(value, templateInfo);\n      if (parts) {\n        // Attribute or property\n        let origName = name;\n        let kind = 'property';\n        if (name[name.length-1] == '$') {\n          name = name.slice(0, -1);\n          kind = 'attribute';\n        }\n        // Initialize attribute bindings with any literal parts\n        let literal = literalFromParts(parts);\n        if (literal && kind == 'attribute') {\n          node.setAttribute(name, literal);\n        }\n        // Clear attribute before removing, since IE won't allow removing\n        // `value` attribute if it previously had a value (can't\n        // unconditionally set '' before removing since attributes with `$`\n        // can't be set using setAttribute)\n        if (node.localName === 'input' && origName === 'value') {\n          node.setAttribute(origName, '');\n        }\n        // Remove annotation\n        node.removeAttribute(origName);\n        // Case hackery: attributes are lower-case, but bind targets\n        // (properties) are case sensitive. Gambit is to map dash-case to\n        // camel-case: `foo-bar` becomes `fooBar`.\n        // Attribute bindings are excepted.\n        if (kind === 'property') {\n          name = dashToCamelCase(name);\n        }\n        addBinding(this, templateInfo, nodeInfo, kind, name, parts, literal);\n        return true;\n      } else {\n        return super._parseTemplateNodeAttribute(node, templateInfo, nodeInfo, name, value);\n      }\n    }\n\n    /**\n     * Overrides default `TemplateStamp` implementation to add support for\n     * binding the properties that a nested template depends on to the template\n     * as `_host_<property>`.\n     *\n     * @override\n     * @param {Node} node Node to parse\n     * @param {TemplateInfo} templateInfo Template metadata for current template\n     * @param {NodeInfo} nodeInfo Node metadata for current template node\n     * @return {boolean} `true` if the visited node added node-specific\n     *   metadata to `nodeInfo`\n     * @protected\n     * @suppress {missingProperties} Interfaces in closure do not inherit statics, but classes do\n     */\n    static _parseTemplateNestedTemplate(node, templateInfo, nodeInfo) {\n      let noted = super._parseTemplateNestedTemplate(node, templateInfo, nodeInfo);\n      // Merge host props into outer template and add bindings\n      let hostProps = nodeInfo.templateInfo.hostProps;\n      let mode = '{';\n      for (let source in hostProps) {\n        let parts = [{ mode, source, dependencies: [source] }];\n        addBinding(this, templateInfo, nodeInfo, 'property', '_host_' + source, parts);\n      }\n      return noted;\n    }\n\n    /**\n     * Called to parse text in a template (either attribute values or\n     * textContent) into binding metadata.\n     *\n     * Any overrides of this method should return an array of binding part\n     * metadata  representing one or more bindings found in the provided text\n     * and any \"literal\" text in between.  Any non-literal parts will be passed\n     * to `_evaluateBinding` when any dependencies change.  The only required\n     * fields of each \"part\" in the returned array are as follows:\n     *\n     * - `dependencies` - Array containing trigger metadata for each property\n     *   that should trigger the binding to update\n     * - `literal` - String containing text if the part represents a literal;\n     *   in this case no `dependencies` are needed\n     *\n     * Additional metadata for use by `_evaluateBinding` may be provided in\n     * each part object as needed.\n     *\n     * The default implementation handles the following types of bindings\n     * (one or more may be intermixed with literal strings):\n     * - Property binding: `[[prop]]`\n     * - Path binding: `[[object.prop]]`\n     * - Negated property or path bindings: `[[!prop]]` or `[[!object.prop]]`\n     * - Two-way property or path bindings (supports negation):\n     *   `{{prop}}`, `{{object.prop}}`, `{{!prop}}` or `{{!object.prop}}`\n     * - Inline computed method (supports negation):\n     *   `[[compute(a, 'literal', b)]]`, `[[!compute(a, 'literal', b)]]`\n     *\n     * @param {string} text Text to parse from attribute or textContent\n     * @param {Object} templateInfo Current template metadata\n     * @return {Array<!BindingPart>} Array of binding part metadata\n     * @protected\n     */\n    static _parseBindings(text, templateInfo) {\n      let parts = [];\n      let lastIndex = 0;\n      let m;\n      // Example: \"literal1{{prop}}literal2[[!compute(foo,bar)]]final\"\n      // Regex matches:\n      //        Iteration 1:  Iteration 2:\n      // m[1]: '{{'          '[['\n      // m[2]: ''            '!'\n      // m[3]: 'prop'        'compute(foo,bar)'\n      while ((m = bindingRegex.exec(text)) !== null) {\n        // Add literal part\n        if (m.index > lastIndex) {\n          parts.push({literal: text.slice(lastIndex, m.index)});\n        }\n        // Add binding part\n        let mode = m[1][0];\n        let negate = Boolean(m[2]);\n        let source = m[3].trim();\n        let customEvent = false, notifyEvent = '', colon = -1;\n        if (mode == '{' && (colon = source.indexOf('::')) > 0) {\n          notifyEvent = source.substring(colon + 2);\n          source = source.substring(0, colon);\n          customEvent = true;\n        }\n        let signature = parseMethod(source);\n        let dependencies = [];\n        if (signature) {\n          // Inline computed function\n          let {args, methodName} = signature;\n          for (let i=0; i<args.length; i++) {\n            let arg = args[i];\n            if (!arg.literal) {\n              dependencies.push(arg);\n            }\n          }\n          let dynamicFns = templateInfo.dynamicFns;\n          if (dynamicFns && dynamicFns[methodName] || signature.static) {\n            dependencies.push(methodName);\n            signature.dynamicFn = true;\n          }\n        } else {\n          // Property or path\n          dependencies.push(source);\n        }\n        parts.push({\n          source, mode, negate, customEvent, signature, dependencies,\n          event: notifyEvent\n        });\n        lastIndex = bindingRegex.lastIndex;\n      }\n      // Add a final literal part\n      if (lastIndex && lastIndex < text.length) {\n        let literal = text.substring(lastIndex);\n        if (literal) {\n          parts.push({\n            literal: literal\n          });\n        }\n      }\n      if (parts.length) {\n        return parts;\n      } else {\n        return null;\n      }\n    }\n\n    /**\n     * Called to evaluate a previously parsed binding part based on a set of\n     * one or more changed dependencies.\n     *\n     * @param {this} inst Element that should be used as scope for\n     *   binding dependencies\n     * @param {BindingPart} part Binding part metadata\n     * @param {string} path Property/path that triggered this effect\n     * @param {Object} props Bag of current property changes\n     * @param {Object} oldProps Bag of previous values for changed properties\n     * @param {boolean} hasPaths True with `props` contains one or more paths\n     * @return {*} Value the binding part evaluated to\n     * @protected\n     */\n    static _evaluateBinding(inst, part, path, props, oldProps, hasPaths) {\n      let value;\n      if (part.signature) {\n        value = runMethodEffect(inst, path, props, oldProps, part.signature);\n      } else if (path != part.source) {\n        value = get$0(inst, part.source);\n      } else {\n        if (hasPaths && isPath$0(path)) {\n          value = get$0(inst, path);\n        } else {\n          value = inst.__data[path];\n        }\n      }\n      if (part.negate) {\n        value = !value;\n      }\n      return value;\n    }\n\n  }\n\n  // make a typing for closure :P\n  PropertyEffectsType = PropertyEffects;\n\n  return PropertyEffects;\n});\n\n/**\n * Helper api for enqueing client dom created by a host element.\n *\n * By default elements are flushed via `_flushProperties` when\n * `connectedCallback` is called. Elements attach their client dom to\n * themselves at `ready` time which results from this first flush.\n * This provides an ordering guarantee that the client dom an element\n * creates is flushed before the element itself (i.e. client `ready`\n * fires before host `ready`).\n *\n * However, if `_flushProperties` is called *before* an element is connected,\n * as for example `Templatize` does, this ordering guarantee cannot be\n * satisfied because no elements are connected. (Note: Bound elements that\n * receive data do become enqueued clients and are properly ordered but\n * unbound elements are not.)\n *\n * To maintain the desired \"client before host\" ordering guarantee for this\n * case we rely on the \"host stack. Client nodes registers themselves with\n * the creating host element when created. This ensures that all client dom\n * is readied in the proper order, maintaining the desired guarantee.\n *\n * @private\n */\nlet hostStack = {\n\n  stack: [],\n\n  /**\n   * @param {*} inst Instance to add to hostStack\n   * @this {hostStack}\n   */\n  registerHost(inst) {\n    if (this.stack.length) {\n      let host = this.stack[this.stack.length-1];\n      host._enqueueClient(inst);\n    }\n  },\n\n  /**\n   * @param {*} inst Instance to begin hosting\n   * @this {hostStack}\n   */\n  beginHosting(inst) {\n    this.stack.push(inst);\n  },\n\n  /**\n   * @param {*} inst Instance to end hosting\n   * @this {hostStack}\n   */\n  endHosting(inst) {\n    let stackLen = this.stack.length;\n    if (stackLen && this.stack[stackLen-1] == inst) {\n      this.stack.pop();\n    }\n  }\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/@polymer/polymer/lib/mixins/property-effects.js","import 'core/components/lazy-loader';\nimport '@littleq/state-manager';\nimport '@littleq/littleq-router';\n\n\n\n// WEBPACK FOOTER //\n// ./app/shell/index.js","import fragments from '../fragments';\nimport { customElements, HTMLElement } from 'global/window';\n\nclass LazyLoader extends HTMLElement {\n  static get is () { return 'lazy-loader'; }\n\n  import (name) {\n    return fragments[name] && typeof fragments[name] === 'function'\n      ? fragments[name]()\n      : Promise.reject(new Error('No fragment found'));\n  }\n}\n\n!customElements.get(LazyLoader.is)\n  ? customElements.define(LazyLoader.is, LazyLoader)\n  : console.warn(`${LazyLoader.is} is already defined`);\n\n\n\n// WEBPACK FOOTER //\n// ./app/system/core/components/lazy-loader.js","\nexport default {\n  'page-home': () => { return import(/* webpackChunkName: \"page-home\" */ 'page-home') }, \n'page-speakers': () => { return import(/* webpackChunkName: \"page-speakers\" */ 'page-speakers') }, \n'page-schedule': () => { return import(/* webpackChunkName: \"page-schedule\" */ 'page-schedule') }, \n'page-not-authorized': () => { return import(/* webpackChunkName: \"page-not-authorized\" */ 'page-not-authorized') }, \n'page-not-found': () => { return import(/* webpackChunkName: \"page-not-found\" */ 'page-not-found') }\n}\n  \n\n\n// WEBPACK FOOTER //\n// ./app/system/core/fragments/index.js","import '../utils/boot.js';\nimport { rootPath as rootPath$0 } from '../utils/settings.js';\nimport { dedupingMixin } from '../utils/mixin.js';\nimport * as caseMap$0 from '../utils/case-map.js';\nimport { camelToDashCase } from '../utils/case-map.js';\nimport { cssFromModuleImports, cssFromTemplate } from '../utils/style-gather.js';\nimport { resolveUrl as resolveUrl$0 } from '../utils/resolve-url.js';\nimport { DomModule } from '../elements/dom-module.js';\nimport { PropertyEffects } from './property-effects.js';\n\nexport const ElementMixin = dedupingMixin(base => {\n\n  /**\n   * @constructor\n   * @extends {base}\n   * @implements {Polymer_PropertyEffects}\n   */\n  const polymerElementBase = PropertyEffects(base);\n\n  let caseMap = caseMap$0;\n\n  /**\n   * Returns the `properties` object specifically on `klass`. Use for:\n   * (1) super chain mixes togther to make `propertiesForClass` which is\n   * then used to make `observedAttributes`.\n   * (2) properties effects and observers are created from it at `finalize` time.\n   *\n   * @param {HTMLElement} klass Element class\n   * @return {Object} Object containing own properties for this class\n   * @private\n   */\n  function ownPropertiesForClass(klass) {\n    if (!klass.hasOwnProperty(\n      JSCompiler_renameProperty('__ownProperties', klass))) {\n      klass.__ownProperties =\n        klass.hasOwnProperty(JSCompiler_renameProperty('properties', klass)) ?\n        /** @type PolymerElementConstructor */ (klass).properties : {};\n    }\n    return klass.__ownProperties;\n  }\n\n  /**\n   * Returns the `observers` array specifically on `klass`. Use for\n   * setting up observers.\n   *\n   * @param {HTMLElement} klass Element class\n   * @return {Array} Array containing own observers for this class\n   * @private\n   */\n  function ownObserversForClass(klass) {\n    if (!klass.hasOwnProperty(\n      JSCompiler_renameProperty('__ownObservers', klass))) {\n      klass.__ownObservers =\n        klass.hasOwnProperty(JSCompiler_renameProperty('observers', klass)) ?\n        /** @type PolymerElementConstructor */ (klass).observers : [];\n    }\n    return klass.__ownObservers;\n  }\n\n  /**\n   * Mixes `props` into `flattenedProps` but upgrades shorthand type\n   * syntax to { type: Type}.\n   *\n   * @param {Object} flattenedProps Bag to collect flattened properties into\n   * @param {Object} props Bag of properties to add to `flattenedProps`\n   * @return {Object} The input `flattenedProps` bag\n   * @private\n   */\n  function flattenProperties(flattenedProps, props) {\n    for (let p in props) {\n      let o = props[p];\n      if (typeof o == 'function') {\n        o = { type: o };\n      }\n      flattenedProps[p] = o;\n    }\n    return flattenedProps;\n  }\n\n  /**\n   * Returns a flattened list of properties mixed together from the chain of all\n   * constructor's `config.properties`. This list is used to create\n   * (1) observedAttributes,\n   * (2) class property default values\n   *\n   * @param {PolymerElementConstructor} klass Element class\n   * @return {PolymerElementProperties} Flattened properties for this class\n   * @suppress {missingProperties} class.prototype is not a property for some reason?\n   * @private\n   */\n  function propertiesForClass(klass) {\n    if (!klass.hasOwnProperty(\n      JSCompiler_renameProperty('__classProperties', klass))) {\n      klass.__classProperties =\n      flattenProperties({}, ownPropertiesForClass(klass));\n      let superCtor = Object.getPrototypeOf(klass.prototype).constructor;\n      if (superCtor.prototype instanceof PolymerElement) {\n        klass.__classProperties = Object.assign(\n          Object.create(propertiesForClass(/** @type PolymerElementConstructor */(superCtor))),\n          klass.__classProperties);\n      }\n    }\n    return klass.__classProperties;\n  }\n\n  /**\n   * Returns a list of properties with default values.\n   * This list is created as an optimization since it is a subset of\n   * the list returned from `propertiesForClass`.\n   * This list is used in `_initializeProperties` to set property defaults.\n   *\n   * @param {PolymerElementConstructor} klass Element class\n   * @return {PolymerElementProperties} Flattened properties for this class\n   *   that have default values\n   * @private\n   */\n  function propertyDefaultsForClass(klass) {\n    if (!klass.hasOwnProperty(\n      JSCompiler_renameProperty('__classPropertyDefaults', klass))) {\n      klass.__classPropertyDefaults = null;\n      let props = propertiesForClass(klass);\n      for (let p in props) {\n        let info = props[p];\n        if ('value' in info) {\n          klass.__classPropertyDefaults = klass.__classPropertyDefaults || {};\n          klass.__classPropertyDefaults[p] = info;\n        }\n      }\n    }\n    return klass.__classPropertyDefaults;\n  }\n\n  /**\n   * Returns true if a `klass` has finalized. Called in `ElementClass.finalize()`\n   * @param {PolymerElementConstructor} klass Element class\n   * @return {boolean} True if all metaprogramming for this class has been\n   *   completed\n   * @private\n   */\n  function hasClassFinalized(klass) {\n    return klass.hasOwnProperty(JSCompiler_renameProperty('__finalized', klass));\n  }\n\n  /**\n   * Called by `ElementClass.finalize()`. Ensures this `klass` and\n   * *all superclasses* are finalized by traversing the prototype chain\n   * and calling `klass.finalize()`.\n   *\n   * @param {PolymerElementConstructor} klass Element class\n   * @private\n   */\n  function finalizeClassAndSuper(klass) {\n    let proto = /** @type PolymerElementConstructor */ (klass).prototype;\n    let superCtor = Object.getPrototypeOf(proto).constructor;\n    if (superCtor.prototype instanceof PolymerElement) {\n      superCtor.finalize();\n    }\n    finalizeClass(klass);\n  }\n\n  /**\n   * Configures a `klass` based on a staic `klass.config` object and\n   * a `template`. This includes creating accessors and effects\n   * for properties in `config` and the `template` as well as preparing the\n   * `template` for stamping.\n   *\n   * @param {PolymerElementConstructor} klass Element class\n   * @private\n   */\n  function finalizeClass(klass) {\n    klass.__finalized = true;\n    let proto = /** @type PolymerElementConstructor */ (klass).prototype;\n    if (klass.hasOwnProperty(\n      JSCompiler_renameProperty('is', klass)) && klass.is) {\n      register(proto);\n    }\n    let props = ownPropertiesForClass(klass);\n    if (props) {\n      finalizeProperties(proto, props);\n    }\n    let observers = ownObserversForClass(klass);\n    if (observers) {\n      finalizeObservers(proto, observers, props);\n    }\n    // note: create \"working\" template that is finalized at instance time\n    let template = /** @type PolymerElementConstructor */ (klass).template;\n    if (template) {\n      if (typeof template === 'string') {\n        let t = document.createElement('template');\n        t.innerHTML = template;\n        template = t;\n      } else {\n        template = template.cloneNode(true);\n      }\n      proto._template = template;\n    }\n  }\n\n  /**\n   * Configures a `proto` based on a `properties` object.\n   * Leverages `PropertyEffects` to create property accessors and effects\n   * supporting, observers, reflecting to attributes, change notification,\n   * computed properties, and read only properties.\n   * @param {PolymerElement} proto Element class prototype to add accessors\n   *    and effects to\n   * @param {Object} properties Flattened bag of property descriptors for\n   *    this class\n   * @private\n   */\n  function finalizeProperties(proto, properties) {\n    for (let p in properties) {\n      createPropertyFromConfig(proto, p, properties[p], properties);\n    }\n  }\n\n  /**\n   * Configures a `proto` based on a `observers` array.\n   * Leverages `PropertyEffects` to create observers.\n   * @param {PolymerElement} proto Element class prototype to add accessors\n   *   and effects to\n   * @param {Object} observers Flattened array of observer descriptors for\n   *   this class\n   * @param {Object} dynamicFns Object containing keys for any properties\n   *   that are functions and should trigger the effect when the function\n   *   reference is changed\n   * @private\n   */\n  function finalizeObservers(proto, observers, dynamicFns) {\n    for (let i=0; i < observers.length; i++) {\n      proto._createMethodObserver(observers[i], dynamicFns);\n    }\n  }\n\n  /**\n   * Creates effects for a property.\n   *\n   * Note, once a property has been set to\n   * `readOnly`, `computed`, `reflectToAttribute`, or `notify`\n   * these values may not be changed. For example, a subclass cannot\n   * alter these settings. However, additional `observers` may be added\n   * by subclasses.\n   *\n   * The info object should may contain property metadata as follows:\n   *\n   * * `type`: {function} type to which an attribute matching the property\n   * is deserialized. Note the property is camel-cased from a dash-cased\n   * attribute. For example, 'foo-bar' attribute is dersialized to a\n   * property named 'fooBar'.\n   *\n   * * `readOnly`: {boolean} creates a readOnly property and\n   * makes a private setter for the private of the form '_setFoo' for a\n   * property 'foo',\n   *\n   * * `computed`: {string} creates a computed property. A computed property\n   * also automatically is set to `readOnly: true`. The value is calculated\n   * by running a method and arguments parsed from the given string. For\n   * example 'compute(foo)' will compute a given property when the\n   * 'foo' property changes by executing the 'compute' method. This method\n   * must return the computed value.\n   *\n   * * `reflectToAttriute`: {boolean} If true, the property value is reflected\n   * to an attribute of the same name. Note, the attribute is dash-cased\n   * so a property named 'fooBar' is reflected as 'foo-bar'.\n   *\n   * * `notify`: {boolean} sends a non-bubbling notification event when\n   * the property changes. For example, a property named 'foo' sends an\n   * event named 'foo-changed' with `event.detail` set to the value of\n   * the property.\n   *\n   * * observer: {string} name of a method that runs when the property\n   * changes. The arguments of the method are (value, previousValue).\n   *\n   * Note: Users may want control over modifying property\n   * effects via subclassing. For example, a user might want to make a\n   * reflectToAttribute property not do so in a subclass. We've chosen to\n   * disable this because it leads to additional complication.\n   * For example, a readOnly effect generates a special setter. If a subclass\n   * disables the effect, the setter would fail unexpectedly.\n   * Based on feedback, we may want to try to make effects more malleable\n   * and/or provide an advanced api for manipulating them.\n   * Also consider adding warnings when an effect cannot be changed.\n   *\n   * @param {PolymerElement} proto Element class prototype to add accessors\n   *   and effects to\n   * @param {string} name Name of the property.\n   * @param {Object} info Info object from which to create property effects.\n   * Supported keys:\n   * @param {Object} allProps Flattened map of all properties defined in this\n   *   element (including inherited properties)\n   * @private\n   */\n  function createPropertyFromConfig(proto, name, info, allProps) {\n    // computed forces readOnly...\n    if (info.computed) {\n      info.readOnly = true;\n    }\n    // Note, since all computed properties are readOnly, this prevents\n    // adding additional computed property effects (which leads to a confusing\n    // setup where multiple triggers for setting a property)\n    // While we do have `hasComputedEffect` this is set on the property's\n    // dependencies rather than itself.\n    if (info.computed  && !proto._hasReadOnlyEffect(name)) {\n      proto._createComputedProperty(name, info.computed, allProps);\n    }\n    if (info.readOnly && !proto._hasReadOnlyEffect(name)) {\n      proto._createReadOnlyProperty(name, !info.computed);\n    }\n    if (info.reflectToAttribute && !proto._hasReflectEffect(name)) {\n      proto._createReflectedProperty(name);\n    }\n    if (info.notify && !proto._hasNotifyEffect(name)) {\n      proto._createNotifyingProperty(name);\n    }\n    // always add observer\n    if (info.observer) {\n      proto._createPropertyObserver(name, info.observer, allProps[info.observer]);\n    }\n  }\n\n  /**\n   * Configures an element `proto` to function with a given `template`.\n   * The element name `is` and extends `ext` must be specified for ShadyCSS\n   * style scoping.\n   *\n   * @param {PolymerElement} proto Element class prototype to add accessors\n   *   and effects to\n   * @param {!HTMLTemplateElement} template Template to process and bind\n   * @param {string} baseURI URL against which to resolve urls in\n   *   style element cssText\n   * @param {string} is Tag name (or type extension name) for this element\n   * @param {string=} ext For type extensions, the tag name that was extended\n   * @private\n   */\n  function finalizeTemplate(proto, template, baseURI, is, ext) {\n    // support `include=\"module-name\"`\n    let cssText =\n      cssFromModuleImports(is) +\n      cssFromTemplate(template, baseURI);\n    if (cssText) {\n      let style = document.createElement('style');\n      style.textContent = cssText;\n      template.content.insertBefore(style, template.content.firstChild);\n    }\n    if (window.ShadyCSS) {\n      window.ShadyCSS.prepareTemplate(template, is, ext);\n    }\n    proto._bindTemplate(template);\n  }\n\n  /**\n   * @polymer\n   * @mixinClass\n   * @unrestricted\n   * @implements {Polymer_ElementMixin}\n   */\n  class PolymerElement extends polymerElementBase {\n\n    /**\n     * Standard Custom Elements V1 API.  The default implementation returns\n     * a list of dash-cased attributes based on a flattening of all properties\n     * declared in `static get properties()` for this element and any\n     * superclasses.\n     *\n     * @return {Array} Observed attribute list\n     */\n    static get observedAttributes() {\n      if (!this.hasOwnProperty(JSCompiler_renameProperty('__observedAttributes', this))) {\n        let list = [];\n        let properties = propertiesForClass(this);\n        for (let prop in properties) {\n          list.push(camelToDashCase(prop));\n        }\n        this.__observedAttributes = list;\n      }\n      return this.__observedAttributes;\n    }\n\n    /**\n     * Called automatically when the first element instance is created to\n     * ensure that class finalization work has been completed.\n     * May be called by users to eagerly perform class finalization work\n     * prior to the creation of the first element instance.\n     *\n     * Class finalization work generally includes meta-programming such as\n     * creating property accessors and any property effect metadata needed for\n     * the features used.\n     *\n     * @public\n     */\n    static finalize() {\n      if (!hasClassFinalized(this)) {\n        finalizeClassAndSuper(this);\n      }\n    }\n\n    /**\n     * Returns the template that will be stamped into this element's shadow root.\n     *\n     * If a `static get is()` getter is defined, the default implementation\n     * will return the first `<template>` in a `dom-module` whose `id`\n     * matches this element's `is`.\n     *\n     * Users may override this getter to return an arbitrary template\n     * (in which case the `is` getter is unnecessary). The template returned\n     * may be either an `HTMLTemplateElement` or a string that will be\n     * automatically parsed into a template.\n     *\n     * Note that when subclassing, if the super class overrode the default\n     * implementation and the subclass would like to provide an alternate\n     * template via a `dom-module`, it should override this getter and\n     * return `Polymer.DomModule.import(this.is, 'template')`.\n     *\n     * If a subclass would like to modify the super class template, it should\n     * clone it rather than modify it in place.  If the getter does expensive\n     * work such as cloning/modifying a template, it should memoize the\n     * template for maximum performance:\n     *\n     *   let memoizedTemplate;\n     *   class MySubClass extends MySuperClass {\n     *     static get template() {\n     *       if (!memoizedTemplate) {\n     *         memoizedTemplate = super.template.cloneNode(true);\n     *         let subContent = document.createElement('div');\n     *         subContent.textContent = 'This came from MySubClass';\n     *         memoizedTemplate.content.appendChild(subContent);\n     *       }\n     *       return memoizedTemplate;\n     *     }\n     *   }\n     *\n     * @return {HTMLTemplateElement|string} Template to be stamped\n     */\n    static get template() {\n      if (!this.hasOwnProperty(JSCompiler_renameProperty('_template', this))) {\n        this._template = DomModule && DomModule.import(\n          /** @type PolymerElementConstructor*/ (this).is, 'template') ||\n          // note: implemented so a subclass can retrieve the super\n          // template; call the super impl this way so that `this` points\n          // to the superclass.\n          Object.getPrototypeOf(/** @type PolymerElementConstructor*/ (this).prototype).constructor.template;\n      }\n      return this._template;\n    }\n\n    /**\n     * Path matching the url from which the element was imported.\n     * This path is used to resolve url's in template style cssText.\n     * The `importPath` property is also set on element instances and can be\n     * used to create bindings relative to the import path.\n     * Defaults to the path matching the url containing a `dom-module` element\n     * matching this element's static `is` property.\n     * Note, this path should contain a trailing `/`.\n     *\n     * @return {string} The import path for this element class\n     */\n    static get importPath() {\n      if (!this.hasOwnProperty(JSCompiler_renameProperty('_importPath', this))) {\n          const module = DomModule && DomModule.import(/** @type PolymerElementConstructor */ (this).is);\n          this._importPath = module ? module.assetpath : '' ||\n          Object.getPrototypeOf(/** @type PolymerElementConstructor*/ (this).prototype).constructor.importPath;\n      }\n      return this._importPath;\n    }\n\n    constructor() {\n      super();\n      /** @type {HTMLTemplateElement} */\n      this._template;\n      /** @type {string} */\n      this._importPath;\n      /** @type {string} */\n      this.rootPath;\n      /** @type {string} */\n      this.importPath;\n      /** @type {StampedTemplate | HTMLElement | ShadowRoot} */\n      this.root;\n      /** @type {!Object<string, !Node>} */\n      this.$;\n    }\n\n    /**\n     * Overrides the default `Polymer.PropertyAccessors` to ensure class\n     * metaprogramming related to property accessors and effects has\n     * completed (calls `finalize`).\n     *\n     * It also initializes any property defaults provided via `value` in\n     * `properties` metadata.\n     *\n     * @override\n     * @suppress {invalidCasts}\n     */\n    _initializeProperties() {\n      instanceCount++;\n      this.constructor.finalize();\n      const importPath = this.constructor.importPath;\n      // note: finalize template when we have access to `localName` to\n      // avoid dependence on `is` for polyfilling styling.\n      if (this._template && !this._template.__polymerFinalized) {\n        this._template.__polymerFinalized = true;\n        const baseURI =\n          importPath ? resolveUrl$0(importPath) : '';\n        finalizeTemplate(/** @type {!PolymerElement} */(this.__proto__), this._template, baseURI,\n          /**@type {!HTMLElement}*/(this).localName);\n      }\n      super._initializeProperties();\n      // set path defaults\n      this.rootPath = rootPath$0;\n      this.importPath = importPath;\n      // apply property defaults...\n      let p$ = propertyDefaultsForClass(this.constructor);\n      if (!p$) {\n        return;\n      }\n      for (let p in p$) {\n        let info = p$[p];\n        // Don't set default value if there is already an own property, which\n        // happens when a `properties` property with default but no effects had\n        // a property set (e.g. bound) by its host before upgrade\n        if (!this.hasOwnProperty(p)) {\n          let value = typeof info.value == 'function' ?\n            info.value.call(this) :\n            info.value;\n          // Set via `_setProperty` if there is an accessor, to enable\n          // initializing readOnly property defaults\n          if (this._hasAccessor(p)) {\n            this._setPendingProperty(p, value, true);\n          } else {\n            this[p] = value;\n          }\n        }\n      }\n    }\n\n    /**\n     * Provides a default implementation of the standard Custom Elements\n     * `connectedCallback`.\n     *\n     * The default implementation enables the property effects system and\n     * flushes any pending properties, and updates shimmed CSS properties\n     * when using the ShadyCSS scoping/custom properties polyfill.\n     *\n     * @suppress {invalidCasts}\n     */\n    connectedCallback() {\n      if (window.ShadyCSS && this._template) {\n        window.ShadyCSS.styleElement(/** @type {!HTMLElement} */(this));\n      }\n      this._enableProperties();\n    }\n\n    /**\n     * Provides a default implementation of the standard Custom Elements\n     * `disconnectedCallback`.\n     */\n    disconnectedCallback() {}\n\n    /**\n     * Stamps the element template.\n     *\n     * @override\n     */\n    ready() {\n      if (this._template) {\n        this.root = this._stampTemplate(this._template);\n        this.$ = this.root.$;\n      }\n      super.ready();\n    }\n\n    /**\n     * Implements `PropertyEffects`'s `_readyClients` call. Attaches\n     * element dom by calling `_attachDom` with the dom stamped from the\n     * element's template via `_stampTemplate`. Note that this allows\n     * client dom to be attached to the element prior to any observers\n     * running.\n     *\n     * @override\n     */\n    _readyClients() {\n      if (this._template) {\n        this.root = this._attachDom(/** @type {StampedTemplate} */(this.root));\n      }\n      // The super._readyClients here sets the clients initialized flag.\n      // We must wait to do this until after client dom is created/attached\n      // so that this flag can be checked to prevent notifications fired\n      // during this process from being handled before clients are ready.\n      super._readyClients();\n    }\n\n\n    /**\n     * Attaches an element's stamped dom to itself. By default,\n     * this method creates a `shadowRoot` and adds the dom to it.\n     * However, this method may be overridden to allow an element\n     * to put its dom in another location.\n     *\n     * @throws {Error}\n     * @suppress {missingReturn}\n     * @param {StampedTemplate} dom to attach to the element.\n     * @return {ShadowRoot} node to which the dom has been attached.\n     */\n    _attachDom(dom) {\n      if (this.attachShadow) {\n        if (dom) {\n          if (!this.shadowRoot) {\n            this.attachShadow({mode: 'open'});\n          }\n          this.shadowRoot.appendChild(dom);\n          return this.shadowRoot;\n        }\n        return null;\n      } else {\n        throw new Error('ShadowDOM not available. ' +\n          // TODO(sorvell): move to compile-time conditional when supported\n        'Polymer.Element can create dom as children instead of in ' +\n        'ShadowDOM by setting `this.root = this;\\` before \\`ready\\`.');\n      }\n    }\n\n    /**\n     * Provides a default implementation of the standard Custom Elements\n     * `attributeChangedCallback`.\n     *\n     * By default, attributes declared in `properties` metadata are\n     * deserialized using their `type` information to properties of the\n     * same name.  \"Dash-cased\" attributes are deserialzed to \"camelCase\"\n     * properties.\n     *\n     * @param {string} name Name of attribute.\n     * @param {?string} old Old value of attribute.\n     * @param {?string} value Current value of attribute.\n     * @override\n     */\n    attributeChangedCallback(name, old, value) {\n      if (old !== value) {\n        let property = caseMap.dashToCamelCase(name);\n        let type = propertiesForClass(this.constructor)[property].type;\n        if (!this._hasReadOnlyEffect(property)) {\n          this._attributeToProperty(name, value, type);\n        }\n      }\n    }\n\n    /**\n     * When using the ShadyCSS scoping and custom property shim, causes all\n     * shimmed styles in this element (and its subtree) to be updated\n     * based on current custom property values.\n     *\n     * The optional parameter overrides inline custom property styles with an\n     * object of properties where the keys are CSS properties, and the values\n     * are strings.\n     *\n     * Example: `this.updateStyles({'--color': 'blue'})`\n     *\n     * These properties are retained unless a value of `null` is set.\n     *\n     * @param {Object=} properties Bag of custom property key/values to\n     *   apply to this element.\n     * @suppress {invalidCasts}\n     */\n    updateStyles(properties) {\n      if (window.ShadyCSS) {\n        window.ShadyCSS.styleSubtree(/** @type {!HTMLElement} */(this), properties);\n      }\n    }\n\n    /**\n     * Rewrites a given URL relative to a base URL. The base URL defaults to\n     * the original location of the document containing the `dom-module` for\n     * this element. This method will return the same URL before and after\n     * bundling.\n     *\n     * @param {string} url URL to resolve.\n     * @param {string=} base Optional base URL to resolve against, defaults\n     * to the element's `importPath`\n     * @return {string} Rewritten URL relative to base\n     */\n    resolveUrl(url, base) {\n      if (!base && this.importPath) {\n        base = resolveUrl$0(this.importPath);\n      }\n      return resolveUrl$0(url, base);\n    }\n\n    /**\n     * Overrides `PropertyAccessors` to add map of dynamic functions on\n     * template info, for consumption by `PropertyEffects` template binding\n     * code. This map determines which method templates should have accessors\n     * created for them.\n     *\n     * @override\n     * @suppress {missingProperties} Interfaces in closure do not inherit statics, but classes do\n     */\n    static _parseTemplateContent(template, templateInfo, nodeInfo) {\n      templateInfo.dynamicFns = templateInfo.dynamicFns || propertiesForClass(this);\n      return super._parseTemplateContent(template, templateInfo, nodeInfo);\n    }\n\n  }\n\n  return PolymerElement;\n});\n\nexport let instanceCount = 0;\nexport const registrations = [];\n\nexport function _regLog(prototype) {\n  console.log('[' + prototype.is + ']: registered');\n}\n\nexport function register(prototype) {\n  registrations.push(prototype);\n  undefined && _regLog(prototype);\n}\n\nexport function dumpRegistrations() {\n  registrations.forEach(_regLog);\n}\n\nexport const updateStyles = function(props) {\n  if (window.ShadyCSS) {\n    window.ShadyCSS.styleDocument(props);\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/@polymer/polymer/lib/mixins/element-mixin.js","import { resolveCss } from './resolve-url.js';\n\nconst MODULE_STYLE_LINK_SELECTOR = 'link[rel=import][type~=css]';\nconst INCLUDE_ATTR = 'include';\n\nfunction importModule(moduleId) {\n  const /** Polymer.DomModule */ PolymerDomModule = customElements.get('dom-module');\n  if (!PolymerDomModule) {\n    return null;\n  }\n  return PolymerDomModule.import(moduleId);\n}\n\n/** @typedef {{assetpath: string}} */\nlet templateWithAssetPath; // eslint-disable-line no-unused-vars\n\nexport function cssFromModules(moduleIds) {\n  let modules = moduleIds.trim().split(/\\s+/);\n  let cssText = '';\n  for (let i=0; i < modules.length; i++) {\n    cssText += cssFromModule(modules[i]);\n  }\n  return cssText;\n}\n\nexport function cssFromModule(moduleId) {\n  let m = importModule(moduleId);\n  if (m && m._cssText === undefined) {\n    // module imports: <link rel=\"import\" type=\"css\">\n    let cssText = _cssFromModuleImports(m);\n    // include css from the first template in the module\n    let t = m.querySelector('template');\n    if (t) {\n      cssText += cssFromTemplate(t, /** @type {templateWithAssetPath} */(m).assetpath);\n    }\n    m._cssText = cssText || null;\n  }\n  if (!m) {\n    console.warn('Could not find style data in module named', moduleId);\n  }\n  return m && m._cssText || '';\n}\n\nexport function cssFromTemplate(template, baseURI) {\n  let cssText = '';\n  // if element is a template, get content from its .content\n  let e$ = template.content.querySelectorAll('style');\n  for (let i=0; i < e$.length; i++) {\n    let e = e$[i];\n    // support style sharing by allowing styles to \"include\"\n    // other dom-modules that contain styling\n    let include = e.getAttribute(INCLUDE_ATTR);\n    if (include) {\n      cssText += cssFromModules(include);\n    }\n    e.parentNode.removeChild(e);\n    cssText += baseURI ?\n      resolveCss(e.textContent, baseURI) : e.textContent;\n  }\n  return cssText;\n}\n\nexport function cssFromModuleImports(moduleId) {\n  let m = importModule(moduleId);\n  return m ? _cssFromModuleImports(m) : '';\n}\n\nexport function _cssFromModuleImports(module) {\n  let cssText = '';\n  let p$ = module.querySelectorAll(MODULE_STYLE_LINK_SELECTOR);\n  for (let i=0; i < p$.length; i++) {\n    let p = p$[i];\n    if (p.import) {\n      let importDoc = p.import;\n      // NOTE: polyfill affordance.\n      // under the HTMLImports polyfill, there will be no 'body',\n      // but the import pseudo-doc can be used directly.\n      let container = importDoc.body ? importDoc.body : importDoc;\n      cssText +=\n        resolveCss(container.textContent,\n          importDoc.baseURI);\n    }\n  }\n  return cssText;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/@polymer/polymer/lib/utils/style-gather.js","import '../utils/boot.js';\nimport { resolveUrl, pathFromUrl } from '../utils/resolve-url.js';\n\nlet modules = {};\nlet lcModules = {};\nfunction findModule(id) {\n  return modules[id] || lcModules[id.toLowerCase()];\n}\n\nfunction styleOutsideTemplateCheck(inst) {\n  if (inst.querySelector('style')) {\n    console.warn('dom-module %s has style outside template', inst.id);\n  }\n}\n\n/**\n * The `dom-module` element registers the dom it contains to the name given\n * by the module's id attribute. It provides a unified database of dom\n * accessible via its static `import` API.\n *\n * A key use case of `dom-module` is for providing custom element `<template>`s\n * via HTML imports that are parsed by the native HTML parser, that can be\n * relocated during a bundling pass and still looked up by `id`.\n *\n * Example:\n *\n *     <dom-module id=\"foo\">\n *       <img src=\"stuff.png\">\n *     </dom-module>\n *\n * Then in code in some other location that cannot access the dom-module above\n *\n *     let img = customElements.get('dom-module').import('foo', 'img');\n *\n * @customElement\n * @extends HTMLElement\n * @memberof Polymer\n * @summary Custom element that provides a registry of relocatable DOM content\n *   by `id` that is agnostic to bundling.\n * @unrestricted\n */\nclass DomModule extends HTMLElement {\n\n  static get observedAttributes() { return ['id']; }\n\n  /**\n   * Retrieves the element specified by the css `selector` in the module\n   * registered by `id`. For example, this.import('foo', 'img');\n   * @param {string} id The id of the dom-module in which to search.\n   * @param {string=} selector The css selector by which to find the element.\n   * @return {Element} Returns the element which matches `selector` in the\n   * module registered at the specified `id`.\n   */\n  static import(id, selector) {\n    if (id) {\n      let m = findModule(id);\n      if (m && selector) {\n        return m.querySelector(selector);\n      }\n      return m;\n    }\n    return null;\n  }\n\n  attributeChangedCallback(name, old, value) {\n    if (old !== value) {\n      this.register();\n    }\n  }\n\n  /**\n   * The absolute URL of the original location of this `dom-module`.\n   *\n   * This value will differ from this element's `ownerDocument` in the\n   * following ways:\n   * - Takes into account any `assetpath` attribute added during bundling\n   *   to indicate the original location relative to the bundled location\n   * - Uses the HTMLImports polyfill's `importForElement` API to ensure\n   *   the path is relative to the import document's location since\n   *   `ownerDocument` is not currently polyfilled\n   */\n  get assetpath() {\n    // Don't override existing assetpath.\n    if (!this.__assetpath) {\n      // note: assetpath set via an attribute must be relative to this\n      // element's location; accomodate polyfilled HTMLImports\n      const owner = window.HTMLImports && HTMLImports.importForElement ?\n        HTMLImports.importForElement(this) || document : this.ownerDocument;\n      const url = resolveUrl(\n        this.getAttribute('assetpath') || '', owner.baseURI);\n      this.__assetpath = pathFromUrl(url);\n    }\n    return this.__assetpath;\n  }\n\n  /**\n   * Registers the dom-module at a given id. This method should only be called\n   * when a dom-module is imperatively created. For\n   * example, `document.createElement('dom-module').register('foo')`.\n   * @param {string=} id The id at which to register the dom-module.\n   */\n  register(id) {\n    id = id || this.id;\n    if (id) {\n      this.id = id;\n      // store id separate from lowercased id so that\n      // in all cases mixedCase id will stored distinctly\n      // and lowercase version is a fallback\n      modules[id] = this;\n      lcModules[id.toLowerCase()] = this;\n      styleOutsideTemplateCheck(this);\n    }\n  }\n}\n\nDomModule.prototype['modules'] = modules;\n\ncustomElements.define('dom-module', DomModule);\n\nexport { DomModule };\n\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/@polymer/polymer/lib/elements/dom-module.js","import '../utils/boot.js';\nimport { dedupingMixin } from '../utils/mixin.js';\nimport * as caseMap$0 from '../utils/case-map.js';\nimport { microTask } from '../utils/async.js';\n\nlet caseMap = caseMap$0;\n\nlet microtask = microTask;\n\n// Save map of native properties; this forms a blacklist or properties\n// that won't have their values \"saved\" by `saveAccessorValue`, since\n// reading from an HTMLElement accessor from the context of a prototype throws\nconst nativeProperties = {};\nlet proto = HTMLElement.prototype;\nwhile (proto) {\n  let props = Object.getOwnPropertyNames(proto);\n  for (let i=0; i<props.length; i++) {\n    nativeProperties[props[i]] = true;\n  }\n  proto = Object.getPrototypeOf(proto);\n}\n\n/**\n * Used to save the value of a property that will be overridden with\n * an accessor. If the `model` is a prototype, the values will be saved\n * in `__dataProto`, and it's up to the user (or downstream mixin) to\n * decide how/when to set these values back into the accessors.\n * If `model` is already an instance (it has a `__data` property), then\n * the value will be set as a pending property, meaning the user should\n * call `_invalidateProperties` or `_flushProperties` to take effect\n *\n * @param {Object} model Prototype or instance\n * @param {string} property Name of property\n * @private\n */\nfunction saveAccessorValue(model, property) {\n  // Don't read/store value for any native properties since they could throw\n  if (!nativeProperties[property]) {\n    let value = model[property];\n    if (value !== undefined) {\n      if (model.__data) {\n        // Adding accessor to instance; update the property\n        // It is the user's responsibility to call _flushProperties\n        model._setPendingProperty(property, value);\n      } else {\n        // Adding accessor to proto; save proto's value for instance-time use\n        if (!model.__dataProto) {\n          model.__dataProto = {};\n        } else if (!model.hasOwnProperty(JSCompiler_renameProperty('__dataProto', model))) {\n          model.__dataProto = Object.create(model.__dataProto);\n        }\n        model.__dataProto[property] = value;\n      }\n    }\n  }\n}\n\nexport const PropertyAccessors = dedupingMixin(superClass => {\n\n  /**\n   * @polymer\n   * @mixinClass\n   * @implements {Polymer_PropertyAccessors}\n   * @extends HTMLElement\n   * @unrestricted\n   */\n  class PropertyAccessors extends superClass {\n\n    /**\n     * Generates property accessors for all attributes in the standard\n     * static `observedAttributes` array.\n     *\n     * Attribute names are mapped to property names using the `dash-case` to\n     * `camelCase` convention\n     *\n     */\n    static createPropertiesForAttributes() {\n      let a$ = this.observedAttributes;\n      for (let i=0; i < a$.length; i++) {\n        this.prototype._createPropertyAccessor(caseMap.dashToCamelCase(a$[i]));\n      }\n    }\n\n    constructor() {\n      super();\n      /** @type {boolean} */\n      this.__serializing;\n      /** @type {number} */\n      this.__dataCounter;\n      /** @type {boolean} */\n      this.__dataEnabled;\n      /** @type {boolean} */\n      this.__dataReady;\n      /** @type {boolean} */\n      this.__dataInvalid;\n      /** @type {!Object} */\n      this.__data;\n      /** @type {Object} */\n      this.__dataPending;\n      /** @type {Object} */\n      this.__dataOld;\n      /** @type {Object} */\n      this.__dataProto;\n      /** @type {Object} */\n      this.__dataHasAccessor;\n      /** @type {Object} */\n      this.__dataInstanceProps;\n      this._initializeProperties();\n    }\n\n    /**\n     * Implements native Custom Elements `attributeChangedCallback` to\n     * set an attribute value to a property via `_attributeToProperty`.\n     *\n     * @param {string} name Name of attribute that changed\n     * @param {?string} old Old attribute value\n     * @param {?string} value New attribute value\n     */\n    attributeChangedCallback(name, old, value) {\n      if (old !== value) {\n        this._attributeToProperty(name, value);\n      }\n    }\n\n    /**\n     * Initializes the local storage for property accessors.\n     *\n     * Provided as an override point for performing any setup work prior\n     * to initializing the property accessor system.\n     *\n     * @protected\n     */\n    _initializeProperties() {\n      this.__serializing = false;\n      this.__dataCounter = 0;\n      this.__dataEnabled = false;\n      this.__dataReady = false;\n      this.__dataInvalid = false;\n      this.__data = {};\n      this.__dataPending = null;\n      this.__dataOld = null;\n      if (this.__dataProto) {\n        this._initializeProtoProperties(this.__dataProto);\n        this.__dataProto = null;\n      }\n      // Capture instance properties; these will be set into accessors\n      // during first flush. Don't set them here, since we want\n      // these to overwrite defaults/constructor assignments\n      for (let p in this.__dataHasAccessor) {\n        if (this.hasOwnProperty(p)) {\n          this.__dataInstanceProps = this.__dataInstanceProps || {};\n          this.__dataInstanceProps[p] = this[p];\n          delete this[p];\n        }\n      }\n    }\n\n    /**\n     * Called at instance time with bag of properties that were overwritten\n     * by accessors on the prototype when accessors were created.\n     *\n     * The default implementation sets these properties back into the\n     * setter at instance time.  This method is provided as an override\n     * point for customizing or providing more efficient initialization.\n     *\n     * @param {Object} props Bag of property values that were overwritten\n     *   when creating property accessors.\n     * @protected\n     */\n    _initializeProtoProperties(props) {\n      for (let p in props) {\n        this._setProperty(p, props[p]);\n      }\n    }\n\n    /**\n     * Called at ready time with bag of instance properties that overwrote\n     * accessors when the element upgraded.\n     *\n     * The default implementation sets these properties back into the\n     * setter at ready time.  This method is provided as an override\n     * point for customizing or providing more efficient initialization.\n     *\n     * @param {Object} props Bag of property values that were overwritten\n     *   when creating property accessors.\n     * @protected\n     */\n    _initializeInstanceProperties(props) {\n      Object.assign(this, props);\n    }\n\n    /**\n     * Ensures the element has the given attribute. If it does not,\n     * assigns the given value to the attribute.\n     *\n     *\n     * @param {string} attribute Name of attribute to ensure is set.\n     * @param {string} value of the attribute.\n     */\n    _ensureAttribute(attribute, value) {\n      if (!this.hasAttribute(attribute)) {\n        this._valueToNodeAttribute(this, value, attribute);\n      }\n    }\n\n    /**\n     * Deserializes an attribute to its associated property.\n     *\n     * This method calls the `_deserializeValue` method to convert the string to\n     * a typed value.\n     *\n     * @param {string} attribute Name of attribute to deserialize.\n     * @param {?string} value of the attribute.\n     * @param {*=} type type to deserialize to.\n     */\n    _attributeToProperty(attribute, value, type) {\n      // Don't deserialize back to property if currently reflecting\n      if (!this.__serializing) {\n        let property = caseMap.dashToCamelCase(attribute);\n        this[property] = this._deserializeValue(value, type);\n      }\n    }\n\n    /**\n     * Serializes a property to its associated attribute.\n     *\n     * @param {string} property Property name to reflect.\n     * @param {string=} attribute Attribute name to reflect.\n     * @param {*=} value Property value to refect.\n     */\n    _propertyToAttribute(property, attribute, value) {\n      this.__serializing = true;\n      value = (arguments.length < 3) ? this[property] : value;\n      this._valueToNodeAttribute(this, value,\n        attribute || caseMap.camelToDashCase(property));\n      this.__serializing = false;\n    }\n\n    /**\n     * Sets a typed value to an HTML attribute on a node.\n     *\n     * This method calls the `_serializeValue` method to convert the typed\n     * value to a string.  If the `_serializeValue` method returns `undefined`,\n     * the attribute will be removed (this is the default for boolean\n     * type `false`).\n     *\n     * @param {Element} node Element to set attribute to.\n     * @param {*} value Value to serialize.\n     * @param {string} attribute Attribute name to serialize to.\n     */\n    _valueToNodeAttribute(node, value, attribute) {\n      let str = this._serializeValue(value);\n      if (str === undefined) {\n        node.removeAttribute(attribute);\n      } else {\n        node.setAttribute(attribute, str);\n      }\n    }\n\n    /**\n     * Converts a typed JavaScript value to a string.\n     *\n     * This method is called by Polymer when setting JS property values to\n     * HTML attributes.  Users may override this method on Polymer element\n     * prototypes to provide serialization for custom types.\n     *\n     * @param {*} value Property value to serialize.\n     * @return {string | undefined} String serialized from the provided property value.\n     */\n    _serializeValue(value) {\n      /* eslint-disable no-fallthrough */\n      switch (typeof value) {\n        case 'boolean':\n          return value ? '' : undefined;\n\n        case 'object':\n          if (value instanceof Date) {\n            return value.toString();\n          } else if (value) {\n            try {\n              return JSON.stringify(value);\n            } catch(x) {\n              return '';\n            }\n          }\n\n        default:\n          return value != null ? value.toString() : undefined;\n      }\n    }\n\n    /**\n     * Converts a string to a typed JavaScript value.\n     *\n     * This method is called by Polymer when reading HTML attribute values to\n     * JS properties.  Users may override this method on Polymer element\n     * prototypes to provide deserialization for custom `type`s.  Note,\n     * the `type` argument is the value of the `type` field provided in the\n     * `properties` configuration object for a given property, and is\n     * by convention the constructor for the type to deserialize.\n     *\n     * Note: The return value of `undefined` is used as a sentinel value to\n     * indicate the attribute should be removed.\n     *\n     * @param {?string} value Attribute value to deserialize.\n     * @param {*=} type Type to deserialize the string to.\n     * @return {*} Typed value deserialized from the provided string.\n     */\n    _deserializeValue(value, type) {\n      /**\n       * @type {*}\n       */\n      let outValue;\n      switch (type) {\n        case Number:\n          outValue = Number(value);\n          break;\n\n        case Boolean:\n          outValue = (value !== null);\n          break;\n\n        case Object:\n          try {\n            outValue = JSON.parse(/** @type string */(value));\n          } catch(x) {\n            // allow non-JSON literals like Strings and Numbers\n          }\n          break;\n\n        case Array:\n          try {\n            outValue = JSON.parse(/** @type string */(value));\n          } catch(x) {\n            outValue = null;\n            console.warn(`Polymer::Attributes: couldn't decode Array as JSON: ${value}`);\n          }\n          break;\n\n        case Date:\n          outValue = new Date(value);\n          break;\n\n        case String:\n        default:\n          outValue = value;\n          break;\n      }\n\n      return outValue;\n    }\n    /* eslint-enable no-fallthrough */\n\n    /**\n     * Creates a setter/getter pair for the named property with its own\n     * local storage.  The getter returns the value in the local storage,\n     * and the setter calls `_setProperty`, which updates the local storage\n     * for the property and enqueues a `_propertiesChanged` callback.\n     *\n     * This method may be called on a prototype or an instance.  Calling\n     * this method may overwrite a property value that already exists on\n     * the prototype/instance by creating the accessor.  When calling on\n     * a prototype, any overwritten values are saved in `__dataProto`,\n     * and it is up to the subclasser to decide how/when to set those\n     * properties back into the accessor.  When calling on an instance,\n     * the overwritten value is set via `_setPendingProperty`, and the\n     * user should call `_invalidateProperties` or `_flushProperties`\n     * for the values to take effect.\n     *\n     * @param {string} property Name of the property\n     * @param {boolean=} readOnly When true, no setter is created; the\n     *   protected `_setProperty` function must be used to set the property\n     * @protected\n     */\n    _createPropertyAccessor(property, readOnly) {\n      if (!this.hasOwnProperty('__dataHasAccessor')) {\n        this.__dataHasAccessor = Object.assign({}, this.__dataHasAccessor);\n      }\n      if (!this.__dataHasAccessor[property]) {\n        this.__dataHasAccessor[property] = true;\n        saveAccessorValue(this, property);\n        Object.defineProperty(this, property, {\n          /* eslint-disable valid-jsdoc */\n          /** @this {PropertyAccessors} */\n          get: function() {\n            return this.__data[property];\n          },\n          /** @this {PropertyAccessors} */\n          set: readOnly ? function() {} : function(value) {\n            this._setProperty(property, value);\n          }\n          /* eslint-enable */\n        });\n      }\n    }\n\n    /**\n     * Returns true if this library created an accessor for the given property.\n     *\n     * @param {string} property Property name\n     * @return {boolean} True if an accessor was created\n     */\n    _hasAccessor(property) {\n      return this.__dataHasAccessor && this.__dataHasAccessor[property];\n    }\n\n    /**\n     * Updates the local storage for a property (via `_setPendingProperty`)\n     * and enqueues a `_proeprtiesChanged` callback.\n     *\n     * @param {string} property Name of the property\n     * @param {*} value Value to set\n     * @protected\n     */\n    _setProperty(property, value) {\n      if (this._setPendingProperty(property, value)) {\n        this._invalidateProperties();\n      }\n    }\n\n    /**\n     * Updates the local storage for a property, records the previous value,\n     * and adds it to the set of \"pending changes\" that will be passed to the\n     * `_propertiesChanged` callback.  This method does not enqueue the\n     * `_propertiesChanged` callback.\n     *\n     * @param {string} property Name of the property\n     * @param {*} value Value to set\n     * @return {boolean} Returns true if the property changed\n     * @protected\n     */\n    _setPendingProperty(property, value) {\n      let old = this.__data[property];\n      let changed = this._shouldPropertyChange(property, value, old);\n      if (changed) {\n        if (!this.__dataPending) {\n          this.__dataPending = {};\n          this.__dataOld = {};\n        }\n        // Ensure old is captured from the last turn\n        if (this.__dataOld && !(property in this.__dataOld)) {\n          this.__dataOld[property] = old;\n        }\n        this.__data[property] = value;\n        this.__dataPending[property] = value;\n      }\n      return changed;\n    }\n\n    /**\n     * Returns true if the specified property has a pending change.\n     *\n     * @param {string} prop Property name\n     * @return {boolean} True if property has a pending change\n     * @protected\n     */\n    _isPropertyPending(prop) {\n      return Boolean(this.__dataPending && (prop in this.__dataPending));\n    }\n\n    /**\n     * Marks the properties as invalid, and enqueues an async\n     * `_propertiesChanged` callback.\n     *\n     * @protected\n     */\n    _invalidateProperties() {\n      if (!this.__dataInvalid && this.__dataReady) {\n        this.__dataInvalid = true;\n        microtask.run(() => {\n          if (this.__dataInvalid) {\n            this.__dataInvalid = false;\n            this._flushProperties();\n          }\n        });\n      }\n    }\n\n    /**\n     * Call to enable property accessor processing. Before this method is\n     * called accessor values will be set but side effects are\n     * queued. When called, any pending side effects occur immediately.\n     * For elements, generally `connectedCallback` is a normal spot to do so.\n     * It is safe to call this method multiple times as it only turns on\n     * property accessors once.\n     */\n    _enableProperties() {\n      if (!this.__dataEnabled) {\n        this.__dataEnabled = true;\n        if (this.__dataInstanceProps) {\n          this._initializeInstanceProperties(this.__dataInstanceProps);\n          this.__dataInstanceProps = null;\n        }\n        this.ready();\n      }\n    }\n\n    /**\n     * Calls the `_propertiesChanged` callback with the current set of\n     * pending changes (and old values recorded when pending changes were\n     * set), and resets the pending set of changes. Generally, this method\n     * should not be called in user code.\n     *\n     *\n     * @protected\n     */\n    _flushProperties() {\n      if (this.__dataPending && this.__dataOld) {\n        let changedProps = this.__dataPending;\n        this.__dataPending = null;\n        this.__dataCounter++;\n        this._propertiesChanged(this.__data, changedProps, this.__dataOld);\n        this.__dataCounter--;\n      }\n    }\n\n    /**\n     * Lifecycle callback called the first time properties are being flushed.\n     * Prior to `ready`, all property sets through accessors are queued and\n     * their effects are flushed after this method returns.\n     *\n     * Users may override this function to implement behavior that is\n     * dependent on the element having its properties initialized, e.g.\n     * from defaults (initialized from `constructor`, `_initializeProperties`),\n     * `attributeChangedCallback`, or values propagated from host e.g. via\n     * bindings.  `super.ready()` must be called to ensure the data system\n     * becomes enabled.\n     *\n     * @public\n     */\n    ready() {\n      this.__dataReady = true;\n      // Run normal flush\n      this._flushProperties();\n    }\n\n    /**\n     * Callback called when any properties with accessors created via\n     * `_createPropertyAccessor` have been set.\n     *\n     * @param {!Object} currentProps Bag of all current accessor values\n     * @param {!Object} changedProps Bag of properties changed since the last\n     *   call to `_propertiesChanged`\n     * @param {!Object} oldProps Bag of previous values for each property\n     *   in `changedProps`\n     * @protected\n     */\n    _propertiesChanged(currentProps, changedProps, oldProps) { // eslint-disable-line no-unused-vars\n    }\n\n    /**\n     * Method called to determine whether a property value should be\n     * considered as a change and cause the `_propertiesChanged` callback\n     * to be enqueued.\n     *\n     * The default implementation returns `true` for primitive types if a\n     * strict equality check fails, and returns `true` for all Object/Arrays.\n     * The method always returns false for `NaN`.\n     *\n     * Override this method to e.g. provide stricter checking for\n     * Objects/Arrays when using immutable patterns.\n     *\n     * @param {string} property Property name\n     * @param {*} value New property value\n     * @param {*} old Previous property value\n     * @return {boolean} Whether the property should be considered a change\n     *   and enqueue a `_proeprtiesChanged` callback\n     * @protected\n     */\n    _shouldPropertyChange(property, value, old) {\n      return (\n        // Strict equality check\n        (old !== value &&\n         // This ensures (old==NaN, value==NaN) always returns false\n         (old === old || value === value))\n      );\n    }\n\n  }\n\n  return PropertyAccessors;\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/@polymer/polymer/lib/mixins/property-accessors.js","import '../utils/boot.js';\nimport { dedupingMixin } from '../utils/mixin.js';\n\n// 1.x backwards-compatible auto-wrapper for template type extensions\n// This is a clear layering violation and gives favored-nation status to\n// dom-if and dom-repeat templates.  This is a conceit we're choosing to keep\n// a.) to ease 1.x backwards-compatibility due to loss of `is`, and\n// b.) to maintain if/repeat capability in parser-constrained elements\n//     (e.g. table, select) in lieu of native CE type extensions without\n//     massive new invention in this space (e.g. directive system)\nconst templateExtensions = {\n  'dom-if': true,\n  'dom-repeat': true\n};\nfunction wrapTemplateExtension(node) {\n  let is = node.getAttribute('is');\n  if (is && templateExtensions[is]) {\n    let t = node;\n    t.removeAttribute('is');\n    node = t.ownerDocument.createElement(is);\n    t.parentNode.replaceChild(node, t);\n    node.appendChild(t);\n    while(t.attributes.length) {\n      node.setAttribute(t.attributes[0].name, t.attributes[0].value);\n      t.removeAttribute(t.attributes[0].name);\n    }\n  }\n  return node;\n}\n\nfunction findTemplateNode(root, nodeInfo) {\n  // recursively ascend tree until we hit root\n  let parent = nodeInfo.parentInfo && findTemplateNode(root, nodeInfo.parentInfo);\n  // unwind the stack, returning the indexed node at each level\n  if (parent) {\n    // note: marginally faster than indexing via childNodes\n    // (http://jsperf.com/childnodes-lookup)\n    for (let n=parent.firstChild, i=0; n; n=n.nextSibling) {\n      if (nodeInfo.parentIndex === i++) {\n        return n;\n      }\n    }\n  } else {\n    return root;\n  }\n}\n\n// construct `$` map (from id annotations)\nfunction applyIdToMap(inst, map, node, nodeInfo) {\n  if (nodeInfo.id) {\n    map[nodeInfo.id] = node;\n  }\n}\n\n// install event listeners (from event annotations)\nfunction applyEventListener(inst, node, nodeInfo) {\n  if (nodeInfo.events && nodeInfo.events.length) {\n    for (let j=0, e$=nodeInfo.events, e; (j<e$.length) && (e=e$[j]); j++) {\n      inst._addMethodEventListenerToNode(node, e.name, e.value, inst);\n    }\n  }\n}\n\n// push configuration references at configure time\nfunction applyTemplateContent(inst, node, nodeInfo) {\n  if (nodeInfo.templateInfo) {\n    node._templateInfo = nodeInfo.templateInfo;\n  }\n}\n\nfunction createNodeEventHandler(context, eventName, methodName) {\n  // Instances can optionally have a _methodHost which allows redirecting where\n  // to find methods. Currently used by `templatize`.\n  context = context._methodHost || context;\n  let handler = function(e) {\n    if (context[methodName]) {\n      context[methodName](e, e.detail);\n    } else {\n      console.warn('listener method `' + methodName + '` not defined');\n    }\n  };\n  return handler;\n}\n\nexport const TemplateStamp = dedupingMixin(superClass => {\n\n  /**\n   * @polymer\n   * @mixinClass\n   * @implements {Polymer_TemplateStamp}\n   */\n  class TemplateStamp extends superClass {\n\n    /**\n     * Scans a template to produce template metadata.\n     *\n     * Template-specific metadata are stored in the object returned, and node-\n     * specific metadata are stored in objects in its flattened `nodeInfoList`\n     * array.  Only nodes in the template that were parsed as nodes of\n     * interest contain an object in `nodeInfoList`.  Each `nodeInfo` object\n     * contains an `index` (`childNodes` index in parent) and optionally\n     * `parent`, which points to node info of its parent (including its index).\n     *\n     * The template metadata object returned from this method has the following\n     * structure (many fields optional):\n     *\n     * ```js\n     *   {\n     *     // Flattened list of node metadata (for nodes that generated metadata)\n     *     nodeInfoList: [\n     *       {\n     *         // `id` attribute for any nodes with id's for generating `$` map\n     *         id: {string},\n     *         // `on-event=\"handler\"` metadata\n     *         events: [\n     *           {\n     *             name: {string},   // event name\n     *             value: {string},  // handler method name\n     *           }, ...\n     *         ],\n     *         // Notes when the template contained a `<slot>` for shady DOM\n     *         // optimization purposes\n     *         hasInsertionPoint: {boolean},\n     *         // For nested `<template>`` nodes, nested template metadata\n     *         templateInfo: {object}, // nested template metadata\n     *         // Metadata to allow efficient retrieval of instanced node\n     *         // corresponding to this metadata\n     *         parentInfo: {number},   // reference to parent nodeInfo>\n     *         parentIndex: {number},  // index in parent's `childNodes` collection\n     *         infoIndex: {number},    // index of this `nodeInfo` in `templateInfo.nodeInfoList`\n     *       },\n     *       ...\n     *     ],\n     *     // When true, the template had the `strip-whitespace` attribute\n     *     // or was nested in a template with that setting\n     *     stripWhitespace: {boolean},\n     *     // For nested templates, nested template content is moved into\n     *     // a document fragment stored here; this is an optimization to\n     *     // avoid the cost of nested template cloning\n     *     content: {DocumentFragment}\n     *   }\n     * ```\n     *\n     * This method kicks off a recursive treewalk as follows:\n     *\n     * ```\n     *    _parseTemplate <---------------------+\n     *      _parseTemplateContent              |\n     *        _parseTemplateNode  <------------|--+\n     *          _parseTemplateNestedTemplate --+  |\n     *          _parseTemplateChildNodes ---------+\n     *          _parseTemplateNodeAttributes\n     *            _parseTemplateNodeAttribute\n     *\n     * ```\n     *\n     * These methods may be overridden to add custom metadata about templates\n     * to either `templateInfo` or `nodeInfo`.\n     *\n     * Note that this method may be destructive to the template, in that\n     * e.g. event annotations may be removed after being noted in the\n     * template metadata.\n     *\n     * @param {!HTMLTemplateElement} template Template to parse\n     * @param {TemplateInfo=} outerTemplateInfo Template metadata from the outer\n     *   template, for parsing nested templates\n     * @return {!TemplateInfo} Parsed template metadata\n     */\n    static _parseTemplate(template, outerTemplateInfo) {\n      // since a template may be re-used, memo-ize metadata\n      if (!template._templateInfo) {\n        let templateInfo = template._templateInfo = {};\n        templateInfo.nodeInfoList = [];\n        templateInfo.stripWhiteSpace =\n          (outerTemplateInfo && outerTemplateInfo.stripWhiteSpace) ||\n          template.hasAttribute('strip-whitespace');\n        this._parseTemplateContent(template, templateInfo, {parent: null});\n      }\n      return template._templateInfo;\n    }\n\n    static _parseTemplateContent(template, templateInfo, nodeInfo) {\n      return this._parseTemplateNode(template.content, templateInfo, nodeInfo);\n    }\n\n    /**\n     * Parses template node and adds template and node metadata based on\n     * the current node, and its `childNodes` and `attributes`.\n     *\n     * This method may be overridden to add custom node or template specific\n     * metadata based on this node.\n     *\n     * @param {Node} node Node to parse\n     * @param {!TemplateInfo} templateInfo Template metadata for current template\n     * @param {!NodeInfo} nodeInfo Node metadata for current template.\n     * @return {boolean} `true` if the visited node added node-specific\n     *   metadata to `nodeInfo`\n     */\n    static _parseTemplateNode(node, templateInfo, nodeInfo) {\n      let noted;\n      let element = /** @type Element */(node);\n      if (element.localName == 'template' && !element.hasAttribute('preserve-content')) {\n        noted = this._parseTemplateNestedTemplate(element, templateInfo, nodeInfo) || noted;\n      } else if (element.localName === 'slot') {\n        // For ShadyDom optimization, indicating there is an insertion point\n        templateInfo.hasInsertionPoint = true;\n      }\n      if (element.firstChild) {\n        noted = this._parseTemplateChildNodes(element, templateInfo, nodeInfo) || noted;\n      }\n      if (element.hasAttributes && element.hasAttributes()) {\n        noted = this._parseTemplateNodeAttributes(element, templateInfo, nodeInfo) || noted;\n      }\n      return noted;\n    }\n\n    /**\n     * Parses template child nodes for the given root node.\n     *\n     * This method also wraps whitelisted legacy template extensions\n     * (`is=\"dom-if\"` and `is=\"dom-repeat\"`) with their equivalent element\n     * wrappers, collapses text nodes, and strips whitespace from the template\n     * if the `templateInfo.stripWhitespace` setting was provided.\n     *\n     * @param {Node} root Root node whose `childNodes` will be parsed\n     * @param {!TemplateInfo} templateInfo Template metadata for current template\n     * @param {!NodeInfo} nodeInfo Node metadata for current template.\n     */\n    static _parseTemplateChildNodes(root, templateInfo, nodeInfo) {\n      for (let node=root.firstChild, parentIndex=0, next; node; node=next) {\n        // Wrap templates\n        if (node.localName == 'template') {\n          node = wrapTemplateExtension(node);\n        }\n        // collapse adjacent textNodes: fixes an IE issue that can cause\n        // text nodes to be inexplicably split =(\n        // note that root.normalize() should work but does not so we do this\n        // manually.\n        next = node.nextSibling;\n        if (node.nodeType === Node.TEXT_NODE) {\n          let /** Node */ n = next;\n          while (n && (n.nodeType === Node.TEXT_NODE)) {\n            node.textContent += n.textContent;\n            next = n.nextSibling;\n            root.removeChild(n);\n            n = next;\n          }\n          // optionally strip whitespace\n          if (templateInfo.stripWhiteSpace && !node.textContent.trim()) {\n            root.removeChild(node);\n            continue;\n          }\n        }\n        let childInfo = { parentIndex, parentInfo: nodeInfo };\n        if (this._parseTemplateNode(node, templateInfo, childInfo)) {\n          childInfo.infoIndex = templateInfo.nodeInfoList.push(/** @type {!NodeInfo} */(childInfo)) - 1;\n        }\n        // Increment if not removed\n        if (node.parentNode) {\n          parentIndex++;\n        }\n      }\n    }\n\n    /**\n     * Parses template content for the given nested `<template>`.\n     *\n     * Nested template info is stored as `templateInfo` in the current node's\n     * `nodeInfo`. `template.content` is removed and stored in `templateInfo`.\n     * It will then be the responsibility of the host to set it back to the\n     * template and for users stamping nested templates to use the\n     * `_contentForTemplate` method to retrieve the content for this template\n     * (an optimization to avoid the cost of cloning nested template content).\n     *\n     * @param {HTMLTemplateElement} node Node to parse (a <template>)\n     * @param {TemplateInfo} outerTemplateInfo Template metadata for current template\n     *   that includes the template `node`\n     * @param {!NodeInfo} nodeInfo Node metadata for current template.\n     * @return {boolean} `true` if the visited node added node-specific\n     *   metadata to `nodeInfo`\n     */\n    static _parseTemplateNestedTemplate(node, outerTemplateInfo, nodeInfo) {\n      let templateInfo = this._parseTemplate(node, outerTemplateInfo);\n      let content = templateInfo.content =\n        node.content.ownerDocument.createDocumentFragment();\n      content.appendChild(node.content);\n      nodeInfo.templateInfo = templateInfo;\n      return true;\n    }\n\n    /**\n     * Parses template node attributes and adds node metadata to `nodeInfo`\n     * for nodes of interest.\n     *\n     * @param {Element} node Node to parse\n     * @param {TemplateInfo} templateInfo Template metadata for current template\n     * @param {NodeInfo} nodeInfo Node metadata for current template.\n     * @return {boolean} `true` if the visited node added node-specific\n     *   metadata to `nodeInfo`\n     */\n    static _parseTemplateNodeAttributes(node, templateInfo, nodeInfo) {\n      // Make copy of original attribute list, since the order may change\n      // as attributes are added and removed\n      let noted = false;\n      let attrs = Array.from(node.attributes);\n      for (let i=attrs.length-1, a; (a=attrs[i]); i--) {\n        noted = this._parseTemplateNodeAttribute(node, templateInfo, nodeInfo, a.name, a.value) || noted;\n      }\n      return noted;\n    }\n\n    /**\n     * Parses a single template node attribute and adds node metadata to\n     * `nodeInfo` for attributes of interest.\n     *\n     * This implementation adds metadata for `on-event=\"handler\"` attributes\n     * and `id` attributes.\n     *\n     * @param {Element} node Node to parse\n     * @param {!TemplateInfo} templateInfo Template metadata for current template\n     * @param {!NodeInfo} nodeInfo Node metadata for current template.\n     * @param {string} name Attribute name\n     * @param {string} value Attribute value\n     * @return {boolean} `true` if the visited node added node-specific\n     *   metadata to `nodeInfo`\n     */\n    static _parseTemplateNodeAttribute(node, templateInfo, nodeInfo, name, value) {\n      // events (on-*)\n      if (name.slice(0, 3) === 'on-') {\n        node.removeAttribute(name);\n        nodeInfo.events = nodeInfo.events || [];\n        nodeInfo.events.push({\n          name: name.slice(3),\n          value\n        });\n        return true;\n      }\n      // static id\n      else if (name === 'id') {\n        nodeInfo.id = value;\n        return true;\n      }\n      return false;\n    }\n\n    /**\n     * Returns the `content` document fragment for a given template.\n     *\n     * For nested templates, Polymer performs an optimization to cache nested\n     * template content to avoid the cost of cloning deeply nested templates.\n     * This method retrieves the cached content for a given template.\n     *\n     * @param {HTMLTemplateElement} template Template to retrieve `content` for\n     * @return {DocumentFragment} Content fragment\n     */\n    static _contentForTemplate(template) {\n      let templateInfo = /** @type {HTMLTemplateElementWithInfo} */ (template)._templateInfo;\n      return (templateInfo && templateInfo.content) || template.content;\n    }\n\n    /**\n     * Clones the provided template content and returns a document fragment\n     * containing the cloned dom.\n     *\n     * The template is parsed (once and memoized) using this library's\n     * template parsing features, and provides the following value-added\n     * features:\n     * * Adds declarative event listeners for `on-event=\"handler\"` attributes\n     * * Generates an \"id map\" for all nodes with id's under `$` on returned\n     *   document fragment\n     * * Passes template info including `content` back to templates as\n     *   `_templateInfo` (a performance optimization to avoid deep template\n     *   cloning)\n     *\n     * Note that the memoized template parsing process is destructive to the\n     * template: attributes for bindings and declarative event listeners are\n     * removed after being noted in notes, and any nested `<template>.content`\n     * is removed and stored in notes as well.\n     *\n     * @param {!HTMLTemplateElement} template Template to stamp\n     * @return {!StampedTemplate} Cloned template content\n     */\n    _stampTemplate(template) {\n      // Polyfill support: bootstrap the template if it has not already been\n      if (template && !template.content &&\n          window.HTMLTemplateElement && HTMLTemplateElement.decorate) {\n        HTMLTemplateElement.decorate(template);\n      }\n      let templateInfo = this.constructor._parseTemplate(template);\n      let nodeInfo = templateInfo.nodeInfoList;\n      let content = templateInfo.content || template.content;\n      let dom = /** @type DocumentFragment */ (document.importNode(content, true));\n      // NOTE: ShadyDom optimization indicating there is an insertion point\n      dom.__noInsertionPoint = !templateInfo.hasInsertionPoint;\n      let nodes = dom.nodeList = new Array(nodeInfo.length);\n      dom.$ = {};\n      for (let i=0, l=nodeInfo.length, info; (i<l) && (info=nodeInfo[i]); i++) {\n        let node = nodes[i] = findTemplateNode(dom, info);\n        applyIdToMap(this, dom.$, node, info);\n        applyTemplateContent(this, node, info);\n        applyEventListener(this, node, info);\n      }\n      return /** @type {!StampedTemplate} */(dom);\n    }\n\n    /**\n     * Adds an event listener by method name for the event provided.\n     *\n     * This method generates a handler function that looks up the method\n     * name at handling time.\n     *\n     * @param {Node} node Node to add listener on\n     * @param {string} eventName Name of event\n     * @param {string} methodName Name of method\n     * @param {*=} context Context the method will be called on (defaults\n     *   to `node`)\n     * @return {Function} Generated handler function\n     */\n    _addMethodEventListenerToNode(node, eventName, methodName, context) {\n      context = context || node;\n      let handler = createNodeEventHandler(context, eventName, methodName);\n      this._addEventListenerToNode(node, eventName, handler);\n      return handler;\n    }\n\n    /**\n     * Override point for adding custom or simulated event handling.\n     *\n     * @param {Node} node Node to add event listener to\n     * @param {string} eventName Name of event\n     * @param {Function} handler Listener function to add\n     */\n    _addEventListenerToNode(node, eventName, handler) {\n      node.addEventListener(eventName, handler);\n    }\n\n    /**\n     * Override point for adding custom or simulated event handling.\n     *\n     * @param {Node} node Node to remove event listener from\n     * @param {string} eventName Name of event\n     * @param {Function} handler Listener function to remove\n     */\n    _removeEventListenerFromNode(node, eventName, handler) {\n      node.removeEventListener(eventName, handler);\n    }\n\n  }\n\n  return TemplateStamp;\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/@polymer/polymer/lib/mixins/template-stamp.js","import './boot.js';\nimport { timeOut } from './async.js';\nimport { Debouncer } from './debounce.js';\n\n// detect native touch action support\nlet HAS_NATIVE_TA = typeof document.head.style.touchAction === 'string';\nlet GESTURE_KEY = '__polymerGestures';\nlet HANDLED_OBJ = '__polymerGesturesHandled';\nlet TOUCH_ACTION = '__polymerGesturesTouchAction';\n// radius for tap and track\nlet TAP_DISTANCE = 25;\nlet TRACK_DISTANCE = 5;\n// number of last N track positions to keep\nlet TRACK_LENGTH = 2;\n\n// Disabling \"mouse\" handlers for 2500ms is enough\nlet MOUSE_TIMEOUT = 2500;\nlet MOUSE_EVENTS = ['mousedown', 'mousemove', 'mouseup', 'click'];\n// an array of bitmask values for mapping MouseEvent.which to MouseEvent.buttons\nlet MOUSE_WHICH_TO_BUTTONS = [0, 1, 4, 2];\nlet MOUSE_HAS_BUTTONS = (function() {\n  try {\n    return new MouseEvent('test', {buttons: 1}).buttons === 1;\n  } catch (e) {\n    return false;\n  }\n})();\n\n/* eslint no-empty: [\"error\", { \"allowEmptyCatch\": true }] */\n// check for passive event listeners\nlet SUPPORTS_PASSIVE = false;\n(function() {\n  try {\n    let opts = Object.defineProperty({}, 'passive', {get: function() {SUPPORTS_PASSIVE = true;}});\n    window.addEventListener('test', null, opts);\n    window.removeEventListener('test', null, opts);\n  } catch(e) {}\n})();\n\n// Check for touch-only devices\nlet IS_TOUCH_ONLY = navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/);\n\nlet GestureRecognizer = function(){}; // eslint-disable-line no-unused-vars\nGestureRecognizer.prototype.reset = function(){};\n/** @type {function(MouseEvent) | undefined} */\nGestureRecognizer.prototype.mousedown;\n/** @type {(function(MouseEvent) | undefined)} */\nGestureRecognizer.prototype.mousemove;\n/** @type {(function(MouseEvent) | undefined)} */\nGestureRecognizer.prototype.mouseup;\n/** @type {(function(TouchEvent) | undefined)} */\nGestureRecognizer.prototype.touchstart;\n/** @type {(function(TouchEvent) | undefined)} */\nGestureRecognizer.prototype.touchmove;\n/** @type {(function(TouchEvent) | undefined)} */\nGestureRecognizer.prototype.touchend;\n/** @type {(function(MouseEvent) | undefined)} */\nGestureRecognizer.prototype.click;\n\n// touch will make synthetic mouse events\n// `preventDefault` on touchend will cancel them,\n// but this breaks `<input>` focus and link clicks\n// disable mouse handlers for MOUSE_TIMEOUT ms after\n// a touchend to ignore synthetic mouse events\nlet mouseCanceller = function(mouseEvent) {\n  // Check for sourceCapabilities, used to distinguish synthetic events\n  // if mouseEvent did not come from a device that fires touch events,\n  // it was made by a real mouse and should be counted\n  // http://wicg.github.io/InputDeviceCapabilities/#dom-inputdevicecapabilities-firestouchevents\n  let sc = mouseEvent.sourceCapabilities;\n  if (sc && !sc.firesTouchEvents) {\n    return;\n  }\n  // skip synthetic mouse events\n  mouseEvent[HANDLED_OBJ] = {skip: true};\n  // disable \"ghost clicks\"\n  if (mouseEvent.type === 'click') {\n    let path = mouseEvent.composedPath && mouseEvent.composedPath();\n    if (path) {\n      for (let i = 0; i < path.length; i++) {\n        if (path[i] === POINTERSTATE.mouse.target) {\n          return;\n        }\n      }\n    }\n    mouseEvent.preventDefault();\n    mouseEvent.stopPropagation();\n  }\n};\n\n/**\n * @param {boolean=} setup True to add, false to remove.\n */\nfunction setupTeardownMouseCanceller(setup) {\n  let events = IS_TOUCH_ONLY ? ['click'] : MOUSE_EVENTS;\n  for (let i = 0, en; i < events.length; i++) {\n    en = events[i];\n    if (setup) {\n      document.addEventListener(en, mouseCanceller, true);\n    } else {\n      document.removeEventListener(en, mouseCanceller, true);\n    }\n  }\n}\n\nfunction ignoreMouse(e) {\n  if (!POINTERSTATE.mouse.mouseIgnoreJob) {\n    setupTeardownMouseCanceller(true);\n  }\n  let unset = function() {\n    setupTeardownMouseCanceller();\n    POINTERSTATE.mouse.target = null;\n    POINTERSTATE.mouse.mouseIgnoreJob = null;\n  };\n  POINTERSTATE.mouse.target = e.composedPath()[0];\n  POINTERSTATE.mouse.mouseIgnoreJob = Debouncer.debounce(\n        POINTERSTATE.mouse.mouseIgnoreJob\n      , timeOut.after(MOUSE_TIMEOUT)\n      , unset);\n}\n\n/**\n * @param {MouseEvent} ev event to test for left mouse button down\n * @return {boolean} has left mouse button down\n */\nfunction hasLeftMouseButton(ev) {\n  let type = ev.type;\n  // exit early if the event is not a mouse event\n  if (MOUSE_EVENTS.indexOf(type) === -1) {\n    return false;\n  }\n  // ev.button is not reliable for mousemove (0 is overloaded as both left button and no buttons)\n  // instead we use ev.buttons (bitmask of buttons) or fall back to ev.which (deprecated, 0 for no buttons, 1 for left button)\n  if (type === 'mousemove') {\n    // allow undefined for testing events\n    let buttons = ev.buttons === undefined ? 1 : ev.buttons;\n    if ((ev instanceof window.MouseEvent) && !MOUSE_HAS_BUTTONS) {\n      buttons = MOUSE_WHICH_TO_BUTTONS[ev.which] || 0;\n    }\n    // buttons is a bitmask, check that the left button bit is set (1)\n    return Boolean(buttons & 1);\n  } else {\n    // allow undefined for testing events\n    let button = ev.button === undefined ? 0 : ev.button;\n    // ev.button is 0 in mousedown/mouseup/click for left button activation\n    return button === 0;\n  }\n}\n\nfunction isSyntheticClick(ev) {\n  if (ev.type === 'click') {\n    // ev.detail is 0 for HTMLElement.click in most browsers\n    if (ev.detail === 0) {\n      return true;\n    }\n    // in the worst case, check that the x/y position of the click is within\n    // the bounding box of the target of the event\n    // Thanks IE 10 >:(\n    let t = _findOriginalTarget(ev);\n    // make sure the target of the event is an element so we can use getBoundingClientRect,\n    // if not, just assume it is a synthetic click\n    if (!t.nodeType || /** @type {Element} */(t).nodeType !== Node.ELEMENT_NODE) {\n      return true;\n    }\n    let bcr = /** @type {Element} */(t).getBoundingClientRect();\n    // use page x/y to account for scrolling\n    let x = ev.pageX, y = ev.pageY;\n    // ev is a synthetic click if the position is outside the bounding box of the target\n    return !((x >= bcr.left && x <= bcr.right) && (y >= bcr.top && y <= bcr.bottom));\n  }\n  return false;\n}\n\nlet POINTERSTATE = {\n  mouse: {\n    target: null,\n    mouseIgnoreJob: null\n  },\n  touch: {\n    x: 0,\n    y: 0,\n    id: -1,\n    scrollDecided: false\n  }\n};\n\nfunction firstTouchAction(ev) {\n  let ta = 'auto';\n  let path = ev.composedPath && ev.composedPath();\n  if (path) {\n    for (let i = 0, n; i < path.length; i++) {\n      n = path[i];\n      if (n[TOUCH_ACTION]) {\n        ta = n[TOUCH_ACTION];\n        break;\n      }\n    }\n  }\n  return ta;\n}\n\nfunction trackDocument(stateObj, movefn, upfn) {\n  stateObj.movefn = movefn;\n  stateObj.upfn = upfn;\n  document.addEventListener('mousemove', movefn);\n  document.addEventListener('mouseup', upfn);\n}\n\nfunction untrackDocument(stateObj) {\n  document.removeEventListener('mousemove', stateObj.movefn);\n  document.removeEventListener('mouseup', stateObj.upfn);\n  stateObj.movefn = null;\n  stateObj.upfn = null;\n}\n\n// use a document-wide touchend listener to start the ghost-click prevention mechanism\n// Use passive event listeners, if supported, to not affect scrolling performance\ndocument.addEventListener('touchend', ignoreMouse, SUPPORTS_PASSIVE ? {passive: true} : false);\n\nexport const gestures = {};\nexport const recognizers = [];\n\nexport function deepTargetFind(x, y) {\n  let node = document.elementFromPoint(x, y);\n  let next = node;\n  // this code path is only taken when native ShadowDOM is used\n  // if there is a shadowroot, it may have a node at x/y\n  // if there is not a shadowroot, exit the loop\n  while (next && next.shadowRoot && !window.ShadyDOM) {\n    // if there is a node at x/y in the shadowroot, look deeper\n    let oldNext = next;\n    next = next.shadowRoot.elementFromPoint(x, y);\n    // on Safari, elementFromPoint may return the shadowRoot host\n    if (oldNext === next) {\n      break;\n    }\n    if (next) {\n      node = next;\n    }\n  }\n  return node;\n}\n\nexport function _findOriginalTarget(ev) {\n  // shadowdom\n  if (ev.composedPath) {\n    return /** @type {EventTarget} */(ev.composedPath()[0]);\n  }\n  // shadydom\n  return ev.target;\n}\n\nexport function _handleNative(ev) {\n  let handled;\n  let type = ev.type;\n  let node = ev.currentTarget;\n  let gobj = node[GESTURE_KEY];\n  if (!gobj) {\n    return;\n  }\n  let gs = gobj[type];\n  if (!gs) {\n    return;\n  }\n  if (!ev[HANDLED_OBJ]) {\n    ev[HANDLED_OBJ] = {};\n    if (type.slice(0, 5) === 'touch') {\n      ev = /** @type {TouchEvent} */(ev); // eslint-disable-line no-self-assign\n      let t = ev.changedTouches[0];\n      if (type === 'touchstart') {\n        // only handle the first finger\n        if (ev.touches.length === 1) {\n          POINTERSTATE.touch.id = t.identifier;\n        }\n      }\n      if (POINTERSTATE.touch.id !== t.identifier) {\n        return;\n      }\n      if (!HAS_NATIVE_TA) {\n        if (type === 'touchstart' || type === 'touchmove') {\n          _handleTouchAction(ev);\n        }\n      }\n    }\n  }\n  handled = ev[HANDLED_OBJ];\n  // used to ignore synthetic mouse events\n  if (handled.skip) {\n    return;\n  }\n  // reset recognizer state\n  for (let i = 0, r; i < recognizers.length; i++) {\n    r = recognizers[i];\n    if (gs[r.name] && !handled[r.name]) {\n      if (r.flow && r.flow.start.indexOf(ev.type) > -1 && r.reset) {\n        r.reset();\n      }\n    }\n  }\n  // enforce gesture recognizer order\n  for (let i = 0, r; i < recognizers.length; i++) {\n    r = recognizers[i];\n    if (gs[r.name] && !handled[r.name]) {\n      handled[r.name] = true;\n      r[type](ev);\n    }\n  }\n}\n\nexport function _handleTouchAction(ev) {\n  let t = ev.changedTouches[0];\n  let type = ev.type;\n  if (type === 'touchstart') {\n    POINTERSTATE.touch.x = t.clientX;\n    POINTERSTATE.touch.y = t.clientY;\n    POINTERSTATE.touch.scrollDecided = false;\n  } else if (type === 'touchmove') {\n    if (POINTERSTATE.touch.scrollDecided) {\n      return;\n    }\n    POINTERSTATE.touch.scrollDecided = true;\n    let ta = firstTouchAction(ev);\n    let prevent = false;\n    let dx = Math.abs(POINTERSTATE.touch.x - t.clientX);\n    let dy = Math.abs(POINTERSTATE.touch.y - t.clientY);\n    if (!ev.cancelable) {\n      // scrolling is happening\n    } else if (ta === 'none') {\n      prevent = true;\n    } else if (ta === 'pan-x') {\n      prevent = dy > dx;\n    } else if (ta === 'pan-y') {\n      prevent = dx > dy;\n    }\n    if (prevent) {\n      ev.preventDefault();\n    } else {\n      prevent('track');\n    }\n  }\n}\n\nexport function addListener(node, evType, handler) {\n  if (gestures[evType]) {\n    _add(node, evType, handler);\n    return true;\n  }\n  return false;\n}\n\nexport function removeListener(node, evType, handler) {\n  if (gestures[evType]) {\n    _remove(node, evType, handler);\n    return true;\n  }\n  return false;\n}\n\nexport function _add(node, evType, handler) {\n  let recognizer = gestures[evType];\n  let deps = recognizer.deps;\n  let name = recognizer.name;\n  let gobj = node[GESTURE_KEY];\n  if (!gobj) {\n    node[GESTURE_KEY] = gobj = {};\n  }\n  for (let i = 0, dep, gd; i < deps.length; i++) {\n    dep = deps[i];\n    // don't add mouse handlers on iOS because they cause gray selection overlays\n    if (IS_TOUCH_ONLY && MOUSE_EVENTS.indexOf(dep) > -1 && dep !== 'click') {\n      continue;\n    }\n    gd = gobj[dep];\n    if (!gd) {\n      gobj[dep] = gd = {_count: 0};\n    }\n    if (gd._count === 0) {\n      node.addEventListener(dep, _handleNative);\n    }\n    gd[name] = (gd[name] || 0) + 1;\n    gd._count = (gd._count || 0) + 1;\n  }\n  node.addEventListener(evType, handler);\n  if (recognizer.touchAction) {\n    setTouchAction(node, recognizer.touchAction);\n  }\n}\n\nexport function _remove(node, evType, handler) {\n  let recognizer = gestures[evType];\n  let deps = recognizer.deps;\n  let name = recognizer.name;\n  let gobj = node[GESTURE_KEY];\n  if (gobj) {\n    for (let i = 0, dep, gd; i < deps.length; i++) {\n      dep = deps[i];\n      gd = gobj[dep];\n      if (gd && gd[name]) {\n        gd[name] = (gd[name] || 1) - 1;\n        gd._count = (gd._count || 1) - 1;\n        if (gd._count === 0) {\n          node.removeEventListener(dep, _handleNative);\n        }\n      }\n    }\n  }\n  node.removeEventListener(evType, handler);\n}\n\nexport function register(recog) {\n  recognizers.push(recog);\n  for (let i = 0; i < recog.emits.length; i++) {\n    gestures[recog.emits[i]] = recog;\n  }\n}\n\nexport function _findRecognizerByEvent(evName) {\n  for (let i = 0, r; i < recognizers.length; i++) {\n    r = recognizers[i];\n    for (let j = 0, n; j < r.emits.length; j++) {\n      n = r.emits[j];\n      if (n === evName) {\n        return r;\n      }\n    }\n  }\n  return null;\n}\n\nexport function setTouchAction(node, value) {\n  if (HAS_NATIVE_TA) {\n    node.style.touchAction = value;\n  }\n  node[TOUCH_ACTION] = value;\n}\n\nexport function _fire(target, type, detail) {\n  let ev = new Event(type, { bubbles: true, cancelable: true, composed: true });\n  ev.detail = detail;\n  target.dispatchEvent(ev);\n  // forward `preventDefault` in a clean way\n  if (ev.defaultPrevented) {\n    let preventer = detail.preventer || detail.sourceEvent;\n    if (preventer && preventer.preventDefault) {\n      preventer.preventDefault();\n    }\n  }\n}\n\nexport function prevent(evName) {\n  let recognizer = _findRecognizerByEvent(evName);\n  if (recognizer.info) {\n    recognizer.info.prevent = true;\n  }\n}\n\nexport function resetMouseCanceller() {\n  if (POINTERSTATE.mouse.mouseIgnoreJob) {\n    POINTERSTATE.mouse.mouseIgnoreJob.flush();\n  }\n}\n\n/* eslint-disable valid-jsdoc */\n\nregister({\n  name: 'downup',\n  deps: ['mousedown', 'touchstart', 'touchend'],\n  flow: {\n    start: ['mousedown', 'touchstart'],\n    end: ['mouseup', 'touchend']\n  },\n  emits: ['down', 'up'],\n\n  info: {\n    movefn: null,\n    upfn: null\n  },\n\n  /** @this {GestureRecognizer} */\n  reset: function() {\n    untrackDocument(this.info);\n  },\n\n  /**\n   * @this {GestureRecognizer}\n   * @param {MouseEvent} e\n   */\n  mousedown: function(e) {\n    if (!hasLeftMouseButton(e)) {\n      return;\n    }\n    let t = _findOriginalTarget(e);\n    let self = this;\n    let movefn = function movefn(e) {\n      if (!hasLeftMouseButton(e)) {\n        self._fire('up', t, e);\n        untrackDocument(self.info);\n      }\n    };\n    let upfn = function upfn(e) {\n      if (hasLeftMouseButton(e)) {\n        self._fire('up', t, e);\n      }\n      untrackDocument(self.info);\n    };\n    trackDocument(this.info, movefn, upfn);\n    this._fire('down', t, e);\n  },\n  /**\n   * @this {GestureRecognizer}\n   * @param {TouchEvent} e\n   */\n  touchstart: function(e) {\n    this._fire('down', _findOriginalTarget(e), e.changedTouches[0], e);\n  },\n  /**\n   * @this {GestureRecognizer}\n   * @param {TouchEvent} e\n   */\n  touchend: function(e) {\n    this._fire('up', _findOriginalTarget(e), e.changedTouches[0], e);\n  },\n  /**\n   * @param {string} type\n   * @param {EventTarget} target\n   * @param {Event} event\n   * @param {Function} preventer\n   */\n  _fire: function(type, target, event, preventer) {\n    _fire(target, type, {\n      x: event.clientX,\n      y: event.clientY,\n      sourceEvent: event,\n      preventer: preventer,\n      prevent: function(e) {\n        return prevent(e);\n      }\n    });\n  }\n});\n\nregister({\n  name: 'track',\n  touchAction: 'none',\n  deps: ['mousedown', 'touchstart', 'touchmove', 'touchend'],\n  flow: {\n    start: ['mousedown', 'touchstart'],\n    end: ['mouseup', 'touchend']\n  },\n  emits: ['track'],\n\n  info: {\n    x: 0,\n    y: 0,\n    state: 'start',\n    started: false,\n    moves: [],\n    /** @this {GestureRecognizer} */\n    addMove: function(move) {\n      if (this.moves.length > TRACK_LENGTH) {\n        this.moves.shift();\n      }\n      this.moves.push(move);\n    },\n    movefn: null,\n    upfn: null,\n    prevent: false\n  },\n\n  /** @this {GestureRecognizer} */\n  reset: function() {\n    this.info.state = 'start';\n    this.info.started = false;\n    this.info.moves = [];\n    this.info.x = 0;\n    this.info.y = 0;\n    this.info.prevent = false;\n    untrackDocument(this.info);\n  },\n\n  /**\n   * @this {GestureRecognizer}\n   * @param {number} x\n   * @param {number} y\n   * @return {boolean}\n   */\n  hasMovedEnough: function(x, y) {\n    if (this.info.prevent) {\n      return false;\n    }\n    if (this.info.started) {\n      return true;\n    }\n    let dx = Math.abs(this.info.x - x);\n    let dy = Math.abs(this.info.y - y);\n    return (dx >= TRACK_DISTANCE || dy >= TRACK_DISTANCE);\n  },\n  /**\n   * @this {GestureRecognizer}\n   * @param {MouseEvent} e\n   */\n  mousedown: function(e) {\n    if (!hasLeftMouseButton(e)) {\n      return;\n    }\n    let t = _findOriginalTarget(e);\n    let self = this;\n    let movefn = function movefn(e) {\n      let x = e.clientX, y = e.clientY;\n      if (self.hasMovedEnough(x, y)) {\n        // first move is 'start', subsequent moves are 'move', mouseup is 'end'\n        self.info.state = self.info.started ? (e.type === 'mouseup' ? 'end' : 'track') : 'start';\n        if (self.info.state === 'start') {\n          // if and only if tracking, always prevent tap\n          prevent('tap');\n        }\n        self.info.addMove({x: x, y: y});\n        if (!hasLeftMouseButton(e)) {\n          // always _fire \"end\"\n          self.info.state = 'end';\n          untrackDocument(self.info);\n        }\n        self._fire(t, e);\n        self.info.started = true;\n      }\n    };\n    let upfn = function upfn(e) {\n      if (self.info.started) {\n        movefn(e);\n      }\n\n      // remove the temporary listeners\n      untrackDocument(self.info);\n    };\n    // add temporary document listeners as mouse retargets\n    trackDocument(this.info, movefn, upfn);\n    this.info.x = e.clientX;\n    this.info.y = e.clientY;\n  },\n  /**\n   * @this {GestureRecognizer}\n   * @param {TouchEvent} e\n   */\n  touchstart: function(e) {\n    let ct = e.changedTouches[0];\n    this.info.x = ct.clientX;\n    this.info.y = ct.clientY;\n  },\n  /**\n   * @this {GestureRecognizer}\n   * @param {TouchEvent} e\n   */\n  touchmove: function(e) {\n    let t = _findOriginalTarget(e);\n    let ct = e.changedTouches[0];\n    let x = ct.clientX, y = ct.clientY;\n    if (this.hasMovedEnough(x, y)) {\n      if (this.info.state === 'start') {\n        // if and only if tracking, always prevent tap\n        prevent('tap');\n      }\n      this.info.addMove({x: x, y: y});\n      this._fire(t, ct);\n      this.info.state = 'track';\n      this.info.started = true;\n    }\n  },\n  /**\n   * @this {GestureRecognizer}\n   * @param {TouchEvent} e\n   */\n  touchend: function(e) {\n    let t = _findOriginalTarget(e);\n    let ct = e.changedTouches[0];\n    // only trackend if track was started and not aborted\n    if (this.info.started) {\n      // reset started state on up\n      this.info.state = 'end';\n      this.info.addMove({x: ct.clientX, y: ct.clientY});\n      this._fire(t, ct, e);\n    }\n  },\n\n  /**\n   * @this {GestureRecognizer}\n   * @param {EventTarget} target\n   * @param {Touch} touch\n   */\n  _fire: function(target, touch) {\n    let secondlast = this.info.moves[this.info.moves.length - 2];\n    let lastmove = this.info.moves[this.info.moves.length - 1];\n    let dx = lastmove.x - this.info.x;\n    let dy = lastmove.y - this.info.y;\n    let ddx, ddy = 0;\n    if (secondlast) {\n      ddx = lastmove.x - secondlast.x;\n      ddy = lastmove.y - secondlast.y;\n    }\n    _fire(target, 'track', {\n      state: this.info.state,\n      x: touch.clientX,\n      y: touch.clientY,\n      dx: dx,\n      dy: dy,\n      ddx: ddx,\n      ddy: ddy,\n      sourceEvent: touch,\n      hover: function() {\n        return deepTargetFind(touch.clientX, touch.clientY);\n      }\n    });\n  }\n\n});\n\nregister({\n  name: 'tap',\n  deps: ['mousedown', 'click', 'touchstart', 'touchend'],\n  flow: {\n    start: ['mousedown', 'touchstart'],\n    end: ['click', 'touchend']\n  },\n  emits: ['tap'],\n  info: {\n    x: NaN,\n    y: NaN,\n    prevent: false\n  },\n  /** @this {GestureRecognizer} */\n  reset: function() {\n    this.info.x = NaN;\n    this.info.y = NaN;\n    this.info.prevent = false;\n  },\n  /** @this {GestureRecognizer} */\n  save: function(e) {\n    this.info.x = e.clientX;\n    this.info.y = e.clientY;\n  },\n  /**\n   * @this {GestureRecognizer}\n   * @param {MouseEvent} e\n   */\n  mousedown: function(e) {\n    if (hasLeftMouseButton(e)) {\n      this.save(e);\n    }\n  },\n  /**\n   * @this {GestureRecognizer}\n   * @param {MouseEvent} e\n   */\n  click: function(e) {\n    if (hasLeftMouseButton(e)) {\n      this.forward(e);\n    }\n  },\n  /**\n   * @this {GestureRecognizer}\n   * @param {TouchEvent} e\n   */\n  touchstart: function(e) {\n    this.save(e.changedTouches[0], e);\n  },\n  /**\n   * @this {GestureRecognizer}\n   * @param {TouchEvent} e\n   */\n  touchend: function(e) {\n    this.forward(e.changedTouches[0], e);\n  },\n  /**\n   * @this {GestureRecognizer}\n   * @param {Event | Touch} e\n   * @param {Event=} preventer\n   */\n  forward: function(e, preventer) {\n    let dx = Math.abs(e.clientX - this.info.x);\n    let dy = Math.abs(e.clientY - this.info.y);\n    // find original target from `preventer` for TouchEvents, or `e` for MouseEvents\n    let t = _findOriginalTarget((preventer || e));\n    // dx,dy can be NaN if `click` has been simulated and there was no `down` for `start`\n    if (isNaN(dx) || isNaN(dy) || (dx <= TAP_DISTANCE && dy <= TAP_DISTANCE) || isSyntheticClick(e)) {\n      // prevent taps from being generated if an event has canceled them\n      if (!this.info.prevent) {\n        _fire(t, 'tap', {\n          x: e.clientX,\n          y: e.clientY,\n          sourceEvent: e,\n          preventer: preventer\n        });\n      }\n    }\n  }\n});\n\nexport const findOriginalTarget = _findOriginalTarget;\nexport const add = addListener;\nexport const remove = removeListener;\n\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/@polymer/polymer/lib/utils/gestures.js","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/lodash-es/_baseGetTag.js","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/lodash-es/_root.js","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/lodash-es/_freeGlobal.js","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/lodash-es/_getRawTag.js","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/lodash-es/_objectToString.js","import overArg from './_overArg.js';\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nexport default getPrototype;\n\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/lodash-es/_getPrototype.js","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nexport default overArg;\n\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/lodash-es/_overArg.js","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/lodash-es/isObjectLike.js","module.exports = require('./lib/index');\n\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/symbol-observable/index.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _ponyfill = require('./ponyfill');\n\nvar _ponyfill2 = _interopRequireDefault(_ponyfill);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar root; /* global window */\n\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = (0, _ponyfill2['default'])(root);\nexports['default'] = result;\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/symbol-observable/lib/index.js","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// (webpack)/buildin/module.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports['default'] = symbolObservablePonyfill;\nfunction symbolObservablePonyfill(root) {\n\tvar result;\n\tvar _Symbol = root.Symbol;\n\n\tif (typeof _Symbol === 'function') {\n\t\tif (_Symbol.observable) {\n\t\t\tresult = _Symbol.observable;\n\t\t} else {\n\t\t\tresult = _Symbol('observable');\n\t\t\t_Symbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/symbol-observable/lib/ponyfill.js","import { ActionTypes } from './createStore';\nimport isPlainObject from 'lodash-es/isPlainObject';\nimport warning from './utils/warning';\n\nfunction getUndefinedStateErrorMessage(key, action) {\n  var actionType = action && action.type;\n  var actionName = actionType && '\"' + actionType.toString() + '\"' || 'an action';\n\n  return 'Given action ' + actionName + ', reducer \"' + key + '\" returned undefined. ' + 'To ignore an action, you must explicitly return the previous state. ' + 'If you want this reducer to hold no value, you can return null instead of undefined.';\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return 'The ' + argumentName + ' has unexpected type of \"' + {}.toString.call(inputState).match(/\\s([a-z|A-Z]+)/)[1] + '\". Expected argument to be an object with the following ' + ('keys: \"' + reducerKeys.join('\", \"') + '\"');\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n\n  if (unexpectedKeys.length > 0) {\n    return 'Unexpected ' + (unexpectedKeys.length > 1 ? 'keys' : 'key') + ' ' + ('\"' + unexpectedKeys.join('\", \"') + '\" found in ' + argumentName + '. ') + 'Expected to find one of the known reducer keys instead: ' + ('\"' + reducerKeys.join('\", \"') + '\". Unexpected keys will be ignored.');\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, { type: ActionTypes.INIT });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error('Reducer \"' + key + '\" returned undefined during initialization. ' + 'If the state passed to the reducer is undefined, you must ' + 'explicitly return the initial state. The initial state may ' + 'not be undefined. If you don\\'t want to set a value for this reducer, ' + 'you can use null instead of undefined.');\n    }\n\n    var type = '@@redux/PROBE_UNKNOWN_ACTION_' + Math.random().toString(36).substring(7).split('').join('.');\n    if (typeof reducer(undefined, { type: type }) === 'undefined') {\n      throw new Error('Reducer \"' + key + '\" returned undefined when probed with a random type. ' + ('Don\\'t try to handle ' + ActionTypes.INIT + ' or other actions in \"redux/*\" ') + 'namespace. They are considered private. Instead, you must return the ' + 'current state for any unknown actions, unless it is undefined, ' + 'in which case you must return the initial state, regardless of the ' + 'action type. The initial state may not be undefined, but can be null.');\n    }\n  });\n}\n\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\nexport default function combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning('No reducer provided for key \"' + key + '\"');\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n  var finalReducerKeys = Object.keys(finalReducers);\n\n  var unexpectedKeyCache = void 0;\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError = void 0;\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination() {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var action = arguments[1];\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n      if (typeof nextStateForKey === 'undefined') {\n        var errorMessage = getUndefinedStateErrorMessage(_key, action);\n        throw new Error(errorMessage);\n      }\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n    return hasChanged ? nextState : state;\n  };\n}\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/redux/es/combineReducers.js","function bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(undefined, arguments));\n  };\n}\n\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass a single function as the first argument,\n * and get a function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\nexport default function bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error('bindActionCreators expected an object or a function, instead received ' + (actionCreators === null ? 'null' : typeof actionCreators) + '. ' + 'Did you write \"import ActionCreators from\" instead of \"import * as ActionCreators from\"?');\n  }\n\n  var keys = Object.keys(actionCreators);\n  var boundActionCreators = {};\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var actionCreator = actionCreators[key];\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n  return boundActionCreators;\n}\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/redux/es/bindActionCreators.js","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nimport compose from './compose';\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\nexport default function applyMiddleware() {\n  for (var _len = arguments.length, middlewares = Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function (reducer, preloadedState, enhancer) {\n      var store = createStore(reducer, preloadedState, enhancer);\n      var _dispatch = store.dispatch;\n      var chain = [];\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch(action) {\n          return _dispatch(action);\n        }\n      };\n      chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(undefined, chain)(store.dispatch);\n\n      return _extends({}, store, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/redux/es/applyMiddleware.js","import { get } from '@polymer/polymer/lib/utils/path';\n\n/**\n * Polymer Redux\n *\n * Creates a Class mixin for decorating Elements with a given Redux store.\n *\n * @polymerMixin\n *\n * @param {Object} store Redux store.\n * @return {Function} Class mixin.\n */\nexport default function PolymerRedux (store) {\n  if (!store) {\n    throw new TypeError('PolymerRedux: expecting a redux store.');\n  } else if (!['getState', 'dispatch', 'subscribe'].every(k => typeof store[k] === 'function')) {\n    throw new TypeError('PolymerRedux: invalid store object.');\n  }\n\n  const subscribers = new Map();\n\n  /**\n   * Binds element's properties to state changes from the Redux store.\n   *\n   * @example\n   *     const update = bind(el, props) // set bindings\n   *     update(state) // manual update\n   *\n   * @private\n   * @param {HTMLElement} element\n   * @param {Object} properties\n   * @return {Function} Update function.\n   */\n  const bind = (element, properties) => {\n    const bindings = Object.keys(properties)\n      .filter(name => {\n        const property = properties[name];\n        if (Object.prototype.hasOwnProperty.call(property, 'statePath')) {\n          if (!property.readOnly && property.notify) {\n            console.warn(`PolymerRedux: <${element.constructor.is}>.${name} has \"notify\" enabled, two-way bindings goes against Redux's paradigm`);\n          }\n          return true;\n        }\n        return false;\n      });\n\n    /**\n     * Updates an element's properties with the given state.\n     *\n     * @private\n     * @param {Object} state\n     */\n    const update = state => {\n      let propertiesChanged = false;\n      bindings.forEach(name => { // Perhaps .reduce() to a boolean?\n        const {statePath} = properties[name];\n        const value = (typeof statePath === 'function')\n          ? statePath.call(element, state)\n          : get(state, statePath);\n\n        const changed = element._setPendingPropertyOrPath(name, value, true);\n        propertiesChanged = propertiesChanged || changed;\n      });\n      if (propertiesChanged) {\n        element._invalidateProperties();\n      }\n    };\n\n    // Redux listener\n    const unsubscribe = store.subscribe(() => {\n      const detail = store.getState();\n      update(detail);\n\n      element.dispatchEvent(new window.CustomEvent('state-changed', {detail}));\n    });\n\n    subscribers.set(element, unsubscribe);\n\n    return update(store.getState());\n  };\n\n  /**\n   * Unbinds an element from state changes in the Redux store.\n   *\n   * @private\n   * @param {HTMLElement} element\n   */\n  const unbind = element => {\n    const off = subscribers.get(element);\n    if (typeof off === 'function') {\n      off();\n    }\n  };\n\n  /**\n   * Merges a property's object value using the defaults way.\n   *\n   * @private\n   * @param {Object} what Initial prototype\n   * @param {String} which Property to collect.\n   * @return {Object} the collected values\n   */\n  const collect = (what, which) => {\n    let res = {};\n    while (what) {\n      res = Object.assign({}, what[which], res); // Respect prototype priority\n      what = Object.getPrototypeOf(what);\n    }\n    return res;\n  };\n\n  /**\n   * ReduxMixin\n   *\n   * @example\n   *     const ReduxMixin = PolymerRedux(store)\n   *     class Foo extends ReduxMixin(Polymer.Element) { }\n   *\n   * @polymerMixinClass\n   *\n   * @param {Polymer.Element} parent The polymer parent element.\n   * @return {Function} PolymerRedux mixed class.\n   */\n  return parent => class ReduxMixin extends parent {\n    constructor () {\n      super();\n\n      // Collect the action creators first as property changes trigger\n      // dispatches from observers, see #65, #66, #67\n      const actions = collect(this.constructor, 'actions');\n      Object.defineProperty(this, '_reduxActions', {\n        configurable: true,\n        value: actions\n      });\n    }\n\n    connectedCallback () {\n      super.connectedCallback();\n      const properties = collect(this.constructor, 'properties');\n      bind(this, properties);\n    }\n\n    disconnectedCallback () {\n      super.disconnectedCallback();\n      unbind(this);\n    }\n\n    /**\n     * Dispatches an action to the Redux store.\n     *\n     * @example\n     *     element.dispatch({ type: 'ACTION' })\n     *\n     * @example\n     *     element.dispatch('actionCreator', 'foo', 'bar')\n     *\n     * @example\n     *     element.dispatch((dispatch) => {\n     *         dispatch({ type: 'MIDDLEWARE'})\n     *     })\n     *\n     * @param  {...*} args\n     * @return {Object} The action.\n     */\n    dispatch (...args) {\n      const actions = this._reduxActions;\n\n      // Action creator\n      let [action] = args;\n      if (typeof action === 'string') {\n        if (typeof actions[action] !== 'function') {\n          throw new TypeError(`PolymerRedux: <${this.constructor.is}> invalid action creator \"${action}\"`);\n        }\n        action = actions[action](...args.slice(1));\n      }\n\n      // Proxy async dispatch\n      if (typeof action === 'function') {\n        const originalAction = action;\n        action = (...args) => {\n          // Replace redux dispatch\n          args.splice(0, 1, (...args) => {\n            return this.dispatch(...args);\n          });\n          return originalAction(...args);\n        };\n\n        // Copy props from the original action to the proxy.\n        // see https://github.com/tur-nr/polymer-redux/issues/98\n        Object.keys(originalAction).forEach(prop => {\n          action[prop] = originalAction[prop];\n        });\n      }\n\n      return store.dispatch(action);\n    }\n\n    /**\n     * Gets the current state in the Redux store.\n     *\n     * @return {*}\n     */\n    getState () {\n      return store.getState();\n    }\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/@littleq/state-manager/mixins/polymer-redux.js","import './littleq-router';\nimport './littleq-route';\n\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/@littleq/littleq-router/index.js","import { Element } from '@polymer/polymer/polymer-element';\nimport { Debouncer } from '@polymer/polymer/lib/utils/debounce';\nimport { timeOut } from '@polymer/polymer/lib/utils/async';\nimport { ReduxMixin } from '@littleq/state-manager';\nimport { customElements, alert } from 'global/window';\nimport { ROUTER_ACTION } from './lib/reducer';\nimport getAnimationEvent from './lib/get-animation-event';\nimport pathToRegexp from 'path-to-regexp';\nimport LocationMixin from '@littleq/location-mixin';\nimport QueryParamsMixin from '@littleq/query-params-mixin';\n\nclass LittleqRouter extends ReduxMixin(QueryParamsMixin(LocationMixin(Element))) {\n  static get is () { return 'littleq-router'; }\n\n  static get template () {\n    return `\n    <style>\n      ::slotted(.animated) {\n        animation-duration: 0.3s;\n        animation-fill-mode: both;\n      }\n\n      ::slotted(*) > .animated {\n        animation-duration: 1s;\n        animation-fill-mode: both;\n      }\n\n      ::slotted(.fadeOut) {\n        animation-name: fadeOut;\n      }\n\n      ::slotted(*) > .fadeOut {\n        animation-name: fadeOut;\n      }\n\n      ::slotted(.fadeIn) {\n        animation-name: fadeIn;\n      }\n\n      ::slotted(*) > .fadeIn {\n        animation-name: fadeIn;\n      }\n    </style>\n    <main role=\"main\">\n      <slot name=\"page\"></slot>\n    </main>\n    `;\n  }\n\n  static get properties () {\n    return {\n      defaultRedirect: {\n        type: String\n      },\n\n      params: {\n        type: Object,\n        statePath: 'router.params'\n      },\n\n      currentRoute: {\n        type: String,\n        statePath: 'router.route'\n      }\n    };\n  }\n\n  constructor () {\n    super();\n    this._setKeyframeStyles();\n    this._getLazyLoader();\n  }\n\n  static get observers () {\n    return [\n      '_checkPathRouteIfExists(path, currentRoute)'\n    ];\n  }\n\n  _setKeyframeStyles () {\n    const style = document.createElement('style');\n    style.id = 'littlq-router-animation-styles';\n    style.innerHTML = `\n      @keyframes fadeOut {\n        from {\n          opacity: 1;\n        }\n\n        to {\n          opacity: 0;\n        }\n      }\n\n      @keyframes fadeIn {\n        from {\n          opacity: 0;\n        }\n\n        to {\n          opacity: 1;\n        }\n      }\n    `;\n    if (!document.querySelector('#littlq-router-animation-styles')) document.head.appendChild(style);\n  }\n\n  _getLazyLoader () {\n    const lazy = this.getAttribute('lazy-loader') || 'lazy-loader';\n    this._lazyLoader = document.querySelector(lazy);\n    if (!this._lazyLoader) console.warn('will not be able to lazy load components without the lazy-loader tag. Install lazy-loader tag');\n  }\n\n  /**\n   * Check path and route if it matches. Because the matching happens in the routes\n   * themselves, it will wait for 200 milliseconds before showing the default, which\n   * is the not-found route.\n   *\n   * @param {any} path\n   * @param {any} route\n   * @memberof LittleqRouter\n   */\n  _checkPathRouteIfExists (path, route) {\n    this._debouncer = Debouncer.debounce(\n      this._debouncer,\n      timeOut.after(200),\n      () => {\n        const keys = [];\n        const re = pathToRegexp(route || '', keys);\n        const exec = re.exec(path);\n        if (!exec) {\n          this.dispatch({\n            type: ROUTER_ACTION.ROUTE,\n            route: 'not-found'\n          });\n        }\n      }\n    );\n  }\n\n  _removePageAfterTransition (oldPage, route, transition, fn) {\n    if (this._timeOut) clearTimeout(this._timeOut);\n    if (transition && fn) oldPage.removeEventListener(transition, fn);\n    if (this.contains(oldPage)) this.removeChild(oldPage);\n    this._checkMiddlewares(route);\n  }\n\n  _removePageListenerFallback (oldPage, route, transition) {\n    this._timeOut = setTimeout(() => {\n      this._removePageAfterTransition(oldPage, route, transition);\n    }, 550);\n    const fn = () => {\n      this._removePageAfterTransition(oldPage, route, transition, fn);\n    };\n    oldPage.addEventListener(transition, fn);\n  }\n\n  _removePage (oldPage, route) {\n    const animation = getAnimationEvent(oldPage);\n    oldPage.classList.remove('fadeIn');\n    !animation ? this._removePageAfterTransition(oldPage, route) : this._removePageListenerFallback(oldPage, route, animation);\n    oldPage.classList.add('animated');\n    oldPage.classList.add('fadeOut');\n  }\n\n  _getMiddlewares (parent, middlewares = []) {\n    for (let i = 0; i < parent.children.length; i++) {\n      let child = parent.children[i];\n      this._addMiddleware(!customElements.get(child.tagName.toLowerCase()) ? this._lazyLoadMiddleware(child) : this._getMiddleware(child), middlewares);\n    }\n    return parent.tagName.toLowerCase() === 'littleq-router' || !parent.parentNode ? middlewares : this._getMiddlewares(parent.parentNode, middlewares);\n  }\n\n  _addMiddleware (middleware, middlewares) {\n    if (middleware !== undefined) {\n      middleware instanceof Promise ? middlewares.push(middleware) : middlewares.push(Promise.resolve(middleware));\n    }\n  }\n\n  _getMiddleware (middleware) {\n    if (typeof middleware.middleware === 'function' && middleware.tagName.toLowerCase() !== 'littleq-route') return middleware.middleware();\n  }\n\n  _lazyLoadMiddleware (middleware) {\n    return this._lazyLoader.import(middleware.tagName.toLowerCase())\n      .then(() => {\n        return this._getMiddleware(middleware);\n      })\n      .catch(e => {\n        console.error(e);\n        alert(e.message);\n        return false;\n        // if (this.currentRoute !== 'not-found') {\n        //   this.dispatch({\n        //     type: ROUTER_ACTION.ROUTE,\n        //     route: 'not-found'\n        //   });\n        // }\n      });\n  }\n\n  _processMiddlewares (page, redirect, middlewares) {\n    middlewares.reduce((middleware, prev) => (prev && middleware && typeof middleware === 'boolean')) ? this._loadPage(page) : this._loadRedirect(redirect);\n  }\n\n  _loadRedirect (redirect) {\n    redirect ? this._loadPage(redirect) : this._loadDefaultRedirect();\n  }\n\n  _loadDefaultRedirect () {\n    const redirect = this.defaultRedirect ? document.createElement(this.defaultRedirect) : null;\n    redirect\n      ? this._loadPage(redirect)\n      : this.dispatch({\n        type: ROUTER_ACTION.ROUTE,\n        route: 'not-found'\n      });\n  }\n\n  _checkMiddlewares (route) {\n    if (this.querySelector('[slot=\"page\"]')) this.removeChild(this.querySelector('[slot=\"page\"]'));\n    const middlewares = this._getMiddlewares(route);\n    const page = document.createElement(route.page);\n    const redirect = route.redirect ? document.createElement(route.redirect) : null;\n    middlewares.length ? Promise.all(middlewares).then(this._processMiddlewares.bind(this, page, redirect)) : this._loadPage(page);\n  }\n\n  _loadPage (page) {\n    !customElements.get(page.tagName.toLowerCase()) ? this._lazyLoadPage(page) : this._showPage(page);\n  }\n\n  _lazyLoadPage (page) {\n    this._lazyLoader.import(page.tagName.toLowerCase())\n      .then(() => {\n        this._showPage(page);\n      })\n      .catch(e => {\n        if (this.currentRoute !== 'not-found') {\n          this.dispatch({\n            type: ROUTER_ACTION.ROUTE,\n            route: 'not-found'\n          });\n        }\n      });\n  }\n\n  _showPage (page) {\n    page.setAttribute('slot', 'page');\n    page.classList.add('animated');\n    page.classList.add('fadeIn');\n    this.appendChild(page);\n  }\n}\n\n!customElements.get(LittleqRouter.is)\n  ? customElements.define(LittleqRouter.is, LittleqRouter)\n  : console.warn(`${LittleqRouter.is} is already defined`);\n\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/@littleq/littleq-router/littleq-router.js","/* From Modernizr */\nexport default (el) => {\n  const animations = {\n    'animation': 'animationend',\n    'OAnimation': 'oAnimationEnd',\n    'MozAnimation': 'animationend',\n    'WebkitAnimation': 'webkitAnimationEnd'\n  };\n\n  for (var t in animations) {\n    if (el.style[t] !== undefined) {\n      return animations[t];\n    }\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/@littleq/littleq-router/lib/get-animation-event.js","import { reducers, store } from '@littleq/state-manager';\nimport { combineReducers } from 'redux';\n\nconst LOCATION_ACTION = {\n  PATH: 'LOCATION_UPDATE_PATH',\n  QUERY: 'LOCATION_UPDATE_QUERY',\n  HASH: 'LOCATION_UPDATE_HASH'\n};\n\nreducers.location = (location = {}, action) => {\n  switch (action.type) {\n    case LOCATION_ACTION.PATH:\n      return Object.assign({}, location, {\n        path: action.path\n      });\n    case LOCATION_ACTION.QUERY:\n      return Object.assign({}, location, {\n        query: action.query\n      });\n    case LOCATION_ACTION.HASH:\n      return Object.assign({}, location, {\n        hash: action.query\n      });\n    default:\n      return location;\n  }\n};\n\nstore.replaceReducer(combineReducers(reducers));\n\nexport { LOCATION_ACTION };\n\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/@littleq/location-mixin/lib/reducer.js","import { URL } from 'global/window';\nvar workingURL;\nvar urlDoc, urlBase, anchor;\n\n/**\n * @param {string} path\n * @param {string=} base\n * @return {!URL|!HTMLAnchorElement}\n */\nexport default (path, base) => {\n  if (workingURL === undefined) {\n    workingURL = false;\n    try {\n      var u = new URL('b', 'http://a');\n      u.pathname = 'c%20d';\n      workingURL = (u.href === 'http://a/c%20d');\n      workingURL = workingURL && (new URL('http://www.google.com/?foo bar').href === 'http://www.google.com/?foo%20bar');\n    } catch (e) {}\n  }\n  if (workingURL) {\n    return new URL(path, base);\n  }\n  if (!urlDoc) {\n    urlDoc = document.implementation.createHTMLDocument('url');\n    urlBase = urlDoc.createElement('base');\n    urlDoc.head.appendChild(urlBase);\n    anchor = /** @type {HTMLAnchorElement} */(urlDoc.createElement('a'));\n  }\n  urlBase.href = base;\n  anchor.href = path.replace(/ /g, '%20');\n  return anchor;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/@littleq/location-mixin/lib/resolve-url.js","import { reducers, store, ReduxMixin } from '@littleq/state-manager';\nimport { combineReducers } from 'redux';\n\nconst QUERYPARAMS_ACTION = {\n  UPDATE: 'QUERYPARAMS_UPDATE'\n};\n\nreducers.query = (query = {}, action) => {\n  switch (action.type) {\n    case QUERYPARAMS_ACTION.UPDATE:\n      return Object.assign({}, query, {\n        params: action.params\n      });\n    default:\n      return query;\n  }\n};\n\nstore.replaceReducer(combineReducers(reducers));\n\nexport { QUERYPARAMS_ACTION };\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/@littleq/query-params-mixin/lib/reducer.js","import { Element } from '@polymer/polymer/polymer-element';\nimport { ReduxMixin } from '@littleq/state-manager';\nimport LocationMixin from '@littleq/location-mixin';\nimport QueryParamsMixin from '@littleq/query-params-mixin';\nimport pathToRegexp from 'path-to-regexp';\nimport { customElements } from 'global/window';\nimport { ROUTER_ACTION } from './lib/reducer';\nimport getRoutes from './lib/get-routes';\n\nclass LittleqRoute extends ReduxMixin(QueryParamsMixin(LocationMixin(Element))) {\n  static get is () { return 'littleq-route'; }\n\n  static get properties () {\n    return {\n      page: {\n        type: String\n      },\n\n      redirect: {\n        type: String\n      },\n\n      route: {\n        type: String,\n        value: 'not-found'\n      },\n\n      params: {\n        type: Object,\n        statePath: 'router.params'\n      },\n\n      currentRoute: {\n        type: String,\n        observer: '_checkRoute',\n        statePath: 'router.route'\n      }\n    };\n  }\n\n  _processPage () {\n    let router = this;\n    do {\n      router = router.parentNode;\n    } while (router.tagName.toLowerCase() !== 'littleq-router');\n    const page = router.querySelector('[slot=\"page\"]');\n    page ? router._removePage(page, this) : router._checkMiddlewares(this);\n  }\n\n  _checkRoute (route) {\n    if (route === getRoutes(this)) this._processPage();\n  }\n\n  _routeMatches (route, exec, keys) {\n    const params = {};\n    keys.forEach((key, index) => {\n      const { name } = key;\n      params[name] = exec[index + 1] || null;\n    });\n\n    this.dispatch({\n      type: ROUTER_ACTION.PARAMS,\n      params\n    });\n\n    this.dispatch({\n      type: ROUTER_ACTION.ROUTE,\n      route\n    });\n  }\n\n  _checkIfRouteMatches (path) {\n    const route = getRoutes(this);\n    const keys = [];\n    const re = pathToRegexp(route, keys);\n    const exec = re.exec(path);\n    if (exec) this._routeMatches(route, exec, keys);\n  }\n\n  _pathChanged (path) {\n    path = path.replace(/index\\.html$/, '');\n    if (this.route) this._checkIfRouteMatches(path);\n  }\n}\n\n!customElements.get(LittleqRoute.is)\n  ? customElements.define(LittleqRoute.is, LittleqRoute)\n  : console.warn(`${LittleqRoute.is} is already defined`);\n\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/@littleq/littleq-router/littleq-route.js","const getRoutes = (el, route = '') => {\n  route = el.route + route;\n  return el.parentNode && el.parentNode.tagName.toLowerCase() === 'littleq-route' ? getRoutes(el.parentNode, route) : route;\n};\n\nexport default getRoutes;\n\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/@littleq/littleq-router/lib/get-routes.js","import '../utils/boot.js';\nimport { dedupingMixin } from '../utils/mixin.js';\nimport * as gestures$0 from '../utils/gestures.js';\n\n/**\n * @const {Polymer.Gestures}\n */\nconst gestures = gestures$0;\n\nexport const GestureEventListeners = dedupingMixin(superClass => {\n\n  /**\n   * @polymer\n   * @mixinClass\n   * @implements {Polymer_GestureEventListeners}\n   */\n  class GestureEventListeners extends superClass {\n\n    _addEventListenerToNode(node, eventName, handler) {\n      if (!gestures.addListener(node, eventName, handler)) {\n        super._addEventListenerToNode(node, eventName, handler);\n      }\n    }\n\n    _removeEventListenerFromNode(node, eventName, handler) {\n      if (!gestures.removeListener(node, eventName, handler)) {\n        super._removeEventListenerFromNode(node, eventName, handler);\n      }\n    }\n\n  }\n\n  return GestureEventListeners;\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./app/node_modules/@polymer/polymer/lib/mixins/gesture-event-listeners.js","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/css-loader/lib/css-base.js"],"sourceRoot":""}